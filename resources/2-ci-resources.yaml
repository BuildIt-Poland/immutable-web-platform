apiVersion: v1
items:
- apiVersion: v1
  kind: Namespace
  metadata:
    labels:
      kubenix/project-name: kubenix
    name: brigade
    namespace: default
- apiVersion: batch/v1beta1
  kind: CronJob
  metadata:
    labels:
      app.kubernetes.io/instance: brigade
      app.kubernetes.io/managed-by: Tiller
      app.kubernetes.io/name: brigade-brigade
      helm.sh/chart: brigade-1.1.0
      kubenix/project-name: kubenix
      role: vacuum
    name: brigade-brigade-vacuum
    namespace: brigade
  spec:
    failedJobsHistoryLimit: 10
    jobTemplate:
      spec:
        template:
          metadata:
            labels:
              app.kubernetes.io/name: brigade-brigade
              role: vacuum
          spec:
            containers:
            - env:
              - name: BRIGADE_NAMESPACE
                valueFrom:
                  fieldRef:
                    fieldPath: metadata.namespace
              - name: VACUUM_AGE
                value: 720h
              - name: VACUUM_MAX_BUILDS
                value: '-1'
              - name: VACUUM_SKIP_RUNNING_BUILDS
                value: 'false'
              image: brigadecore/brigade-vacuum:v1.1.0
              imagePullPolicy: IfNotPresent
              name: brigade-vacuum
            restartPolicy: OnFailure
            serviceAccountName: brigade-vacuum
    schedule: '@hourly'
    successfulJobsHistoryLimit: 10
- apiVersion: v1
  data:
    settings.js: 'var brigadeApiURL = ''//'' + location.host; ''http://brigade-brigade-api:7745'';

      // End'
  kind: ConfigMap
  metadata:
    labels:
      chart: kashti-0.1.1
      heritage: Tiller
      kubenix/project-name: kubenix
      release: brigade
    name: brigade-kashti-js
    namespace: brigade
- apiVersion: v1
  data:
    default.conf: "server {\n    listen       80;\n    server_name  localhost;\n\n\
      \    # Proxy to API server\n    location /v1/ {\n        proxy_pass http://brigade-brigade-api:7745/v1/;\n\
      \    }\n\n    location / {\n        root   /usr/share/nginx/html;\n        index\
      \  index.html index.htm;\n        try_files $uri $uri/ /index.html;\n    }\n\
      \    \n    error_page   500 502 503 504  /50x.html;\n    location = /50x.html\
      \ {\n        root   /usr/share/nginx/html;\n    }\n}"
  kind: ConfigMap
  metadata:
    labels:
      chart: kashti-0.1.1
      heritage: Tiller
      kubenix/project-name: kubenix
      release: brigade
    name: brigade-kashti-nginx
    namespace: brigade
- apiVersion: v1
  kind: Secret
  metadata:
    annotations:
      projectName: embracing-nix-docker-k8s-helm-knative
    labels:
      app: brigade
      chart: brigade-project-1.0.0
      component: project
      heritage: Tiller
      kubenix/project-name: kubenix
      release: embracing-nix-docker-k8s-helm-knative
    name: brigade-a2a013f22a364382e7dc23ce94145b1fcb31697724035cc4ff3624
    namespace: brigade
  stringData:
    allowHostMounts: 'false'
    allowPrivilegedJobs: 'true'
    cloneURL: git@bitbucket.org:digitalrigbitbucketteam/embracing-nix-docker-k8s-helm-knative.git
    defaultScript: "const { events, Job, Group } = require(\"brigadier\")\nconst {\
      \ NixJob, extractSecret, saveSecrets, buildNixExpression, runShellCommand }\
      \ = require('brigade-extension')\n\n// TODO prepare script\n// brig run -f pipeline/infrastructure.ts\
      \ <project_name> --ref <branch>\n\n//#Node-Selectors:  beta.kubernetes.io/os=linux\
      \ \n// this.host.nodeSelector[\"kubernetes.io/lifecycle\"] = \"spot\"\nconst\
      \ createJob = (name) =>\n  new NixJob(name)\n    .withExtraParams({\n      streamLogs:\
      \ true,\n      privileged: true,\n      shell: 'bash',\n      serviceAccount:\
      \ \"brigade-worker\"\n    })\n\n    .withTasks([\n      runShellCommand('push-k8s-resources-to-repo'),\n\
      \    ])\n\nevents.on(\"exec\", (event, project) => {\n  let test =\n    createJob(\"\
      test\")\n      .withSecrets(project.secrets)\n      .withEnvVars({\n       \
      \ BUILD_ID: event.buildID || \"missing-build-id\",\n        EVENT: JSON.stringify(event),\n\
      \      })\n  // i don't like it, not sure how to attach nodeSelector\n  // https://github.com/brigadecore/brigade/blob/master/brigade-worker/src/k8s.ts#L393\n\
      \  // test.host.name = \"spot\"\n  // test.host.os = \"linux\"\n\n  test.run()\n\
      })\n\nevents.on(\"push\", (event, project) => {\n  let test = createJob(\"test\"\
      )\n    .withSecrets(project.secrets)\n\n  test.run()\n})\n"
    genericGatewaySecret: mygenericsecret
    initGitSubmodules: 'false'
    kubernetes.allowSecretKeyRef: 'true'
    kubernetes.buildStorageClass: build-storage
    kubernetes.cacheStorageClass: cache-storage
    repository: embracing-nix-docker-k8s-helm-knative
    secrets: '{"awsRegion":"eu-west-2","cacheBucket":"future-is-comming-worker-binary-store","gitUser":"damian.baar@wipro.com","sopsSecrets":"{\n\t\"bitbucket\":
      {\n\t\t\"user\": \"ENC[AES256_GCM,data:3nI/zKGnlDywP+g=,iv:+ZVqJvRrSf22cvRgSOVOe8smx1y6FwYRAoNxMPUMwfs=,tag:B/hSNsOGgVNVLlYt2S2DGQ==,type:str]\",\n\t\t\"pass\":
      \"ENC[AES256_GCM,data:zaxX9rJB3hn62bruXcexsi9oZCs=,iv:k2y54rZTGrK2JbcgNWVYhlzTSOKw9Eh1jMInRTScosk=,tag:f6htlS2Ah3GHrLi909F/WA==,type:str]\",\n\t\t\"hook\":
      \"ENC[AES256_GCM,data:I1fddrrt4eh4WitqG/Lk6bQxTRWH+mmKwLnDCwv+nG9u97Gh,iv:ibl64jUCL1a/RtzG2hQZ7KTF0iLxxFwTclPMZiIpVnw=,tag:FcxE6cWxN6d586TeQs3QFA==,type:str]\"\n\t},\n\t\"docker\":
      {\n\t\t\"user\": \"ENC[AES256_GCM,data:Hjuv97Xp,iv:FwHG472//MwaTD0wuRl65tP0ve4WZKpF7HEqyDzmYxA=,tag:mlSfk4zt8LRhTB95i409jg==,type:str]\",\n\t\t\"pass\":
      \"ENC[AES256_GCM,data:29BcVYov,iv:aa+eoZ8ZZyXI5pEjCxzMxAVyap55ZxdpCB/S0Lv6S+o=,tag:CSQhk9W7Y8jbuMP/TGrksw==,type:str]\"\n\t},\n\t\"sops\":
      {\n\t\t\"kms\": [\n\t\t\t{\n\t\t\t\t\"arn\": \"arn:aws:kms:eu-west-2:006393696278:key/e4fb3b77-a681-4f61-a7a7-9df51d1a22c3\",\n\t\t\t\t\"created_at\":
      \"2019-05-30T08:53:28Z\",\n\t\t\t\t\"enc\": \"AQICAHjS6PwEx20O7P4yh35aJPfmzi4aw4Y6O7J374+k6zIsWgFsa5b6GS8qxZzcQr83Bf7sAAAAfjB8BgkqhkiG9w0BBwagbzBtAgEAMGgGCSqGSIb3DQEHATAeBglghkgBZQMEAS4wEQQMvwZWKpDsNI/eWmcwAgEQgDtQoEeq7UBHlW8tbt2gx65BAdO6XIw3beyBl0NJNvbW+m9QeyVbgvgFlTWWpy+vhNW4Kh0cAOCLdtI2yg==\",\n\t\t\t\t\"aws_profile\":
      \"\"\n\t\t\t}\n\t\t],\n\t\t\"gcp_kms\": null,\n\t\t\"azure_kv\": null,\n\t\t\"lastmodified\":
      \"2019-07-26T17:15:50Z\",\n\t\t\"mac\": \"ENC[AES256_GCM,data:t0ZVa/Of38MNYbQ7MHXLpfWnnvCjygOPdoS6UMgCSIPZ4Jydaq2Yh5gI9R/m526HFptswXaU74sID3vWPiPYGP3zvS1JvCaBdXkBYhug5CRopgQefCOpKtZJ8LL4/yGpSyM1sbeGAhM+55P5ouYDApqrzFX/SqXcNEGAE4MtX+s=,iv:Za4u0weobiHpE1ZalkAfWy5pJxDDVXBGrxg3UL5y1lA=,tag:KJmSuUzKtV0uLs66zT3X7g==,type:str]\",\n\t\t\"pgp\":
      null,\n\t\t\"unencrypted_suffix\": \"_unencrypted\",\n\t\t\"version\": \"3.3.1\"\n\t}\n}","workerDockerImage":"006393696278.dkr.ecr.eu-west-2.amazonaws.com/future-is-comming-cluster:remote-worker-db796a4c03c500a288f05f9359fe23622a79642c"}'
    sharedSecret: ''
    vcsSidecar: brigadecore/git-sidecar:latest
    worker.name: future-is-comming-cluster
    worker.pullPolicy: IfNotPresent
    worker.registry: 006393696278.dkr.ecr.eu-west-2.amazonaws.com
    worker.tag: brigade-worker-db796a4c03c500a288f05f9359fe23622a79642c
    workerCommand: yarn build-start
  type: brigade.sh/project
- apiVersion: v1
  kind: Service
  metadata:
    labels:
      chart: brigade-bitbucket-gateway-0.13.0
      heritage: Tiller
      kubenix/project-name: kubenix
      release: brigade-bitbucket-gateway
      role: gateway
      type: bitbucket
    name: brigade-bitbucket-gateway-brigade-bitbucket-gateway
    namespace: brigade
  spec:
    ports:
    - name: service
      port: 7748
      protocol: TCP
      targetPort: 7748
    selector:
      app: brigade-bitbucket-gateway-brigade-bitbucket-gateway
      role: gateway
      type: bitbucket
    type: NodePort
- apiVersion: v1
  kind: Service
  metadata:
    labels:
      app.kubernetes.io/instance: brigade
      app.kubernetes.io/managed-by: Tiller
      helm.sh/chart: brigade-1.1.0
      kubenix/project-name: kubenix
      role: api
    name: brigade-brigade-api
    namespace: brigade
  spec:
    ports:
    - name: brigade-api
      port: 7745
      protocol: TCP
      targetPort: 7745
    selector:
      app.kubernetes.io/name: brigade-brigade-api
    type: ClusterIP
- apiVersion: v1
  kind: Service
  metadata:
    labels:
      app: kashti
      chart: kashti-0.1.1
      heritage: Tiller
      kubenix/project-name: kubenix
      release: brigade
    name: brigade-kashti
    namespace: brigade
  spec:
    ports:
    - name: kashti
      port: 80
      protocol: TCP
      targetPort: 80
    selector:
      app: kashti
      release: brigade
    type: ClusterIP
- apiVersion: v1
  kind: ServiceAccount
  metadata:
    labels:
      app: brigade-bitbucket-gateway-brigade-bitbucket-gateway
      chart: brigade-bitbucket-gateway-0.13.0
      heritage: Tiller
      kubenix/project-name: kubenix
      release: brigade-bitbucket-gateway
    name: brigade-bitbucket-gateway-brigade-bitbucket-gateway
    namespace: brigade
- apiVersion: v1
  kind: ServiceAccount
  metadata:
    labels:
      app.kubernetes.io/instance: brigade
      app.kubernetes.io/managed-by: Tiller
      app.kubernetes.io/name: brigade-brigade
      helm.sh/chart: brigade-1.1.0
      kubenix/project-name: kubenix
    name: brigade-brigade-api
    namespace: brigade
- apiVersion: v1
  kind: ServiceAccount
  metadata:
    labels:
      app.kubernetes.io/instance: brigade
      app.kubernetes.io/managed-by: Tiller
      app.kubernetes.io/name: brigade-brigade
      helm.sh/chart: brigade-1.1.0
      kubenix/project-name: kubenix
    name: brigade-brigade-ctrl
    namespace: brigade
- apiVersion: v1
  kind: ServiceAccount
  metadata:
    labels:
      app.kubernetes.io/instance: brigade
      app.kubernetes.io/managed-by: Tiller
      app.kubernetes.io/name: brigade-brigade
      helm.sh/chart: brigade-1.1.0
      kubenix/project-name: kubenix
    name: brigade-vacuum
    namespace: brigade
- apiVersion: v1
  kind: ServiceAccount
  metadata:
    labels:
      app.kubernetes.io/instance: brigade
      app.kubernetes.io/managed-by: Tiller
      app.kubernetes.io/name: brigade-brigade
      helm.sh/chart: brigade-1.1.0
      kubenix/project-name: kubenix
    name: brigade-worker
    namespace: brigade
- apiVersion: extensions/v1beta1
  kind: Deployment
  metadata:
    labels:
      app: brigade-bitbucket-gateway-brigade-bitbucket-gateway
      chart: brigade-bitbucket-gateway-0.13.0
      heritage: Tiller
      kubenix/project-name: kubenix
      release: brigade-bitbucket-gateway
      role: gateway
      type: bitbucket
    name: brigade-bitbucket-gateway-brigade-bitbucket-gateway
    namespace: brigade
  spec:
    replicas: 1
    template:
      metadata:
        labels:
          app: brigade-bitbucket-gateway-brigade-bitbucket-gateway
          role: gateway
          type: bitbucket
      spec:
        containers:
        - env:
          - name: BRIGADE_NAMESPACE
            valueFrom:
              fieldRef:
                fieldPath: metadata.namespace
          - name: BRIGADE_bitbucket_GATEWAY_PORT
            value: '7748'
          image: lukepatrick/brigade-bitbucket-gateway:v0.13.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            initialDelaySeconds: 5
            periodSeconds: 10
            tcpSocket:
              port: 7748
          name: brigade-bitbucket-gateway
          ports:
          - containerPort: 7748
          readinessProbe:
            initialDelaySeconds: 5
            periodSeconds: 10
            tcpSocket:
              port: 7748
        serviceAccountName: brigade-bitbucket-gateway-brigade-bitbucket-gateway
- apiVersion: extensions/v1beta1
  kind: Deployment
  metadata:
    labels:
      app.kubernetes.io/instance: brigade
      app.kubernetes.io/managed-by: Tiller
      app.kubernetes.io/name: brigade-brigade-api
      helm.sh/chart: brigade-1.1.0
      kubenix/project-name: kubenix
      role: api
    name: brigade-brigade-api
    namespace: brigade
  spec:
    replicas: 1
    template:
      metadata:
        labels:
          app: brigade-brigade-api
          app.kubernetes.io/name: brigade-brigade-api
          role: api
      spec:
        containers:
        - env:
          - name: BRIGADE_API_PORT
            value: '7745'
          - name: BRIGADE_NAMESPACE
            valueFrom:
              fieldRef:
                fieldPath: metadata.namespace
          image: brigadecore/brigade-api:v1.1.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            httpGet:
              path: /healthz
              port: 7745
          name: brigade
          ports:
          - containerPort: 7745
          readinessProbe:
            httpGet:
              path: /healthz
              port: 7745
        serviceAccountName: brigade-brigade-api
- apiVersion: extensions/v1beta1
  kind: Deployment
  metadata:
    labels:
      app.kubernetes.io/instance: brigade
      app.kubernetes.io/managed-by: Tiller
      app.kubernetes.io/name: brigade-brigade-ctrl
      helm.sh/chart: brigade-1.1.0
      kubenix/project-name: kubenix
      role: controller
    name: brigade-brigade-ctrl
    namespace: brigade
  spec:
    replicas: 1
    template:
      metadata:
        labels:
          app: brigade-brigade-ctrl
          app.kubernetes.io/name: brigade-brigade-ctrl
          role: controller
      spec:
        containers:
        - command:
          - /usr/bin/brigade-controller
          env:
          - name: BRIGADE_NAMESPACE
            valueFrom:
              fieldRef:
                fieldPath: metadata.namespace
          - name: BRIGADE_WORKER_IMAGE
            value: brigadecore/brigade-worker:v1.1.0
          - name: BRIGADE_WORKER_PULL_POLICY
            value: IfNotPresent
          - name: BRIGADE_WORKER_SERVICE_ACCOUNT
            value: brigade-worker
          image: brigadecore/brigade-controller:v1.1.0
          imagePullPolicy: IfNotPresent
          name: brigade
        serviceAccountName: brigade-brigade-ctrl
- apiVersion: extensions/v1beta1
  kind: Deployment
  metadata:
    labels:
      app: kashti
      chart: kashti-0.1.1
      heritage: Tiller
      kubenix/project-name: kubenix
      release: brigade
    name: brigade-kashti
    namespace: brigade
  spec:
    replicas: 1
    template:
      metadata:
        annotations:
          checksum/config-js: 9cde6c482cde51f90bedd39f3e0ff4c2b2efb8bb4b9371d40d524d43e9177c75
          checksum/config-nginx: bbee88e5bed89e1b1e9a49db9acae7fe7feeeb4dfe59b9690bd7e54287dcd6b9
        labels:
          app: kashti
          release: brigade
      spec:
        containers:
        - image: brigadecore/kashti:latest
          imagePullPolicy: IfNotPresent
          livenessProbe:
            httpGet:
              path: /
              port: 80
          name: kashti
          ports:
          - containerPort: 80
          readinessProbe:
            httpGet:
              path: /
              port: 80
          resources: {}
          volumeMounts:
          - mountPath: /etc/nginx/conf.d
            name: config-nginx
          - mountPath: /usr/share/nginx/html/assets/js/settings
            name: config-js
        volumes:
        - configMap:
            name: brigade-kashti-js
          name: config-js
        - configMap:
            name: brigade-kashti-nginx
          name: config-nginx
- apiVersion: rbac.authorization.k8s.io/v1beta1
  kind: Role
  metadata:
    labels:
      app: brigade-bitbucket-gateway-brigade-bitbucket-gateway
      chart: brigade-bitbucket-gateway-0.13.0
      heritage: Tiller
      kubenix/project-name: kubenix
      release: brigade-bitbucket-gateway
    name: brigade-bitbucket-gateway-brigade-bitbucket-gateway
    namespace: brigade
  rules:
  - apiGroups:
    - ''
    resources:
    - secrets
    verbs:
    - get
    - list
    - watch
    - create
    - update
    - patch
    - delete
  - apiGroups:
    - ''
    resources:
    - pods
    verbs:
    - list
    - watch
- apiVersion: rbac.authorization.k8s.io/v1beta1
  kind: Role
  metadata:
    labels:
      app.kubernetes.io/instance: brigade
      app.kubernetes.io/managed-by: Tiller
      app.kubernetes.io/name: brigade-brigade
      helm.sh/chart: brigade-1.1.0
      kubenix/project-name: kubenix
    name: brigade-brigade-api
    namespace: brigade
  rules:
  - apiGroups:
    - ''
    resources:
    - pods
    - secrets
    - pods/log
    verbs:
    - get
    - list
    - watch
- apiVersion: rbac.authorization.k8s.io/v1beta1
  kind: Role
  metadata:
    labels:
      app.kubernetes.io/instance: brigade
      app.kubernetes.io/managed-by: Tiller
      app.kubernetes.io/name: brigade-brigade
      helm.sh/chart: brigade-1.1.0
      kubenix/project-name: kubenix
    name: brigade-brigade-ctrl
    namespace: brigade
  rules:
  - apiGroups:
    - ''
    resources:
    - pods
    - secrets
    - configmaps
    verbs:
    - get
    - list
    - watch
    - create
    - update
    - patch
    - delete
- apiVersion: rbac.authorization.k8s.io/v1beta1
  kind: Role
  metadata:
    labels:
      app.kubernetes.io/instance: brigade
      app.kubernetes.io/managed-by: Tiller
      app.kubernetes.io/name: brigade-brigade
      helm.sh/chart: brigade-1.1.0
      kubenix/project-name: kubenix
    name: brigade-brigade-vacuum
    namespace: brigade
  rules:
  - apiGroups:
    - ''
    resources:
    - pods
    - secrets
    - persistentvolumeclaims
    verbs:
    - get
    - list
    - watch
    - delete
  - apiGroups:
    - ''
    resources:
    - pods/log
    verbs:
    - get
    - list
    - watch
- apiVersion: rbac.authorization.k8s.io/v1beta1
  kind: Role
  metadata:
    labels:
      app.kubernetes.io/instance: brigade
      app.kubernetes.io/managed-by: Tiller
      app.kubernetes.io/name: brigade-brigade
      helm.sh/chart: brigade-1.1.0
      kubenix/project-name: kubenix
    name: brigade-brigade-wrk
    namespace: brigade
  rules:
  - apiGroups:
    - ''
    resources:
    - pods
    - secrets
    - persistentvolumeclaims
    - configmaps
    verbs:
    - get
    - list
    - watch
    - create
    - update
    - patch
    - delete
  - apiGroups:
    - ''
    resources:
    - pods/log
    verbs:
    - get
    - list
    - watch
- apiVersion: rbac.authorization.k8s.io/v1beta1
  kind: RoleBinding
  metadata:
    labels:
      app: brigade-bitbucket-gateway-brigade-bitbucket-gateway
      chart: brigade-bitbucket-gateway-0.13.0
      heritage: Tiller
      kubenix/project-name: kubenix
      release: brigade-bitbucket-gateway
    name: brigade-bitbucket-gateway-brigade-bitbucket-gateway
    namespace: brigade
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: Role
    name: brigade-bitbucket-gateway-brigade-bitbucket-gateway
  subjects:
  - kind: ServiceAccount
    name: brigade-bitbucket-gateway-brigade-bitbucket-gateway
- apiVersion: rbac.authorization.k8s.io/v1beta1
  kind: RoleBinding
  metadata:
    labels:
      app.kubernetes.io/instance: brigade
      app.kubernetes.io/managed-by: Tiller
      app.kubernetes.io/name: brigade-brigade
      helm.sh/chart: brigade-1.1.0
      kubenix/project-name: kubenix
    name: brigade-brigade-api
    namespace: brigade
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: Role
    name: brigade-brigade-api
  subjects:
  - kind: ServiceAccount
    name: brigade-brigade-api
- apiVersion: rbac.authorization.k8s.io/v1beta1
  kind: RoleBinding
  metadata:
    labels:
      app.kubernetes.io/instance: brigade
      app.kubernetes.io/managed-by: Tiller
      app.kubernetes.io/name: brigade-brigade
      helm.sh/chart: brigade-1.1.0
      kubenix/project-name: kubenix
    name: brigade-brigade-ctrl
    namespace: brigade
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: Role
    name: brigade-brigade-ctrl
  subjects:
  - kind: ServiceAccount
    name: brigade-brigade-ctrl
- apiVersion: rbac.authorization.k8s.io/v1beta1
  kind: RoleBinding
  metadata:
    labels:
      app.kubernetes.io/instance: brigade
      app.kubernetes.io/managed-by: Tiller
      app.kubernetes.io/name: brigade-brigade
      helm.sh/chart: brigade-1.1.0
      kubenix/project-name: kubenix
    name: brigade-brigade-vacuum
    namespace: brigade
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: Role
    name: brigade-brigade-vacuum
  subjects:
  - kind: ServiceAccount
    name: brigade-vacuum
- apiVersion: rbac.authorization.k8s.io/v1beta1
  kind: RoleBinding
  metadata:
    labels:
      app.kubernetes.io/instance: brigade
      app.kubernetes.io/managed-by: Tiller
      app.kubernetes.io/name: brigade-brigade
      helm.sh/chart: brigade-1.1.0
      kubenix/project-name: kubenix
    name: brigade-brigade-wrk
    namespace: brigade
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: Role
    name: brigade-brigade-wrk
  subjects:
  - kind: ServiceAccount
    name: brigade-worker
- apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRoleBinding
  metadata:
    labels:
      kubenix/project-name: kubenix
    name: brigade-admin-privileges
    namespace: default
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: ClusterRole
    name: cluster-admin
  subjects:
  - kind: ServiceAccount
    name: brigade-worker
    namespace: brigade
- apiVersion: storage.k8s.io/v1
  kind: StorageClass
  metadata:
    annotations:
      storageclass.beta.kubernetes.io/is-default-class: 'false'
    labels:
      addonmanager.kubernetes.io/mode: EnsureExists
      kubenix/project-name: kubenix
    name: build-storage
    namespace: brigade
  provisioner: kubernetes.io/aws-efs
- apiVersion: storage.k8s.io/v1
  kind: StorageClass
  metadata:
    annotations:
      storageclass.beta.kubernetes.io/is-default-class: 'false'
    labels:
      addonmanager.kubernetes.io/mode: EnsureExists
      kubenix/project-name: kubenix
    name: cache-storage
    namespace: brigade
  provisioner: kubernetes.io/aws-efs
kind: List
labels:
