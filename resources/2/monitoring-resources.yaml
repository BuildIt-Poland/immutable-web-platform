apiVersion: v1
items:
- apiVersion: v1
  kind: Namespace
  metadata:
    labels:
      kubenix/project-name: kubenix
    name: knative-monitoring
    namespace: default
- apiVersion: apps/v1beta1
  kind: Deployment
  metadata:
    annotations:
      cloud.weave.works/launcher-info: "{\n  \"server-version\": \"master-4fe8efe\"\
        ,\n  \"original-request\": {\n    \"url\": \"/k8s/v1.7/scope.yaml\"\n  },\n\
        \  \"email-address\": \"support@weave.works\",\n  \"source-app\": \"weave-scope\"\
        ,\n  \"weave-cloud-component\": \"scope\"\n}"
    labels:
      app: weave-scope
      chart: weave-scope-frontend-1.1.2
      component: frontend
      heritage: Tiller
      kubenix/project-name: kubenix
      release: weave-scope
    name: weave-scope-frontend-weave-scope
    namespace: istio-system
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: weave-scope
        component: frontend
        release: weave-scope
    template:
      metadata:
        labels:
          app: weave-scope
          chart: weave-scope-frontend-1.1.2
          component: frontend
          heritage: Tiller
          release: weave-scope
      spec:
        containers:
        - args:
          - --no-probe
          image: weaveworks/scope:1.11.2
          imagePullPolicy: IfNotPresent
          name: weave-scope-frontend
          ports:
          - containerPort: 4040
            name: http
            protocol: TCP
- apiVersion: v1
  data:
    run.sh: "\n@test \"Testing Weave Scope UI is accessible\" {\n  curl --retry 12\
      \ --retry-delay 10 http://weave-scope-app.istio-system.svc:80\n}"
  kind: ConfigMap
  metadata:
    labels:
      app: weave-scope
      chart: weave-scope-1.1.2
      heritage: Tiller
      kubenix/project-name: kubenix
      release: weave-scope
    name: weave-scope-weave-scope-tests
    namespace: istio-system
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      helm.sh/hook: test-success
    labels:
      app: weave-scope
      chart: weave-scope-1.1.2
      heritage: Tiller
      kubenix/project-name: kubenix
      release: weave-scope
    name: weave-scope-ui-test-dsmoe
    namespace: istio-system
  spec:
    containers:
    - command:
      - /tools/bats/bats
      - -t
      - /tests/run.sh
      image: dduportal/bats:0.4.0
      name: weave-scope-ui-test
      volumeMounts:
      - mountPath: /tests
        name: tests
        readOnly: true
      - mountPath: /tools
        name: tools
    initContainers:
    - command:
      - bash
      - -c
      - 'set -ex

        # copy bats to tools dir

        cp -R /usr/local/libexec/ /tools/bats/

        '
      image: dduportal/bats:0.4.0
      name: test-framework
      volumeMounts:
      - mountPath: /tools
        name: tools
    restartPolicy: Never
    volumes:
    - configMap:
        name: weave-scope-weave-scope-tests
      name: tests
    - emptyDir: {}
      name: tools
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      cloud.weave.works/launcher-info: "{\n  \"server-version\": \"master-4fe8efe\"\
        ,\n  \"original-request\": {\n    \"url\": \"/k8s/v1.7/scope.yaml\"\n  },\n\
        \  \"email-address\": \"support@weave.works\",\n  \"source-app\": \"weave-scope\"\
        ,\n  \"weave-cloud-component\": \"scope\"\n}"
    labels:
      app: weave-scope
      chart: weave-scope-frontend-1.1.2
      component: frontend
      heritage: Tiller
      kubenix/project-name: kubenix
      release: weave-scope
    name: weave-scope-app
    namespace: istio-system
  spec:
    ports:
    - name: http
      port: 80
      protocol: TCP
      targetPort: http
    selector:
      app: weave-scope
      component: frontend
      release: weave-scope
    type: ClusterIP
- apiVersion: v1
  kind: ServiceAccount
  metadata:
    annotations:
      cloud.weave.works/launcher-info: "{\n  \"server-version\": \"master-4fe8efe\"\
        ,\n  \"original-request\": {\n    \"url\": \"/k8s/v1.7/scope.yaml\"\n  },\n\
        \  \"email-address\": \"support@weave.works\",\n  \"source-app\": \"weave-scope\"\
        ,\n  \"weave-cloud-component\": \"scope\"\n}"
    labels:
      app: weave-scope
      chart: weave-scope-agent-1.1.2
      component: agent
      heritage: Tiller
      kubenix/project-name: kubenix
      release: weave-scope
    name: weave-scope-agent-weave-scope
    namespace: istio-system
- apiVersion: extensions/v1beta1
  kind: DaemonSet
  metadata:
    annotations:
      cloud.weave.works/launcher-info: "{\n  \"server-version\": \"master-4fe8efe\"\
        ,\n  \"original-request\": {\n    \"url\": \"/k8s/v1.7/scope.yaml\"\n  },\n\
        \  \"email-address\": \"support@weave.works\",\n  \"source-app\": \"weave-scope\"\
        ,\n  \"weave-cloud-component\": \"scope\"\n}"
    labels:
      app: weave-scope
      chart: weave-scope-agent-1.1.2
      component: agent
      heritage: Tiller
      kubenix/project-name: kubenix
      release: weave-scope
    name: weave-scope-agent-weave-scope
    namespace: istio-system
  spec:
    selector:
      matchLabels:
        app: weave-scope
        component: agent
        release: weave-scope
    template:
      metadata:
        labels:
          app: weave-scope
          chart: weave-scope-agent-1.1.2
          component: agent
          heritage: Tiller
          release: weave-scope
      spec:
        containers:
        - args:
          - --no-app
          - --probe.docker.bridge=docker0
          - --probe.docker=true
          - --probe.kubernetes=true
          - weave-scope-app.istio-system.svc:80
          image: weaveworks/scope:1.11.2
          imagePullPolicy: IfNotPresent
          name: weave-scope-agent
          securityContext:
            privileged: true
          volumeMounts:
          - mountPath: /sys/kernel/debug
            name: sys-kernel-debug
          - mountPath: /var/run/docker.sock
            name: docker-socket
          - mountPath: /var/run/scope/plugins
            name: scope-plugins
        dnsPolicy: ClusterFirstWithHostNet
        hostNetwork: true
        hostPID: true
        serviceAccountName: weave-scope-agent-weave-scope
        tolerations:
        - effect: NoSchedule
          operator: Exists
        volumes:
        - hostPath:
            path: /var/run/docker.sock
          name: docker-socket
        - hostPath:
            path: /var/run/scope/plugins
          name: scope-plugins
        - hostPath:
            path: /sys/kernel/debug
          name: sys-kernel-debug
    updateStrategy:
      type: RollingUpdate
- apiVersion: rbac.authorization.k8s.io/v1beta1
  kind: ClusterRole
  metadata:
    annotations:
      cloud.weave.works/launcher-info: "{\n  \"server-version\": \"master-4fe8efe\"\
        ,\n  \"original-request\": {\n    \"url\": \"/k8s/v1.7/scope.yaml\"\n  },\n\
        \  \"email-address\": \"support@weave.works\",\n  \"source-app\": \"weave-scope\"\
        ,\n  \"weave-cloud-component\": \"scope\"\n}"
    labels:
      app: weave-scope
      chart: weave-scope-agent-1.1.2
      component: agent
      heritage: Tiller
      kubenix/project-name: kubenix
      release: weave-scope
    name: weave-scope-agent-weave-scope
    namespace: istio-system
  rules:
  - apiGroups:
    - '*'
    resources:
    - '*'
    verbs:
    - '*'
  - nonResourceURLs:
    - '*'
    verbs:
    - '*'
- apiVersion: rbac.authorization.k8s.io/v1beta1
  kind: ClusterRoleBinding
  metadata:
    annotations:
      cloud.weave.works/launcher-info: "{\n  \"server-version\": \"master-4fe8efe\"\
        ,\n  \"original-request\": {\n    \"url\": \"/k8s/v1.7/scope.yaml\"\n  },\n\
        \  \"email-address\": \"support@weave.works\",\n  \"source-app\": \"weave-scope\"\
        ,\n  \"weave-cloud-component\": \"scope\"\n}"
    labels:
      app: weave-scope
      chart: weave-scope-agent-1.1.2
      component: agent
      heritage: Tiller
      kubenix/project-name: kubenix
      release: weave-scope
    name: weave-scope-weave-scope
    namespace: istio-system
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: ClusterRole
    name: weave-scope-agent-weave-scope
  subjects:
  - kind: ServiceAccount
    name: weave-scope-agent-weave-scope
    namespace: istio-system
- apiVersion: v1
  kind: Namespace
  metadata:
    labels:
      serving.knative.dev/release: v0.8.0
    name: knative-monitoring
- apiVersion: v1
  kind: Service
  metadata:
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: elasticsearch-logging
      kubernetes.io/cluster-service: 'true'
      kubernetes.io/name: Elasticsearch
    name: elasticsearch-logging
    namespace: knative-monitoring
  spec:
    ports:
    - port: 9200
      protocol: TCP
      targetPort: db
    selector:
      app: elasticsearch-logging
- apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRole
  metadata:
    labels:
      app: fluentd-ds
      serving.knative.dev/release: v0.8.0
    name: fluentd-ds
  rules:
  - apiGroups:
    - ''
    resources:
    - namespaces
    - pods
    verbs:
    - get
    - watch
    - list
- apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRoleBinding
  metadata:
    labels:
      app: fluentd-ds
      serving.knative.dev/release: v0.8.0
    name: fluentd-ds
  roleRef:
    apiGroup: ''
    kind: ClusterRole
    name: fluentd-ds
  subjects:
  - apiGroup: ''
    kind: ServiceAccount
    name: fluentd-ds
    namespace: knative-monitoring
- apiVersion: v1
  kind: Service
  metadata:
    labels:
      app: fluentd-ds
      serving.knative.dev/release: v0.8.0
    name: fluentd-ds
    namespace: knative-monitoring
  spec:
    ports:
    - name: fluentd-tcp
      port: 24224
      protocol: TCP
      targetPort: 24224
    - name: fluentd-udp
      port: 24224
      protocol: UDP
      targetPort: 24224
    selector:
      app: fluentd-ds
- apiVersion: apps/v1
  kind: DaemonSet
  metadata:
    labels:
      app: fluentd-ds
      serving.knative.dev/release: v0.8.0
      version: v2.0.4
    name: fluentd-ds
    namespace: knative-monitoring
  spec:
    selector:
      matchLabels:
        app: fluentd-ds
        version: v2.0.4
    template:
      metadata:
        annotations:
          scheduler.alpha.kubernetes.io/critical-pod: ''
        labels:
          app: fluentd-ds
          serving.knative.dev/release: v0.8.0
          version: v2.0.4
      spec:
        containers:
        - env:
          - name: FLUENTD_ARGS
            value: --no-supervisor -q
          image: k8s.gcr.io/fluentd-elasticsearch:v2.0.4
          name: fluentd-ds
          resources:
            limits:
              memory: 500Mi
            requests:
              cpu: 100m
              memory: 200Mi
          volumeMounts:
          - mountPath: /var/log/containers
            name: varlogcontainers
            readOnly: true
          - mountPath: /var/log/pods
            name: varlogpods
            readOnly: true
          - mountPath: /var/lib/docker/containers
            name: varlibdockercontainers
            readOnly: true
          - mountPath: /var/lib/kubelet/pods
            name: varlibkubeletpods
            readOnly: true
          - mountPath: /host/lib
            name: libsystemddir
            readOnly: true
          - mountPath: /etc/fluent/config.d
            name: config-volume
        nodeSelector:
          beta.kubernetes.io/fluentd-ds-ready: 'true'
        serviceAccountName: fluentd-ds
        terminationGracePeriodSeconds: 30
        volumes:
        - hostPath:
            path: /var/log/containers
          name: varlogcontainers
        - hostPath:
            path: /var/log/pods
          name: varlogpods
        - hostPath:
            path: /var/lib/docker/containers
          name: varlibdockercontainers
        - hostPath:
            path: /var/lib/kubelet/pods
          name: varlibkubeletpods
        - hostPath:
            path: /usr/lib64
          name: libsystemddir
        - configMap:
            name: fluentd-ds-config
          name: config-volume
- apiVersion: v1
  kind: ServiceAccount
  metadata:
    labels:
    name: kube-state-metrics
    namespace: knative-monitoring
- apiVersion: rbac.authorization.k8s.io/v1beta1
  kind: Role
  metadata:
    labels:
    name: kube-state-metrics-resizer
    namespace: knative-monitoring
  rules:
  - apiGroups:
    - ''
    resources:
    - pods
    verbs:
    - get
  - apiGroups:
    - extensions
    resourceNames:
    - kube-state-metrics
    resources:
    - deployments
    verbs:
    - get
    - update
- apiVersion: rbac.authorization.k8s.io/v1beta1
  kind: RoleBinding
  metadata:
    labels:
    name: kube-state-metrics
    namespace: knative-monitoring
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: Role
    name: kube-state-metrics-resizer
  subjects:
  - kind: ServiceAccount
    name: kube-state-metrics
    namespace: knative-monitoring
- apiVersion: rbac.authorization.k8s.io/v1beta1
  kind: ClusterRole
  metadata:
    labels:
    name: kube-state-metrics
    namespace: knative-monitoring
  rules:
  - apiGroups:
    - ''
    resources:
    - configmaps
    - secrets
    - nodes
    - pods
    - services
    - resourcequotas
    - replicationcontrollers
    - limitranges
    - persistentvolumeclaims
    - persistentvolumes
    - namespaces
    - endpoints
    verbs:
    - list
    - watch
  - apiGroups:
    - extensions
    resources:
    - daemonsets
    - deployments
    - replicasets
    verbs:
    - list
    - watch
  - apiGroups:
    - apps
    resources:
    - statefulsets
    verbs:
    - list
    - watch
  - apiGroups:
    - batch
    resources:
    - cronjobs
    - jobs
    verbs:
    - list
    - watch
  - apiGroups:
    - autoscaling
    resources:
    - horizontalpodautoscalers
    verbs:
    - list
    - watch
  - apiGroups:
    - authentication.k8s.io
    resources:
    - tokenreviews
    verbs:
    - create
  - apiGroups:
    - authorization.k8s.io
    resources:
    - subjectaccessreviews
    verbs:
    - create
- apiVersion: rbac.authorization.k8s.io/v1beta1
  kind: ClusterRoleBinding
  metadata:
    labels:
    name: kube-state-metrics
    namespace: knative-monitoring
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: ClusterRole
    name: kube-state-metrics
  subjects:
  - kind: ServiceAccount
    name: kube-state-metrics
    namespace: knative-monitoring
- apiVersion: extensions/v1beta1
  kind: Deployment
  metadata:
    labels:
    name: kube-state-metrics
    namespace: knative-monitoring
  spec:
    replicas: 1
    template:
      metadata:
        labels:
          app: kube-state-metrics
      spec:
        containers:
        - args:
          - --secure-listen-address=:8443
          - --upstream=http://127.0.0.1:8081/
          image: quay.io/coreos/kube-rbac-proxy:v0.3.0
          name: kube-rbac-proxy-main
          ports:
          - containerPort: 8443
            name: https-main
          resources:
            limits:
              cpu: 20m
              memory: 40Mi
            requests:
              cpu: 10m
              memory: 20Mi
        - args:
          - --secure-listen-address=:9443
          - --upstream=http://127.0.0.1:8082/
          image: quay.io/coreos/kube-rbac-proxy:v0.3.0
          name: kube-rbac-proxy-self
          ports:
          - containerPort: 9443
            name: https-self
          resources:
            limits:
              cpu: 20m
              memory: 40Mi
            requests:
              cpu: 10m
              memory: 20Mi
        - args:
          - --host=127.0.0.1
          - --port=8081
          - --telemetry-host=127.0.0.1
          - --telemetry-port=8082
          image: quay.io/coreos/kube-state-metrics:v1.3.0
          name: kube-state-metrics
        - command:
          - /pod_nanny
          - --container=kube-state-metrics
          - --cpu=100m
          - --extra-cpu=1m
          - --memory=100Mi
          - --extra-memory=2Mi
          - --threshold=5
          - --deployment=kube-state-metrics
          env:
          - name: MY_POD_NAME
            valueFrom:
              fieldRef:
                fieldPath: metadata.name
          - name: MY_POD_NAMESPACE
            valueFrom:
              fieldRef:
                fieldPath: metadata.namespace
          image: k8s.gcr.io/addon-resizer:1.7
          name: addon-resizer
          resources:
            limits:
              cpu: 100m
              memory: 30Mi
            requests:
              cpu: 100m
              memory: 30Mi
        securityContext:
          runAsNonRoot: true
          runAsUser: 65534
        serviceAccountName: kube-state-metrics
- apiVersion: v1
  kind: ServiceAccount
  metadata:
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: elasticsearch-logging
      kubernetes.io/cluster-service: 'true'
    name: elasticsearch-logging
    namespace: knative-monitoring
- apiVersion: v1
  kind: Service
  metadata:
    labels:
      app: kube-state-metrics
    name: kube-state-metrics
    namespace: knative-monitoring
  spec:
    clusterIP: None
    ports:
    - name: https-main
      port: 8443
      protocol: TCP
      targetPort: https-main
    - name: https-self
      port: 9443
      protocol: TCP
      targetPort: https-self
    selector:
      app: kube-state-metrics
- apiVersion: v1
  data:
    kubernetes-deployment-dashboard.json: "{\n  \"__inputs\": [\n    {\n      \"description\"\
      : \"\",\n      \"label\": \"prometheus\",\n      \"name\": \"prometheus\",\n\
      \      \"pluginId\": \"prometheus\",\n      \"pluginName\": \"Prometheus\",\n\
      \      \"type\": \"datasource\"\n    }\n  ],\n  \"annotations\": {\n    \"list\"\
      : []\n  },\n  \"editable\": false,\n  \"gnetId\": null,\n  \"graphTooltip\"\
      : 0,\n  \"id\": null,\n  \"links\": [],\n  \"rows\": [\n    {\n      \"collapse\"\
      : false,\n      \"editable\": false,\n      \"height\": \"200px\",\n      \"\
      panels\": [\n        {\n          \"colorBackground\": false,\n          \"\
      colorValue\": false,\n          \"colors\": [\n            \"rgba(245, 54, 54,\
      \ 0.9)\",\n            \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(50,\
      \ 172, 45, 0.97)\"\n          ],\n          \"datasource\": \"prometheus\",\n\
      \          \"editable\": false,\n          \"format\": \"none\",\n         \
      \ \"gauge\": {\n            \"maxValue\": 100,\n            \"minValue\": 0,\n\
      \            \"show\": false,\n            \"thresholdLabels\": false,\n   \
      \         \"thresholdMarkers\": true\n          },\n          \"id\": 8,\n \
      \         \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfix\": \"cores\",\n          \"postfixFontSize\": \"50%\"\
      ,\n          \"prefix\": \"\",\n          \"prefixFontSize\": \"50%\",\n   \
      \       \"rangeMaps\": [\n            {\n              \"from\": \"null\",\n\
      \              \"text\": \"N/A\",\n              \"to\": \"null\"\n        \
      \    }\n          ],\n          \"span\": 4,\n          \"sparkline\": {\n \
      \           \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n            \"full\"\
      : false,\n            \"lineColor\": \"rgb(31, 120, 193)\",\n            \"\
      show\": true\n          },\n          \"targets\": [\n            {\n      \
      \        \"expr\": \"sum(rate(container_cpu_usage_seconds_total{namespace=\\\
      \"$deployment_namespace\\\",pod_name=~\\\"$deployment_name.*\\\"}[3m]))\",\n\
      \              \"intervalFactor\": 2,\n              \"refId\": \"A\",\n   \
      \           \"step\": 600\n            }\n          ],\n          \"title\"\
      : \"CPU\",\n          \"type\": \"singlestat\",\n          \"valueFontSize\"\
      : \"110%\",\n          \"valueMaps\": [\n            {\n              \"op\"\
      : \"=\",\n              \"text\": \"N/A\",\n              \"value\": \"null\"\
      \n            }\n          ],\n          \"valueName\": \"avg\"\n        },\n\
      \        {\n          \"colorBackground\": false,\n          \"colorValue\"\
      : false,\n          \"colors\": [\n            \"rgba(245, 54, 54, 0.9)\",\n\
      \            \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(50, 172, 45,\
      \ 0.97)\"\n          ],\n          \"datasource\": \"prometheus\",\n       \
      \   \"editable\": false,\n          \"format\": \"none\",\n          \"gauge\"\
      : {\n            \"maxValue\": 100,\n            \"minValue\": 0,\n        \
      \    \"show\": false,\n            \"thresholdLabels\": false,\n           \
      \ \"thresholdMarkers\": true\n          },\n          \"id\": 9,\n         \
      \ \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfix\": \"GB\",\n          \"postfixFontSize\": \"50%\",\n\
      \          \"prefix\": \"\",\n          \"prefixFontSize\": \"80%\",\n     \
      \     \"rangeMaps\": [\n            {\n              \"from\": \"null\",\n \
      \             \"text\": \"N/A\",\n              \"to\": \"null\"\n         \
      \   }\n          ],\n          \"span\": 4,\n          \"sparkline\": {\n  \
      \          \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n            \"full\"\
      : false,\n            \"lineColor\": \"rgb(31, 120, 193)\",\n            \"\
      show\": true\n          },\n          \"targets\": [\n            {\n      \
      \        \"expr\": \"sum(container_memory_usage_bytes{namespace=\\\"$deployment_namespace\\\
      \",pod_name=~\\\"$deployment_name.*\\\"}) / 1024^3\",\n              \"intervalFactor\"\
      : 2,\n              \"refId\": \"A\",\n              \"step\": 600\n       \
      \     }\n          ],\n          \"title\": \"Memory\",\n          \"type\"\
      : \"singlestat\",\n          \"valueFontSize\": \"110%\",\n          \"valueMaps\"\
      : [\n            {\n              \"op\": \"=\",\n              \"text\": \"\
      N/A\",\n              \"value\": \"null\"\n            }\n          ],\n   \
      \       \"valueName\": \"avg\"\n        },\n        {\n          \"colorBackground\"\
      : false,\n          \"colorValue\": false,\n          \"colors\": [\n      \
      \      \"rgba(245, 54, 54, 0.9)\",\n            \"rgba(237, 129, 40, 0.89)\"\
      ,\n            \"rgba(50, 172, 45, 0.97)\"\n          ],\n          \"datasource\"\
      : \"prometheus\",\n          \"editable\": false,\n          \"format\": \"\
      Bps\",\n          \"gauge\": {\n            \"maxValue\": 100,\n           \
      \ \"minValue\": 0,\n            \"show\": false,\n            \"thresholdLabels\"\
      : false,\n            \"thresholdMarkers\": false\n          },\n          \"\
      id\": 7,\n          \"links\": [],\n          \"mappingType\": 1,\n        \
      \  \"mappingTypes\": [\n            {\n              \"name\": \"value to text\"\
      ,\n              \"value\": 1\n            },\n            {\n             \
      \ \"name\": \"range to text\",\n              \"value\": 2\n            }\n\
      \          ],\n          \"maxDataPoints\": 100,\n          \"nullPointMode\"\
      : \"connected\",\n          \"postfix\": \"\",\n          \"postfixFontSize\"\
      : \"50%\",\n          \"prefix\": \"\",\n          \"prefixFontSize\": \"50%\"\
      ,\n          \"rangeMaps\": [\n            {\n              \"from\": \"null\"\
      ,\n              \"text\": \"N/A\",\n              \"to\": \"null\"\n      \
      \      }\n          ],\n          \"span\": 4,\n          \"sparkline\": {\n\
      \            \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n            \"full\"\
      : false,\n            \"lineColor\": \"rgb(31, 120, 193)\",\n            \"\
      show\": true\n          },\n          \"targets\": [\n            {\n      \
      \        \"expr\": \"sum(rate(container_network_transmit_bytes_total{namespace=\\\
      \"$deployment_namespace\\\",pod_name=~\\\"$deployment_name.*\\\"}[3m])) + sum(rate(container_network_receive_bytes_total{namespace=\\\
      \"$deployment_namespace\\\",pod_name=~\\\"$deployment_name.*\\\"}[3m]))\",\n\
      \              \"intervalFactor\": 2,\n              \"refId\": \"A\",\n   \
      \           \"step\": 600\n            }\n          ],\n          \"title\"\
      : \"Network\",\n          \"type\": \"singlestat\",\n          \"valueFontSize\"\
      : \"80%\",\n          \"valueMaps\": [\n            {\n              \"op\"\
      : \"=\",\n              \"text\": \"N/A\",\n              \"value\": \"null\"\
      \n            }\n          ],\n          \"valueName\": \"avg\"\n        }\n\
      \      ],\n      \"showTitle\": false,\n      \"title\": \"Dashboard Row\",\n\
      \      \"titleSize\": \"h6\"\n    },\n    {\n      \"collapse\": false,\n  \
      \    \"editable\": false,\n      \"height\": \"100px\",\n      \"panels\": [\n\
      \        {\n          \"colorBackground\": false,\n          \"colorValue\"\
      : false,\n          \"colors\": [\n            \"rgba(245, 54, 54, 0.9)\",\n\
      \            \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(50, 172, 45,\
      \ 0.97)\"\n          ],\n          \"datasource\": \"prometheus\",\n       \
      \   \"editable\": false,\n          \"format\": \"none\",\n          \"gauge\"\
      : {\n            \"maxValue\": 100,\n            \"minValue\": 0,\n        \
      \    \"show\": false,\n            \"thresholdLabels\": false,\n           \
      \ \"thresholdMarkers\": false\n          },\n          \"id\": 5,\n        \
      \  \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n  \
      \        \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n        \
      \    {\n              \"from\": \"null\",\n              \"text\": \"N/A\",\n\
      \              \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"max(kube_deployment_spec_replicas{deployment=\\\
      \"$deployment_name\\\",namespace=\\\"$deployment_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"metric\": \"\
      kube_deployment_spec_replicas\",\n              \"refId\": \"A\",\n        \
      \      \"step\": 600\n            }\n          ],\n          \"title\": \"Desired\
      \ Replicas\",\n          \"type\": \"singlestat\",\n          \"valueFontSize\"\
      : \"80%\",\n          \"valueMaps\": [\n            {\n              \"op\"\
      : \"=\",\n              \"text\": \"N/A\",\n              \"value\": \"null\"\
      \n            }\n          ],\n          \"valueName\": \"avg\"\n        },\n\
      \        {\n          \"colorBackground\": false,\n          \"colorValue\"\
      : false,\n          \"colors\": [\n            \"rgba(245, 54, 54, 0.9)\",\n\
      \            \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(50, 172, 45,\
      \ 0.97)\"\n          ],\n          \"datasource\": \"prometheus\",\n       \
      \   \"editable\": false,\n          \"format\": \"none\",\n          \"gauge\"\
      : {\n            \"maxValue\": 100,\n            \"minValue\": 0,\n        \
      \    \"show\": false,\n            \"thresholdLabels\": false,\n           \
      \ \"thresholdMarkers\": true\n          },\n          \"id\": 6,\n         \
      \ \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n  \
      \        \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n        \
      \    {\n              \"from\": \"null\",\n              \"text\": \"N/A\",\n\
      \              \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"min(kube_deployment_status_replicas_available{deployment=\\\
      \"$deployment_name\\\",namespace=\\\"$deployment_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"refId\": \"\
      A\",\n              \"step\": 600\n            }\n          ],\n          \"\
      title\": \"Available Replicas\",\n          \"type\": \"singlestat\",\n    \
      \      \"valueFontSize\": \"80%\",\n          \"valueMaps\": [\n           \
      \ {\n              \"op\": \"=\",\n              \"text\": \"N/A\",\n      \
      \        \"value\": \"null\"\n            }\n          ],\n          \"valueName\"\
      : \"avg\"\n        },\n        {\n          \"colorBackground\": false,\n  \
      \        \"colorValue\": false,\n          \"colors\": [\n            \"rgba(245,\
      \ 54, 54, 0.9)\",\n            \"rgba(237, 129, 40, 0.89)\",\n            \"\
      rgba(50, 172, 45, 0.97)\"\n          ],\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"format\": \"none\",\n       \
      \   \"gauge\": {\n            \"maxValue\": 100,\n            \"minValue\":\
      \ 0,\n            \"show\": false,\n            \"thresholdLabels\": false,\n\
      \            \"thresholdMarkers\": true\n          },\n          \"id\": 3,\n\
      \          \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n  \
      \        \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n        \
      \    {\n              \"from\": \"null\",\n              \"text\": \"N/A\",\n\
      \              \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"max(kube_deployment_status_observed_generation{deployment=\\\
      \"$deployment_name\\\",namespace=\\\"$deployment_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"refId\": \"\
      A\",\n              \"step\": 600\n            }\n          ],\n          \"\
      title\": \"Observed Generation\",\n          \"type\": \"singlestat\",\n   \
      \       \"valueFontSize\": \"80%\",\n          \"valueMaps\": [\n          \
      \  {\n              \"op\": \"=\",\n              \"text\": \"N/A\",\n     \
      \         \"value\": \"null\"\n            }\n          ],\n          \"valueName\"\
      : \"avg\"\n        },\n        {\n          \"colorBackground\": false,\n  \
      \        \"colorValue\": false,\n          \"colors\": [\n            \"rgba(245,\
      \ 54, 54, 0.9)\",\n            \"rgba(237, 129, 40, 0.89)\",\n            \"\
      rgba(50, 172, 45, 0.97)\"\n          ],\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"format\": \"none\",\n       \
      \   \"gauge\": {\n            \"maxValue\": 100,\n            \"minValue\":\
      \ 0,\n            \"show\": false,\n            \"thresholdLabels\": false,\n\
      \            \"thresholdMarkers\": true\n          },\n          \"id\": 2,\n\
      \          \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n  \
      \        \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n        \
      \    {\n              \"from\": \"null\",\n              \"text\": \"N/A\",\n\
      \              \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"max(kube_deployment_metadata_generation{deployment=\\\
      \"$deployment_name\\\",namespace=\\\"$deployment_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"refId\": \"\
      A\",\n              \"step\": 600\n            }\n          ],\n          \"\
      title\": \"Metadata Generation\",\n          \"type\": \"singlestat\",\n   \
      \       \"valueFontSize\": \"80%\",\n          \"valueMaps\": [\n          \
      \  {\n              \"op\": \"=\",\n              \"text\": \"N/A\",\n     \
      \         \"value\": \"null\"\n            }\n          ],\n          \"valueName\"\
      : \"avg\"\n        }\n      ],\n      \"showTitle\": false,\n      \"title\"\
      : \"Dashboard Row\",\n      \"titleSize\": \"h6\"\n    },\n    {\n      \"collapse\"\
      : false,\n      \"editable\": false,\n      \"height\": \"350px\",\n      \"\
      panels\": [\n        {\n          \"aliasColors\": {},\n          \"bars\":\
      \ false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n    \
      \      \"datasource\": \"prometheus\",\n          \"editable\": false,\n   \
      \       \"error\": false,\n          \"fill\": 1,\n          \"grid\": {\n \
      \           \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n           \
      \ \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n          },\n       \
      \   \"id\": 1,\n          \"isNew\": true,\n          \"legend\": {\n      \
      \      \"alignAsTable\": false,\n            \"avg\": false,\n            \"\
      current\": false,\n            \"hideEmpty\": false,\n            \"hideZero\"\
      : false,\n            \"max\": false,\n            \"min\": false,\n       \
      \     \"rightSide\": false,\n            \"show\": true,\n            \"total\"\
      : false\n          },\n          \"lines\": true,\n          \"linewidth\":\
      \ 2,\n          \"links\": [],\n          \"nullPointMode\": \"connected\",\n\
      \          \"percentage\": false,\n          \"pointradius\": 5,\n         \
      \ \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\"\
      : [],\n          \"spaceLength\": 10,\n          \"span\": 12,\n          \"\
      stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n\
      \            {\n              \"expr\": \"max(kube_deployment_status_replicas{deployment=\\\
      \"$deployment_name\\\",namespace=\\\"$deployment_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"current replicas\",\n              \"refId\": \"A\",\n              \"step\"\
      : 30\n            },\n            {\n              \"expr\": \"min(kube_deployment_status_replicas_available{deployment=\\\
      \"$deployment_name\\\",namespace=\\\"$deployment_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"available\",\n              \"refId\": \"B\",\n              \"step\": 30\n\
      \            },\n            {\n              \"expr\": \"max(kube_deployment_status_replicas_unavailable{deployment=\\\
      \"$deployment_name\\\",namespace=\\\"$deployment_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"unavailable\",\n              \"refId\": \"C\",\n              \"step\"\
      : 30\n            },\n            {\n              \"expr\": \"min(kube_deployment_status_replicas_updated{deployment=\\\
      \"$deployment_name\\\",namespace=\\\"$deployment_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"updated\",\n              \"refId\": \"D\",\n              \"step\": 30\n\
      \            },\n            {\n              \"expr\": \"max(kube_deployment_spec_replicas{deployment=\\\
      \"$deployment_name\\\",namespace=\\\"$deployment_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"desired\",\n              \"refId\": \"E\",\n              \"step\": 30\n\
      \            }\n          ],\n          \"title\": \"Replicas\",\n         \
      \ \"tooltip\": {\n            \"msResolution\": true,\n            \"shared\"\
      : true,\n            \"sort\": 0,\n            \"value_type\": \"cumulative\"\
      \n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n   \
      \         \"mode\": \"time\",\n            \"show\": true,\n            \"values\"\
      : []\n          },\n          \"yaxes\": [\n            {\n              \"\
      format\": \"none\",\n              \"label\": \"\",\n              \"logBase\"\
      : 1,\n              \"show\": true\n            },\n            {\n        \
      \      \"format\": \"short\",\n              \"label\": \"\",\n            \
      \  \"logBase\": 1,\n              \"show\": false\n            }\n         \
      \ ]\n        }\n      ],\n      \"showTitle\": false,\n      \"title\": \"Dashboard\
      \ Row\",\n      \"titleSize\": \"h6\"\n    }\n  ],\n  \"schemaVersion\": 14,\n\
      \  \"sharedCrosshair\": false,\n  \"style\": \"dark\",\n  \"tags\": [],\n  \"\
      templating\": {\n    \"list\": [\n      {\n        \"allValue\": \".*\",\n \
      \       \"current\": {},\n        \"datasource\": \"prometheus\",\n        \"\
      hide\": 0,\n        \"includeAll\": false,\n        \"label\": \"Namespace\"\
      ,\n        \"multi\": false,\n        \"name\": \"deployment_namespace\",\n\
      \        \"options\": [],\n        \"query\": \"label_values(kube_deployment_metadata_generation,\
      \ namespace)\",\n        \"refresh\": 1,\n        \"regex\": \"\",\n       \
      \ \"sort\": 0,\n        \"tagValuesQuery\": null,\n        \"tags\": [],\n \
      \       \"tagsQuery\": \"\",\n        \"type\": \"query\",\n        \"useTags\"\
      : false\n      },\n      {\n        \"allValue\": null,\n        \"current\"\
      : {},\n        \"datasource\": \"prometheus\",\n        \"hide\": 0,\n     \
      \   \"includeAll\": false,\n        \"label\": \"Deployment\",\n        \"multi\"\
      : false,\n        \"name\": \"deployment_name\",\n        \"options\": [],\n\
      \        \"query\": \"label_values(kube_deployment_metadata_generation{namespace=\\\
      \"$deployment_namespace\\\"}, deployment)\",\n        \"refresh\": 1,\n    \
      \    \"regex\": \"\",\n        \"sort\": 0,\n        \"tagValuesQuery\": \"\"\
      ,\n        \"tags\": [],\n        \"tagsQuery\": \"deployment\",\n        \"\
      type\": \"query\",\n        \"useTags\": false\n      }\n    ]\n  },\n  \"time\"\
      : {\n    \"from\": \"now-6h\",\n    \"to\": \"now\"\n  },\n  \"timepicker\"\
      : {\n    \"refresh_intervals\": [\n      \"5s\",\n      \"10s\",\n      \"30s\"\
      ,\n      \"1m\",\n      \"5m\",\n      \"15m\",\n      \"30m\",\n      \"1h\"\
      ,\n      \"2h\",\n      \"1d\"\n    ],\n    \"time_options\": [\n      \"5m\"\
      ,\n      \"15m\",\n      \"1h\",\n      \"6h\",\n      \"12h\",\n      \"24h\"\
      ,\n      \"2d\",\n      \"7d\",\n      \"30d\"\n    ]\n  },\n  \"timezone\"\
      : \"browser\",\n  \"title\": \"Deployment\",\n  \"version\": 1\n}\n"
  kind: ConfigMap
  metadata:
    labels:
    name: grafana-dashboard-definition-kubernetes-deployment
    namespace: knative-monitoring
- apiVersion: v1
  data:
    kubernetes-capacity-planning-dashboard.json: "{\n  \"__inputs\": [\n    {\n  \
      \    \"description\": \"\",\n      \"label\": \"prometheus\",\n      \"name\"\
      : \"prometheus\",\n      \"pluginId\": \"prometheus\",\n      \"pluginName\"\
      : \"Prometheus\",\n      \"type\": \"datasource\"\n    }\n  ],\n  \"annotations\"\
      : {\n    \"list\": []\n  },\n  \"editable\": false,\n  \"gnetId\": null,\n \
      \ \"graphTooltip\": 0,\n  \"id\": null,\n  \"links\": [],\n  \"refresh\": false,\n\
      \  \"rows\": [\n    {\n      \"collapse\": false,\n      \"editable\": false,\n\
      \      \"height\": \"250px\",\n      \"panels\": [\n        {\n          \"\
      aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n\
      \          \"dashes\": false,\n          \"datasource\": \"prometheus\",\n \
      \         \"editable\": false,\n          \"error\": false,\n          \"fill\"\
      : 1,\n          \"grid\": {\n            \"threshold1Color\": \"rgba(216, 200,\
      \ 27, 0.27)\",\n            \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\
      \n          },\n          \"id\": 3,\n          \"isNew\": false,\n        \
      \  \"legend\": {\n            \"alignAsTable\": false,\n            \"avg\"\
      : false,\n            \"current\": false,\n            \"hideEmpty\": false,\n\
      \            \"hideZero\": false,\n            \"max\": false,\n           \
      \ \"min\": false,\n            \"rightSide\": false,\n            \"show\":\
      \ true,\n            \"total\": false\n          },\n          \"lines\": true,\n\
      \          \"linewidth\": 2,\n          \"links\": [],\n          \"nullPointMode\"\
      : \"connected\",\n          \"percentage\": false,\n          \"pointradius\"\
      : 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n    \
      \      \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"\
      span\": 6,\n          \"stack\": false,\n          \"steppedLine\": false,\n\
      \          \"targets\": [\n            {\n              \"expr\": \"sum(rate(node_cpu{mode=\\\
      \"idle\\\"}[2m])) * 100\",\n              \"hide\": false,\n              \"\
      intervalFactor\": 10,\n              \"legendFormat\": \"\",\n             \
      \ \"refId\": \"A\",\n              \"step\": 50\n            }\n          ],\n\
      \          \"title\": \"Idle CPU\",\n          \"tooltip\": {\n            \"\
      msResolution\": false,\n            \"shared\": true,\n            \"sort\"\
      : 0,\n            \"value_type\": \"cumulative\"\n          },\n          \"\
      type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n\
      \            \"show\": true,\n            \"values\": []\n          },\n   \
      \       \"yaxes\": [\n            {\n              \"format\": \"percent\",\n\
      \              \"label\": \"cpu usage\",\n              \"logBase\": 1,\n  \
      \            \"min\": 0,\n              \"show\": true\n            },\n   \
      \         {\n              \"format\": \"short\",\n              \"logBase\"\
      : 1,\n              \"show\": true\n            }\n          ]\n        },\n\
      \        {\n          \"aliasColors\": {},\n          \"bars\": false,\n   \
      \       \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\"\
      : \"prometheus\",\n          \"editable\": false,\n          \"error\": false,\n\
      \          \"fill\": 1,\n          \"grid\": {\n            \"threshold1Color\"\
      : \"rgba(216, 200, 27, 0.27)\",\n            \"threshold2Color\": \"rgba(234,\
      \ 112, 112, 0.22)\"\n          },\n          \"id\": 9,\n          \"isNew\"\
      : false,\n          \"legend\": {\n            \"alignAsTable\": false,\n  \
      \          \"avg\": false,\n            \"current\": false,\n            \"\
      hideEmpty\": false,\n            \"hideZero\": false,\n            \"max\":\
      \ false,\n            \"min\": false,\n            \"rightSide\": false,\n \
      \           \"show\": true,\n            \"total\": false\n          },\n  \
      \        \"lines\": true,\n          \"linewidth\": 2,\n          \"links\"\
      : [],\n          \"nullPointMode\": \"connected\",\n          \"percentage\"\
      : false,\n          \"pointradius\": 5,\n          \"points\": false,\n    \
      \      \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n       \
      \   \"spaceLength\": 10,\n          \"span\": 6,\n          \"stack\": false,\n\
      \          \"steppedLine\": false,\n          \"targets\": [\n            {\n\
      \              \"expr\": \"sum(node_load1)\",\n              \"intervalFactor\"\
      : 4,\n              \"legendFormat\": \"load 1m\",\n              \"refId\"\
      : \"A\",\n              \"step\": 20,\n              \"target\": \"\"\n    \
      \        },\n            {\n              \"expr\": \"sum(node_load5)\",\n \
      \             \"intervalFactor\": 4,\n              \"legendFormat\": \"load\
      \ 5m\",\n              \"refId\": \"B\",\n              \"step\": 20,\n    \
      \          \"target\": \"\"\n            },\n            {\n              \"\
      expr\": \"sum(node_load15)\",\n              \"intervalFactor\": 4,\n      \
      \        \"legendFormat\": \"load 15m\",\n              \"refId\": \"C\",\n\
      \              \"step\": 20,\n              \"target\": \"\"\n            }\n\
      \          ],\n          \"title\": \"System Load\",\n          \"tooltip\"\
      : {\n            \"msResolution\": false,\n            \"shared\": true,\n \
      \           \"sort\": 0,\n            \"value_type\": \"cumulative\"\n     \
      \     },\n          \"type\": \"graph\",\n          \"xaxis\": {\n         \
      \   \"mode\": \"time\",\n            \"show\": true,\n            \"values\"\
      : []\n          },\n          \"yaxes\": [\n            {\n              \"\
      format\": \"percentunit\",\n              \"logBase\": 1,\n              \"\
      show\": true\n            },\n            {\n              \"format\": \"short\"\
      ,\n              \"logBase\": 1,\n              \"show\": true\n           \
      \ }\n          ]\n        }\n      ],\n      \"showTitle\": false,\n      \"\
      title\": \"New Row\",\n      \"titleSize\": \"h6\"\n    },\n    {\n      \"\
      collapse\": false,\n      \"editable\": false,\n      \"height\": \"250px\"\
      ,\n      \"panels\": [\n        {\n          \"aliasColors\": {},\n        \
      \  \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n\
      \          \"datasource\": \"prometheus\",\n          \"editable\": false,\n\
      \          \"error\": false,\n          \"fill\": 1,\n          \"grid\": {\n\
      \            \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n          \
      \  \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n          },\n      \
      \    \"id\": 4,\n          \"isNew\": false,\n          \"legend\": {\n    \
      \        \"alignAsTable\": false,\n            \"avg\": false,\n           \
      \ \"current\": false,\n            \"hideEmpty\": false,\n            \"hideZero\"\
      : false,\n            \"max\": false,\n            \"min\": false,\n       \
      \     \"rightSide\": false,\n            \"show\": true,\n            \"total\"\
      : false\n          },\n          \"lines\": true,\n          \"linewidth\":\
      \ 2,\n          \"links\": [],\n          \"nullPointMode\": \"connected\",\n\
      \          \"percentage\": false,\n          \"pointradius\": 5,\n         \
      \ \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\"\
      : [\n            {\n              \"alias\": \"node_memory_SwapFree{instance=\\\
      \"172.17.0.1:9100\\\",job=\\\"prometheus\\\"}\",\n              \"yaxis\": 2\n\
      \            }\n          ],\n          \"spaceLength\": 10,\n          \"span\"\
      : 9,\n          \"stack\": true,\n          \"steppedLine\": false,\n      \
      \    \"targets\": [\n            {\n              \"expr\": \"sum(node_memory_MemTotal)\
      \ - sum(node_memory_MemFree) - sum(node_memory_Buffers) - sum(node_memory_Cached)\"\
      ,\n              \"intervalFactor\": 2,\n              \"legendFormat\": \"\
      memory usage\",\n              \"metric\": \"memo\",\n              \"refId\"\
      : \"A\",\n              \"step\": 10,\n              \"target\": \"\"\n    \
      \        },\n            {\n              \"expr\": \"sum(node_memory_Buffers)\"\
      ,\n              \"interval\": \"\",\n              \"intervalFactor\": 2,\n\
      \              \"legendFormat\": \"memory buffers\",\n              \"metric\"\
      : \"memo\",\n              \"refId\": \"B\",\n              \"step\": 10,\n\
      \              \"target\": \"\"\n            },\n            {\n           \
      \   \"expr\": \"sum(node_memory_Cached)\",\n              \"interval\": \"\"\
      ,\n              \"intervalFactor\": 2,\n              \"legendFormat\": \"\
      memory cached\",\n              \"metric\": \"memo\",\n              \"refId\"\
      : \"C\",\n              \"step\": 10,\n              \"target\": \"\"\n    \
      \        },\n            {\n              \"expr\": \"sum(node_memory_MemFree)\"\
      ,\n              \"interval\": \"\",\n              \"intervalFactor\": 2,\n\
      \              \"legendFormat\": \"memory free\",\n              \"metric\"\
      : \"memo\",\n              \"refId\": \"D\",\n              \"step\": 10,\n\
      \              \"target\": \"\"\n            }\n          ],\n          \"title\"\
      : \"Memory Usage\",\n          \"tooltip\": {\n            \"msResolution\"\
      : false,\n            \"shared\": true,\n            \"sort\": 0,\n        \
      \    \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\"\
      ,\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\"\
      : true,\n            \"values\": []\n          },\n          \"yaxes\": [\n\
      \            {\n              \"format\": \"bytes\",\n              \"logBase\"\
      : 1,\n              \"min\": \"0\",\n              \"show\": true\n        \
      \    },\n            {\n              \"format\": \"short\",\n             \
      \ \"logBase\": 1,\n              \"show\": true\n            }\n          ]\n\
      \        },\n        {\n          \"colorBackground\": false,\n          \"\
      colorValue\": false,\n          \"colors\": [\n            \"rgba(50, 172, 45,\
      \ 0.97)\",\n            \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(245,\
      \ 54, 54, 0.9)\"\n          ],\n          \"datasource\": \"prometheus\",\n\
      \          \"editable\": false,\n          \"format\": \"percent\",\n      \
      \    \"gauge\": {\n            \"maxValue\": 100,\n            \"minValue\"\
      : 0,\n            \"show\": true,\n            \"thresholdLabels\": false,\n\
      \            \"thresholdMarkers\": true\n          },\n          \"hideTimeOverride\"\
      : false,\n          \"id\": 5,\n          \"links\": [],\n          \"mappingType\"\
      : 1,\n          \"mappingTypes\": [\n            {\n              \"name\":\
      \ \"value to text\",\n              \"value\": 1\n            },\n         \
      \   {\n              \"name\": \"range to text\",\n              \"value\":\
      \ 2\n            }\n          ],\n          \"maxDataPoints\": 100,\n      \
      \    \"nullPointMode\": \"connected\",\n          \"postfix\": \"\",\n     \
      \     \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n         \
      \ \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n            {\n\
      \              \"from\": \"null\",\n              \"text\": \"N/A\",\n     \
      \         \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"((sum(node_memory_MemTotal)\
      \ - sum(node_memory_MemFree) - sum(node_memory_Buffers) - sum(node_memory_Cached))\
      \ / sum(node_memory_MemTotal)) * 100\",\n              \"intervalFactor\": 2,\n\
      \              \"metric\": \"\",\n              \"refId\": \"A\",\n        \
      \      \"step\": 60,\n              \"target\": \"\"\n            }\n      \
      \    ],\n          \"thresholds\": \"80, 90\",\n          \"title\": \"Memory\
      \ Usage\",\n          \"transparent\": false,\n          \"type\": \"singlestat\"\
      ,\n          \"valueFontSize\": \"80%\",\n          \"valueMaps\": [\n     \
      \       {\n              \"op\": \"=\",\n              \"text\": \"N/A\",\n\
      \              \"value\": \"null\"\n            }\n          ],\n          \"\
      valueName\": \"avg\"\n        }\n      ],\n      \"showTitle\": false,\n   \
      \   \"title\": \"New Row\",\n      \"titleSize\": \"h6\"\n    },\n    {\n  \
      \    \"collapse\": false,\n      \"editable\": false,\n      \"height\": \"\
      246px\",\n      \"panels\": [\n        {\n          \"aliasColors\": {},\n \
      \         \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\"\
      : false,\n          \"datasource\": \"prometheus\",\n          \"editable\"\
      : false,\n          \"error\": false,\n          \"fill\": 1,\n          \"\
      grid\": {\n            \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n\
      \            \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n          },\n\
      \          \"id\": 6,\n          \"isNew\": false,\n          \"legend\": {\n\
      \            \"alignAsTable\": false,\n            \"avg\": false,\n       \
      \     \"current\": false,\n            \"hideEmpty\": false,\n            \"\
      hideZero\": false,\n            \"max\": false,\n            \"min\": false,\n\
      \            \"rightSide\": false,\n            \"show\": true,\n          \
      \  \"total\": false\n          },\n          \"lines\": true,\n          \"\
      linewidth\": 2,\n          \"links\": [],\n          \"nullPointMode\": \"connected\"\
      ,\n          \"percentage\": false,\n          \"pointradius\": 5,\n       \
      \   \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\"\
      : [\n            {\n              \"alias\": \"read\",\n              \"yaxis\"\
      : 1\n            },\n            {\n              \"alias\": \"{instance=\\\"\
      172.17.0.1:9100\\\"}\",\n              \"yaxis\": 2\n            },\n      \
      \      {\n              \"alias\": \"io time\",\n              \"yaxis\": 2\n\
      \            }\n          ],\n          \"spaceLength\": 10,\n          \"span\"\
      : 9,\n          \"stack\": false,\n          \"steppedLine\": false,\n     \
      \     \"targets\": [\n            {\n              \"expr\": \"sum(rate(node_disk_bytes_read[5m]))\"\
      ,\n              \"hide\": false,\n              \"intervalFactor\": 4,\n  \
      \            \"legendFormat\": \"read\",\n              \"refId\": \"A\",\n\
      \              \"step\": 20,\n              \"target\": \"\"\n            },\n\
      \            {\n              \"expr\": \"sum(rate(node_disk_bytes_written[5m]))\"\
      ,\n              \"intervalFactor\": 4,\n              \"legendFormat\": \"\
      written\",\n              \"refId\": \"B\",\n              \"step\": 20\n  \
      \          },\n            {\n              \"expr\": \"sum(rate(node_disk_io_time_ms[5m]))\"\
      ,\n              \"intervalFactor\": 4,\n              \"legendFormat\": \"\
      io time\",\n              \"refId\": \"C\",\n              \"step\": 20\n  \
      \          }\n          ],\n          \"title\": \"Disk I/O\",\n          \"\
      tooltip\": {\n            \"msResolution\": false,\n            \"shared\":\
      \ true,\n            \"sort\": 0,\n            \"value_type\": \"cumulative\"\
      \n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n   \
      \         \"mode\": \"time\",\n            \"show\": true,\n            \"values\"\
      : []\n          },\n          \"yaxes\": [\n            {\n              \"\
      format\": \"bytes\",\n              \"logBase\": 1,\n              \"show\"\
      : true\n            },\n            {\n              \"format\": \"ms\",\n \
      \             \"logBase\": 1,\n              \"show\": true\n            }\n\
      \          ]\n        },\n        {\n          \"colorBackground\": false,\n\
      \          \"colorValue\": false,\n          \"colors\": [\n            \"rgba(50,\
      \ 172, 45, 0.97)\",\n            \"rgba(237, 129, 40, 0.89)\",\n           \
      \ \"rgba(245, 54, 54, 0.9)\"\n          ],\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"format\": \"percentunit\",\n\
      \          \"gauge\": {\n            \"maxValue\": 1,\n            \"minValue\"\
      : 0,\n            \"show\": true,\n            \"thresholdLabels\": false,\n\
      \            \"thresholdMarkers\": true\n          },\n          \"hideTimeOverride\"\
      : false,\n          \"id\": 12,\n          \"links\": [],\n          \"mappingType\"\
      : 1,\n          \"mappingTypes\": [\n            {\n              \"name\":\
      \ \"value to text\",\n              \"value\": 1\n            },\n         \
      \   {\n              \"name\": \"range to text\",\n              \"value\":\
      \ 2\n            }\n          ],\n          \"maxDataPoints\": 100,\n      \
      \    \"nullPointMode\": \"connected\",\n          \"postfix\": \"\",\n     \
      \     \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n         \
      \ \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n            {\n\
      \              \"from\": \"null\",\n              \"text\": \"N/A\",\n     \
      \         \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"(sum(node_filesystem_size{device!=\\\
      \"rootfs\\\"}) - sum(node_filesystem_free{device!=\\\"rootfs\\\"})) / sum(node_filesystem_size{device!=\\\
      \"rootfs\\\"})\",\n              \"intervalFactor\": 2,\n              \"refId\"\
      : \"A\",\n              \"step\": 60,\n              \"target\": \"\"\n    \
      \        }\n          ],\n          \"thresholds\": \"0.75, 0.9\",\n       \
      \   \"title\": \"Disk Space Usage\",\n          \"transparent\": false,\n  \
      \        \"type\": \"singlestat\",\n          \"valueFontSize\": \"80%\",\n\
      \          \"valueMaps\": [\n            {\n              \"op\": \"=\",\n \
      \             \"text\": \"N/A\",\n              \"value\": \"null\"\n      \
      \      }\n          ],\n          \"valueName\": \"current\"\n        }\n  \
      \    ],\n      \"showTitle\": false,\n      \"title\": \"New Row\",\n      \"\
      titleSize\": \"h6\"\n    },\n    {\n      \"collapse\": false,\n      \"editable\"\
      : false,\n      \"height\": \"250px\",\n      \"panels\": [\n        {\n   \
      \       \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\"\
      : 10,\n          \"dashes\": false,\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"error\": false,\n          \"\
      fill\": 1,\n          \"grid\": {\n            \"threshold1Color\": \"rgba(216,\
      \ 200, 27, 0.27)\",\n            \"threshold2Color\": \"rgba(234, 112, 112,\
      \ 0.22)\"\n          },\n          \"id\": 8,\n          \"isNew\": false,\n\
      \          \"legend\": {\n            \"alignAsTable\": false,\n           \
      \ \"avg\": false,\n            \"current\": false,\n            \"hideEmpty\"\
      : false,\n            \"hideZero\": false,\n            \"max\": false,\n  \
      \          \"min\": false,\n            \"rightSide\": false,\n            \"\
      show\": true,\n            \"total\": false\n          },\n          \"lines\"\
      : true,\n          \"linewidth\": 2,\n          \"links\": [],\n          \"\
      nullPointMode\": \"connected\",\n          \"percentage\": false,\n        \
      \  \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\"\
      : \"flot\",\n          \"seriesOverrides\": [\n            {\n             \
      \ \"alias\": \"transmitted\",\n              \"yaxis\": 2\n            }\n \
      \         ],\n          \"spaceLength\": 10,\n          \"span\": 6,\n     \
      \     \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\"\
      : [\n            {\n              \"expr\": \"sum(rate(node_network_receive_bytes{device!~\\\
      \"lo\\\"}[5m]))\",\n              \"hide\": false,\n              \"intervalFactor\"\
      : 2,\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\
      ,\n              \"step\": 10,\n              \"target\": \"\"\n           \
      \ }\n          ],\n          \"title\": \"Network Received\",\n          \"\
      tooltip\": {\n            \"msResolution\": false,\n            \"shared\":\
      \ true,\n            \"sort\": 0,\n            \"value_type\": \"cumulative\"\
      \n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n   \
      \         \"mode\": \"time\",\n            \"show\": true,\n            \"values\"\
      : []\n          },\n          \"yaxes\": [\n            {\n              \"\
      format\": \"bytes\",\n              \"logBase\": 1,\n              \"show\"\
      : true\n            },\n            {\n              \"format\": \"bytes\",\n\
      \              \"logBase\": 1,\n              \"show\": true\n            }\n\
      \          ]\n        },\n        {\n          \"aliasColors\": {},\n      \
      \    \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\":\
      \ false,\n          \"datasource\": \"prometheus\",\n          \"editable\"\
      : false,\n          \"error\": false,\n          \"fill\": 1,\n          \"\
      grid\": {\n            \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n\
      \            \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n          },\n\
      \          \"id\": 10,\n          \"isNew\": false,\n          \"legend\": {\n\
      \            \"alignAsTable\": false,\n            \"avg\": false,\n       \
      \     \"current\": false,\n            \"hideEmpty\": false,\n            \"\
      hideZero\": false,\n            \"max\": false,\n            \"min\": false,\n\
      \            \"rightSide\": false,\n            \"show\": true,\n          \
      \  \"total\": false\n          },\n          \"lines\": true,\n          \"\
      linewidth\": 2,\n          \"links\": [],\n          \"nullPointMode\": \"connected\"\
      ,\n          \"percentage\": false,\n          \"pointradius\": 5,\n       \
      \   \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\"\
      : [\n            {\n              \"alias\": \"transmitted\",\n            \
      \  \"yaxis\": 2\n            }\n          ],\n          \"spaceLength\": 10,\n\
      \          \"span\": 6,\n          \"stack\": false,\n          \"steppedLine\"\
      : false,\n          \"targets\": [\n            {\n              \"expr\": \"\
      sum(rate(node_network_transmit_bytes{device!~\\\"lo\\\"}[5m]))\",\n        \
      \      \"hide\": false,\n              \"intervalFactor\": 2,\n            \
      \  \"legendFormat\": \"\",\n              \"refId\": \"B\",\n              \"\
      step\": 10,\n              \"target\": \"\"\n            }\n          ],\n \
      \         \"title\": \"Network Transmitted\",\n          \"tooltip\": {\n  \
      \          \"msResolution\": false,\n            \"shared\": true,\n       \
      \     \"sort\": 0,\n            \"value_type\": \"cumulative\"\n          },\n\
      \          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\"\
      : \"time\",\n            \"show\": true,\n            \"values\": []\n     \
      \     },\n          \"yaxes\": [\n            {\n              \"format\": \"\
      bytes\",\n              \"logBase\": 1,\n              \"show\": true\n    \
      \        },\n            {\n              \"format\": \"bytes\",\n         \
      \     \"logBase\": 1,\n              \"show\": true\n            }\n       \
      \   ]\n        }\n      ],\n      \"showTitle\": false,\n      \"title\": \"\
      New Row\",\n      \"titleSize\": \"h6\"\n    },\n    {\n      \"collapse\":\
      \ false,\n      \"editable\": false,\n      \"height\": \"276px\",\n      \"\
      panels\": [\n        {\n          \"aliasColors\": {},\n          \"bars\":\
      \ false,\n          \"dashes\": false,\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"error\": false,\n          \"\
      fill\": 1,\n          \"grid\": {\n            \"threshold1Color\": \"rgba(216,\
      \ 200, 27, 0.27)\",\n            \"threshold2Color\": \"rgba(234, 112, 112,\
      \ 0.22)\"\n          },\n          \"id\": 11,\n          \"isNew\": true,\n\
      \          \"legend\": {\n            \"alignAsTable\": false,\n           \
      \ \"avg\": false,\n            \"current\": false,\n            \"hideEmpty\"\
      : false,\n            \"hideZero\": false,\n            \"max\": false,\n  \
      \          \"min\": false,\n            \"rightSide\": false,\n            \"\
      show\": true,\n            \"total\": false\n          },\n          \"lines\"\
      : true,\n          \"linewidth\": 2,\n          \"links\": [],\n          \"\
      nullPointMode\": \"connected\",\n          \"percentage\": false,\n        \
      \  \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\"\
      : \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\":\
      \ 11,\n          \"span\": 9,\n          \"stack\": false,\n          \"steppedLine\"\
      : false,\n          \"targets\": [\n            {\n              \"expr\": \"\
      sum(kube_pod_info)\",\n              \"format\": \"time_series\",\n        \
      \      \"intervalFactor\": 2,\n              \"legendFormat\": \"Current number\
      \ of Pods\",\n              \"refId\": \"A\",\n              \"step\": 10\n\
      \            },\n            {\n              \"expr\": \"sum(kube_node_status_capacity_pods)\"\
      ,\n              \"format\": \"time_series\",\n              \"intervalFactor\"\
      : 2,\n              \"legendFormat\": \"Maximum capacity of pods\",\n      \
      \        \"refId\": \"B\",\n              \"step\": 10\n            }\n    \
      \      ],\n          \"title\": \"Cluster Pod Utilization\",\n          \"tooltip\"\
      : {\n            \"msResolution\": false,\n            \"shared\": true,\n \
      \           \"sort\": 0,\n            \"value_type\": \"individual\"\n     \
      \     },\n          \"type\": \"graph\",\n          \"xaxis\": {\n         \
      \   \"mode\": \"time\",\n            \"show\": true,\n            \"values\"\
      : []\n          },\n          \"yaxes\": [\n            {\n              \"\
      format\": \"short\",\n              \"logBase\": 1,\n              \"show\"\
      : true\n            },\n            {\n              \"format\": \"short\",\n\
      \              \"logBase\": 1,\n              \"show\": true\n            }\n\
      \          ]\n        },\n        {\n          \"colorBackground\": false,\n\
      \          \"colorValue\": false,\n          \"colors\": [\n            \"rgba(50,\
      \ 172, 45, 0.97)\",\n            \"rgba(237, 129, 40, 0.89)\",\n           \
      \ \"rgba(245, 54, 54, 0.9)\"\n          ],\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"format\": \"percent\",\n    \
      \      \"gauge\": {\n            \"maxValue\": 100,\n            \"minValue\"\
      : 0,\n            \"show\": true,\n            \"thresholdLabels\": false,\n\
      \            \"thresholdMarkers\": true\n          },\n          \"hideTimeOverride\"\
      : false,\n          \"id\": 7,\n          \"links\": [],\n          \"mappingType\"\
      : 1,\n          \"mappingTypes\": [\n            {\n              \"name\":\
      \ \"value to text\",\n              \"value\": 1\n            },\n         \
      \   {\n              \"name\": \"range to text\",\n              \"value\":\
      \ 2\n            }\n          ],\n          \"maxDataPoints\": 100,\n      \
      \    \"nullPointMode\": \"connected\",\n          \"postfix\": \"\",\n     \
      \     \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n         \
      \ \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n            {\n\
      \              \"from\": \"null\",\n              \"text\": \"N/A\",\n     \
      \         \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"100 - (sum(kube_node_status_capacity_pods)\
      \ - sum(kube_pod_info)) / sum(kube_node_status_capacity_pods) * 100\",\n   \
      \           \"format\": \"time_series\",\n              \"intervalFactor\":\
      \ 2,\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\
      ,\n              \"step\": 60,\n              \"target\": \"\"\n           \
      \ }\n          ],\n          \"thresholds\": \"80, 90\",\n          \"title\"\
      : \"Pod Utilization\",\n          \"transparent\": false,\n          \"type\"\
      : \"singlestat\",\n          \"valueFontSize\": \"80%\",\n          \"valueMaps\"\
      : [\n            {\n              \"op\": \"=\",\n              \"text\": \"\
      N/A\",\n              \"value\": \"null\"\n            }\n          ],\n   \
      \       \"valueName\": \"current\"\n        }\n      ],\n      \"showTitle\"\
      : false,\n      \"title\": \"New Row\",\n      \"titleSize\": \"h6\"\n    }\n\
      \  ],\n  \"schemaVersion\": 14,\n  \"sharedCrosshair\": false,\n  \"style\"\
      : \"dark\",\n  \"tags\": [],\n  \"templating\": {\n    \"list\": []\n  },\n\
      \  \"time\": {\n    \"from\": \"now-1h\",\n    \"to\": \"now\"\n  },\n  \"timepicker\"\
      : {\n    \"refresh_intervals\": [\n      \"5s\",\n      \"10s\",\n      \"30s\"\
      ,\n      \"1m\",\n      \"5m\",\n      \"15m\",\n      \"30m\",\n      \"1h\"\
      ,\n      \"2h\",\n      \"1d\"\n    ],\n    \"time_options\": [\n      \"5m\"\
      ,\n      \"15m\",\n      \"1h\",\n      \"6h\",\n      \"12h\",\n      \"24h\"\
      ,\n      \"2d\",\n      \"7d\",\n      \"30d\"\n    ]\n  },\n  \"timezone\"\
      : \"browser\",\n  \"title\": \"Kubernetes Capacity Planning\",\n  \"version\"\
      : 4\n}\n"
  kind: ConfigMap
  metadata:
    labels:
    name: grafana-dashboard-definition-kubernetes-capacity-planning
    namespace: knative-monitoring
- apiVersion: v1
  data:
    kubernetes-cluster-health-dashboard.json: "{\n  \"__inputs\": [\n    {\n     \
      \ \"description\": \"\",\n      \"label\": \"prometheus\",\n      \"name\":\
      \ \"prometheus\",\n      \"pluginId\": \"prometheus\",\n      \"pluginName\"\
      : \"Prometheus\",\n      \"type\": \"datasource\"\n    }\n  ],\n  \"annotations\"\
      : {\n    \"list\": []\n  },\n  \"editable\": false,\n  \"gnetId\": null,\n \
      \ \"graphTooltip\": 0,\n  \"id\": null,\n  \"links\": [],\n  \"refresh\": \"\
      10s\",\n  \"rows\": [\n    {\n      \"collapse\": false,\n      \"editable\"\
      : false,\n      \"height\": \"254px\",\n      \"panels\": [\n        {\n   \
      \       \"colorBackground\": false,\n          \"colorValue\": true,\n     \
      \     \"colors\": [\n            \"rgba(50, 172, 45, 0.97)\",\n            \"\
      rgba(237, 129, 40, 0.89)\",\n            \"rgba(245, 54, 54, 0.9)\"\n      \
      \    ],\n          \"datasource\": \"prometheus\",\n          \"editable\":\
      \ false,\n          \"format\": \"none\",\n          \"gauge\": {\n        \
      \    \"maxValue\": 100,\n            \"minValue\": 0,\n            \"show\"\
      : false,\n            \"thresholdLabels\": false,\n            \"thresholdMarkers\"\
      : true\n          },\n          \"hideTimeOverride\": false,\n          \"id\"\
      : 1,\n          \"links\": [],\n          \"mappingType\": 1,\n          \"\
      mappingTypes\": [\n            {\n              \"name\": \"value to text\"\
      ,\n              \"value\": 1\n            },\n            {\n             \
      \ \"name\": \"range to text\",\n              \"value\": 2\n            }\n\
      \          ],\n          \"maxDataPoints\": 100,\n          \"nullPointMode\"\
      : \"connected\",\n          \"postfix\": \"\",\n          \"postfixFontSize\"\
      : \"50%\",\n          \"prefix\": \"\",\n          \"prefixFontSize\": \"50%\"\
      ,\n          \"rangeMaps\": [\n            {\n              \"from\": \"null\"\
      ,\n              \"text\": \"N/A\",\n              \"to\": \"null\"\n      \
      \      }\n          ],\n          \"span\": 3,\n          \"sparkline\": {\n\
      \            \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n            \"full\"\
      : false,\n            \"lineColor\": \"rgb(31, 120, 193)\",\n            \"\
      show\": false\n          },\n          \"targets\": [\n            {\n     \
      \         \"expr\": \"sum(up{job=~\\\"apiserver|kube-scheduler|kube-controller-manager\\\
      \"} == 0)\",\n              \"format\": \"time_series\",\n              \"intervalFactor\"\
      : 2,\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\
      ,\n              \"step\": 600\n            }\n          ],\n          \"thresholds\"\
      : \"1, 3\",\n          \"title\": \"Control Plane Components Down\",\n     \
      \     \"transparent\": false,\n          \"type\": \"singlestat\",\n       \
      \   \"valueFontSize\": \"80%\",\n          \"valueMaps\": [\n            {\n\
      \              \"op\": \"=\",\n              \"text\": \"Everything UP and healthy\"\
      ,\n              \"value\": \"null\"\n            },\n            {\n      \
      \        \"op\": \"=\",\n              \"text\": \"\",\n              \"value\"\
      : \"\"\n            }\n          ],\n          \"valueName\": \"avg\"\n    \
      \    },\n        {\n          \"colorBackground\": false,\n          \"colorValue\"\
      : true,\n          \"colors\": [\n            \"rgba(50, 172, 45, 0.97)\",\n\
      \            \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(245, 54, 54,\
      \ 0.9)\"\n          ],\n          \"datasource\": \"prometheus\",\n        \
      \  \"editable\": false,\n          \"format\": \"none\",\n          \"gauge\"\
      : {\n            \"maxValue\": 100,\n            \"minValue\": 0,\n        \
      \    \"show\": false,\n            \"thresholdLabels\": false,\n           \
      \ \"thresholdMarkers\": true\n          },\n          \"hideTimeOverride\":\
      \ false,\n          \"id\": 2,\n          \"links\": [],\n          \"mappingType\"\
      : 1,\n          \"mappingTypes\": [\n            {\n              \"name\":\
      \ \"value to text\",\n              \"value\": 1\n            },\n         \
      \   {\n              \"name\": \"range to text\",\n              \"value\":\
      \ 2\n            }\n          ],\n          \"maxDataPoints\": 100,\n      \
      \    \"nullPointMode\": \"connected\",\n          \"postfix\": \"\",\n     \
      \     \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n         \
      \ \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n            {\n\
      \              \"from\": \"null\",\n              \"text\": \"N/A\",\n     \
      \         \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"sum(ALERTS{alertstate=\\\
      \"firing\\\",alertname!=\\\"DeadMansSwitch\\\"})\",\n              \"format\"\
      : \"time_series\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"\",\n              \"refId\": \"A\",\n              \"step\": 600\n    \
      \        }\n          ],\n          \"thresholds\": \"1, 3\",\n          \"\
      title\": \"Alerts Firing\",\n          \"transparent\": false,\n          \"\
      type\": \"singlestat\",\n          \"valueFontSize\": \"80%\",\n          \"\
      valueMaps\": [\n            {\n              \"op\": \"=\",\n              \"\
      text\": \"0\",\n              \"value\": \"null\"\n            }\n         \
      \ ],\n          \"valueName\": \"current\"\n        },\n        {\n        \
      \  \"colorBackground\": false,\n          \"colorValue\": true,\n          \"\
      colors\": [\n            \"rgba(50, 172, 45, 0.97)\",\n            \"rgba(237,\
      \ 129, 40, 0.89)\",\n            \"rgba(245, 54, 54, 0.9)\"\n          ],\n\
      \          \"datasource\": \"prometheus\",\n          \"editable\": false,\n\
      \          \"format\": \"none\",\n          \"gauge\": {\n            \"maxValue\"\
      : 100,\n            \"minValue\": 0,\n            \"show\": false,\n       \
      \     \"thresholdLabels\": false,\n            \"thresholdMarkers\": true\n\
      \          },\n          \"hideTimeOverride\": false,\n          \"id\": 3,\n\
      \          \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfix\": \"\",\n          \"postfixFontSize\": \"50%\",\n \
      \         \"prefix\": \"\",\n          \"prefixFontSize\": \"50%\",\n      \
      \    \"rangeMaps\": [\n            {\n              \"from\": \"null\",\n  \
      \            \"text\": \"N/A\",\n              \"to\": \"null\"\n          \
      \  }\n          ],\n          \"span\": 3,\n          \"sparkline\": {\n   \
      \         \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n            \"full\"\
      : false,\n            \"lineColor\": \"rgb(31, 120, 193)\",\n            \"\
      show\": false\n          },\n          \"targets\": [\n            {\n     \
      \         \"expr\": \"sum(ALERTS{alertstate=\\\"pending\\\",alertname!=\\\"\
      DeadMansSwitch\\\"})\",\n              \"format\": \"time_series\",\n      \
      \        \"intervalFactor\": 2,\n              \"legendFormat\": \"\",\n   \
      \           \"refId\": \"A\",\n              \"step\": 600\n            }\n\
      \          ],\n          \"thresholds\": \"3, 5\",\n          \"title\": \"\
      Alerts Pending\",\n          \"transparent\": false,\n          \"type\": \"\
      singlestat\",\n          \"valueFontSize\": \"80%\",\n          \"valueMaps\"\
      : [\n            {\n              \"op\": \"=\",\n              \"text\": \"\
      0\",\n              \"value\": \"null\"\n            }\n          ],\n     \
      \     \"valueName\": \"current\"\n        },\n        {\n          \"colorBackground\"\
      : false,\n          \"colorValue\": true,\n          \"colors\": [\n       \
      \     \"rgba(50, 172, 45, 0.97)\",\n            \"rgba(237, 129, 40, 0.89)\"\
      ,\n            \"rgba(245, 54, 54, 0.9)\"\n          ],\n          \"datasource\"\
      : \"prometheus\",\n          \"editable\": false,\n          \"format\": \"\
      none\",\n          \"gauge\": {\n            \"maxValue\": 100,\n          \
      \  \"minValue\": 0,\n            \"show\": false,\n            \"thresholdLabels\"\
      : false,\n            \"thresholdMarkers\": true\n          },\n          \"\
      hideTimeOverride\": false,\n          \"id\": 4,\n          \"links\": [],\n\
      \          \"mappingType\": 1,\n          \"mappingTypes\": [\n            {\n\
      \              \"name\": \"value to text\",\n              \"value\": 1\n  \
      \          },\n            {\n              \"name\": \"range to text\",\n \
      \             \"value\": 2\n            }\n          ],\n          \"maxDataPoints\"\
      : 100,\n          \"nullPointMode\": \"connected\",\n          \"postfix\":\
      \ \"\",\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\"\
      ,\n          \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n    \
      \        {\n              \"from\": \"null\",\n              \"text\": \"N/A\"\
      ,\n              \"to\": \"null\"\n            }\n          ],\n          \"\
      span\": 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31,\
      \ 118, 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\"\
      : \"rgb(31, 120, 193)\",\n            \"show\": false\n          },\n      \
      \    \"targets\": [\n            {\n              \"expr\": \"count(increase(kube_pod_container_status_restarts[1h])\
      \ > 5)\",\n              \"format\": \"time_series\",\n              \"intervalFactor\"\
      : 2,\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\
      ,\n              \"step\": 600\n            }\n          ],\n          \"thresholds\"\
      : \"1, 3\",\n          \"title\": \"Crashlooping Pods\",\n          \"transparent\"\
      : false,\n          \"type\": \"singlestat\",\n          \"valueFontSize\":\
      \ \"80%\",\n          \"valueMaps\": [\n            {\n              \"op\"\
      : \"=\",\n              \"text\": \"0\",\n              \"value\": \"null\"\n\
      \            }\n          ],\n          \"valueName\": \"current\"\n       \
      \ }\n      ],\n      \"showTitle\": false,\n      \"title\": \"Row\",\n    \
      \  \"titleSize\": \"h6\"\n    },\n    {\n      \"collapse\": false,\n      \"\
      editable\": false,\n      \"height\": \"250px\",\n      \"panels\": [\n    \
      \    {\n          \"colorBackground\": false,\n          \"colorValue\": true,\n\
      \          \"colors\": [\n            \"rgba(50, 172, 45, 0.97)\",\n       \
      \     \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(245, 54, 54, 0.9)\"\n\
      \          ],\n          \"datasource\": \"prometheus\",\n          \"editable\"\
      : false,\n          \"format\": \"none\",\n          \"gauge\": {\n        \
      \    \"maxValue\": 100,\n            \"minValue\": 0,\n            \"show\"\
      : false,\n            \"thresholdLabels\": false,\n            \"thresholdMarkers\"\
      : true\n          },\n          \"hideTimeOverride\": false,\n          \"id\"\
      : 5,\n          \"links\": [],\n          \"mappingType\": 1,\n          \"\
      mappingTypes\": [\n            {\n              \"name\": \"value to text\"\
      ,\n              \"value\": 1\n            },\n            {\n             \
      \ \"name\": \"range to text\",\n              \"value\": 2\n            }\n\
      \          ],\n          \"maxDataPoints\": 100,\n          \"nullPointMode\"\
      : \"connected\",\n          \"postfix\": \"\",\n          \"postfixFontSize\"\
      : \"50%\",\n          \"prefix\": \"\",\n          \"prefixFontSize\": \"50%\"\
      ,\n          \"rangeMaps\": [\n            {\n              \"from\": \"null\"\
      ,\n              \"text\": \"N/A\",\n              \"to\": \"null\"\n      \
      \      }\n          ],\n          \"span\": 3,\n          \"sparkline\": {\n\
      \            \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n            \"full\"\
      : false,\n            \"lineColor\": \"rgb(31, 120, 193)\",\n            \"\
      show\": false\n          },\n          \"targets\": [\n            {\n     \
      \         \"expr\": \"sum(kube_node_status_condition{condition=\\\"Ready\\\"\
      ,status!=\\\"true\\\"})\",\n              \"format\": \"time_series\",\n   \
      \           \"intervalFactor\": 2,\n              \"legendFormat\": \"\",\n\
      \              \"refId\": \"A\",\n              \"step\": 600\n            }\n\
      \          ],\n          \"thresholds\": \"1, 3\",\n          \"title\": \"\
      Node Not Ready\",\n          \"transparent\": false,\n          \"type\": \"\
      singlestat\",\n          \"valueFontSize\": \"80%\",\n          \"valueMaps\"\
      : [\n            {\n              \"op\": \"=\",\n              \"text\": \"\
      N/A\",\n              \"value\": \"null\"\n            }\n          ],\n   \
      \       \"valueName\": \"current\"\n        },\n        {\n          \"colorBackground\"\
      : false,\n          \"colorValue\": true,\n          \"colors\": [\n       \
      \     \"rgba(50, 172, 45, 0.97)\",\n            \"rgba(237, 129, 40, 0.89)\"\
      ,\n            \"rgba(245, 54, 54, 0.9)\"\n          ],\n          \"datasource\"\
      : \"prometheus\",\n          \"editable\": false,\n          \"format\": \"\
      none\",\n          \"gauge\": {\n            \"maxValue\": 100,\n          \
      \  \"minValue\": 0,\n            \"show\": false,\n            \"thresholdLabels\"\
      : false,\n            \"thresholdMarkers\": true\n          },\n          \"\
      hideTimeOverride\": false,\n          \"id\": 6,\n          \"links\": [],\n\
      \          \"mappingType\": 1,\n          \"mappingTypes\": [\n            {\n\
      \              \"name\": \"value to text\",\n              \"value\": 1\n  \
      \          },\n            {\n              \"name\": \"range to text\",\n \
      \             \"value\": 2\n            }\n          ],\n          \"maxDataPoints\"\
      : 100,\n          \"nullPointMode\": \"connected\",\n          \"postfix\":\
      \ \"\",\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\"\
      ,\n          \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n    \
      \        {\n              \"from\": \"null\",\n              \"text\": \"N/A\"\
      ,\n              \"to\": \"null\"\n            }\n          ],\n          \"\
      span\": 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31,\
      \ 118, 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\"\
      : \"rgb(31, 120, 193)\",\n            \"show\": false\n          },\n      \
      \    \"targets\": [\n            {\n              \"expr\": \"sum(kube_node_status_condition{condition=\\\
      \"DiskPressure\\\",status=\\\"true\\\"})\",\n              \"format\": \"time_series\"\
      ,\n              \"intervalFactor\": 2,\n              \"legendFormat\": \"\"\
      ,\n              \"refId\": \"A\",\n              \"step\": 600\n          \
      \  }\n          ],\n          \"thresholds\": \"1, 3\",\n          \"title\"\
      : \"Node Disk Pressure\",\n          \"transparent\": false,\n          \"type\"\
      : \"singlestat\",\n          \"valueFontSize\": \"80%\",\n          \"valueMaps\"\
      : [\n            {\n              \"op\": \"=\",\n              \"text\": \"\
      N/A\",\n              \"value\": \"null\"\n            }\n          ],\n   \
      \       \"valueName\": \"current\"\n        },\n        {\n          \"colorBackground\"\
      : false,\n          \"colorValue\": true,\n          \"colors\": [\n       \
      \     \"rgba(50, 172, 45, 0.97)\",\n            \"rgba(237, 129, 40, 0.89)\"\
      ,\n            \"rgba(245, 54, 54, 0.9)\"\n          ],\n          \"datasource\"\
      : \"prometheus\",\n          \"editable\": false,\n          \"format\": \"\
      none\",\n          \"gauge\": {\n            \"maxValue\": 100,\n          \
      \  \"minValue\": 0,\n            \"show\": false,\n            \"thresholdLabels\"\
      : false,\n            \"thresholdMarkers\": true\n          },\n          \"\
      hideTimeOverride\": false,\n          \"id\": 7,\n          \"links\": [],\n\
      \          \"mappingType\": 1,\n          \"mappingTypes\": [\n            {\n\
      \              \"name\": \"value to text\",\n              \"value\": 1\n  \
      \          },\n            {\n              \"name\": \"range to text\",\n \
      \             \"value\": 2\n            }\n          ],\n          \"maxDataPoints\"\
      : 100,\n          \"nullPointMode\": \"connected\",\n          \"postfix\":\
      \ \"\",\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\"\
      ,\n          \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n    \
      \        {\n              \"from\": \"null\",\n              \"text\": \"N/A\"\
      ,\n              \"to\": \"null\"\n            }\n          ],\n          \"\
      span\": 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31,\
      \ 118, 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\"\
      : \"rgb(31, 120, 193)\",\n            \"show\": false\n          },\n      \
      \    \"targets\": [\n            {\n              \"expr\": \"sum(kube_node_status_condition{condition=\\\
      \"MemoryPressure\\\",status=\\\"true\\\"})\",\n              \"format\": \"\
      time_series\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"\",\n              \"refId\": \"A\",\n              \"step\": 600\n    \
      \        }\n          ],\n          \"thresholds\": \"1, 3\",\n          \"\
      title\": \"Node Memory Pressure\",\n          \"transparent\": false,\n    \
      \      \"type\": \"singlestat\",\n          \"valueFontSize\": \"80%\",\n  \
      \        \"valueMaps\": [\n            {\n              \"op\": \"=\",\n   \
      \           \"text\": \"N/A\",\n              \"value\": \"null\"\n        \
      \    }\n          ],\n          \"valueName\": \"current\"\n        },\n   \
      \     {\n          \"colorBackground\": false,\n          \"colorValue\": true,\n\
      \          \"colors\": [\n            \"rgba(50, 172, 45, 0.97)\",\n       \
      \     \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(245, 54, 54, 0.9)\"\n\
      \          ],\n          \"datasource\": \"prometheus\",\n          \"editable\"\
      : false,\n          \"format\": \"none\",\n          \"gauge\": {\n        \
      \    \"maxValue\": 100,\n            \"minValue\": 0,\n            \"show\"\
      : false,\n            \"thresholdLabels\": false,\n            \"thresholdMarkers\"\
      : true\n          },\n          \"hideTimeOverride\": false,\n          \"id\"\
      : 8,\n          \"links\": [],\n          \"mappingType\": 1,\n          \"\
      mappingTypes\": [\n            {\n              \"name\": \"value to text\"\
      ,\n              \"value\": 1\n            },\n            {\n             \
      \ \"name\": \"range to text\",\n              \"value\": 2\n            }\n\
      \          ],\n          \"maxDataPoints\": 100,\n          \"nullPointMode\"\
      : \"connected\",\n          \"postfix\": \"\",\n          \"postfixFontSize\"\
      : \"50%\",\n          \"prefix\": \"\",\n          \"prefixFontSize\": \"50%\"\
      ,\n          \"rangeMaps\": [\n            {\n              \"from\": \"null\"\
      ,\n              \"text\": \"N/A\",\n              \"to\": \"null\"\n      \
      \      }\n          ],\n          \"span\": 3,\n          \"sparkline\": {\n\
      \            \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n            \"full\"\
      : false,\n            \"lineColor\": \"rgb(31, 120, 193)\",\n            \"\
      show\": false\n          },\n          \"targets\": [\n            {\n     \
      \         \"expr\": \"sum(kube_node_spec_unschedulable)\",\n              \"\
      format\": \"time_series\",\n              \"intervalFactor\": 2,\n         \
      \     \"legendFormat\": \"\",\n              \"refId\": \"A\",\n           \
      \   \"step\": 600\n            }\n          ],\n          \"thresholds\": \"\
      1, 3\",\n          \"title\": \"Nodes Unschedulable\",\n          \"transparent\"\
      : false,\n          \"type\": \"singlestat\",\n          \"valueFontSize\":\
      \ \"80%\",\n          \"valueMaps\": [\n            {\n              \"op\"\
      : \"=\",\n              \"text\": \"N/A\",\n              \"value\": \"null\"\
      \n            }\n          ],\n          \"valueName\": \"current\"\n      \
      \  }\n      ],\n      \"showTitle\": false,\n      \"title\": \"Row\",\n   \
      \   \"titleSize\": \"h6\"\n    }\n  ],\n  \"schemaVersion\": 14,\n  \"sharedCrosshair\"\
      : false,\n  \"style\": \"dark\",\n  \"tags\": [],\n  \"templating\": {\n   \
      \ \"list\": []\n  },\n  \"time\": {\n    \"from\": \"now-6h\",\n    \"to\":\
      \ \"now\"\n  },\n  \"timepicker\": {\n    \"refresh_intervals\": [\n      \"\
      5s\",\n      \"10s\",\n      \"30s\",\n      \"1m\",\n      \"5m\",\n      \"\
      15m\",\n      \"30m\",\n      \"1h\",\n      \"2h\",\n      \"1d\"\n    ],\n\
      \    \"time_options\": [\n      \"5m\",\n      \"15m\",\n      \"1h\",\n   \
      \   \"6h\",\n      \"12h\",\n      \"24h\",\n      \"2d\",\n      \"7d\",\n\
      \      \"30d\"\n    ]\n  },\n  \"timezone\": \"browser\",\n  \"title\": \"Kubernetes\
      \ Cluster Health\",\n  \"version\": 9\n}\n"
  kind: ConfigMap
  metadata:
    labels:
    name: grafana-dashboard-definition-kubernetes-cluster-health
    namespace: knative-monitoring
- apiVersion: v1
  data:
    kubernetes-cluster-status-dashboard.json: "{\n  \"__inputs\": [\n    {\n     \
      \ \"description\": \"\",\n      \"label\": \"prometheus\",\n      \"name\":\
      \ \"prometheus\",\n      \"pluginId\": \"prometheus\",\n      \"pluginName\"\
      : \"Prometheus\",\n      \"type\": \"datasource\"\n    }\n  ],\n  \"annotations\"\
      : {\n    \"list\": []\n  },\n  \"editable\": false,\n  \"graphTooltip\": 0,\n\
      \  \"hideControls\": false,\n  \"links\": [],\n  \"rows\": [\n    {\n      \"\
      collapse\": false,\n      \"editable\": false,\n      \"height\": \"129px\"\
      ,\n      \"panels\": [\n        {\n          \"colorBackground\": false,\n \
      \         \"colorValue\": true,\n          \"colors\": [\n            \"rgba(50,\
      \ 172, 45, 0.97)\",\n            \"rgba(237, 129, 40, 0.89)\",\n           \
      \ \"rgba(245, 54, 54, 0.9)\"\n          ],\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"format\": \"none\",\n       \
      \   \"gauge\": {\n            \"maxValue\": 100,\n            \"minValue\":\
      \ 0,\n            \"show\": false,\n            \"thresholdLabels\": false,\n\
      \            \"thresholdMarkers\": true\n          },\n          \"id\": 5,\n\
      \          \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n  \
      \        \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n        \
      \    {\n              \"from\": \"null\",\n              \"text\": \"N/A\",\n\
      \              \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 6,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"sum(up{job=~\\\"apiserver|kube-scheduler|kube-controller-manager\\\
      \"} == 0)\",\n              \"format\": \"time_series\",\n              \"intervalFactor\"\
      : 2,\n              \"refId\": \"A\",\n              \"step\": 600\n       \
      \     }\n          ],\n          \"thresholds\": \"1, 3\",\n          \"title\"\
      : \"Control Plane UP\",\n          \"type\": \"singlestat\",\n          \"valueFontSize\"\
      : \"80%\",\n          \"valueMaps\": [\n            {\n              \"op\"\
      : \"=\",\n              \"text\": \"UP\",\n              \"value\": \"null\"\
      \n            }\n          ],\n          \"valueName\": \"total\"\n        },\n\
      \        {\n          \"colorBackground\": false,\n          \"colorValue\"\
      : true,\n          \"colors\": [\n            \"rgba(50, 172, 45, 0.97)\",\n\
      \            \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(245, 54, 54,\
      \ 0.9)\"\n          ],\n          \"datasource\": \"prometheus\",\n        \
      \  \"editable\": false,\n          \"format\": \"none\",\n          \"gauge\"\
      : {\n            \"maxValue\": 100,\n            \"minValue\": 0,\n        \
      \    \"show\": false,\n            \"thresholdLabels\": false,\n           \
      \ \"thresholdMarkers\": true\n          },\n          \"id\": 6,\n         \
      \ \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n  \
      \        \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n        \
      \    {\n              \"from\": \"null\",\n              \"text\": \"N/A\",\n\
      \              \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 6,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"sum(ALERTS{alertstate=\\\
      \"firing\\\",alertname!=\\\"DeadMansSwitch\\\"})\",\n              \"format\"\
      : \"time_series\",\n              \"intervalFactor\": 2,\n              \"refId\"\
      : \"A\",\n              \"step\": 600\n            }\n          ],\n       \
      \   \"thresholds\": \"3, 5\",\n          \"title\": \"Alerts Firing\",\n   \
      \       \"type\": \"singlestat\",\n          \"valueFontSize\": \"80%\",\n \
      \         \"valueMaps\": [\n            {\n              \"op\": \"=\",\n  \
      \            \"text\": \"0\",\n              \"value\": \"null\"\n         \
      \   }\n          ],\n          \"valueName\": \"current\"\n        }\n     \
      \ ],\n      \"showTitle\": true,\n      \"title\": \"Cluster Health\",\n   \
      \   \"titleSize\": \"h6\"\n    },\n    {\n      \"collapse\": false,\n     \
      \ \"editable\": false,\n      \"height\": \"168px\",\n      \"panels\": [\n\
      \        {\n          \"colorBackground\": false,\n          \"colorValue\"\
      : false,\n          \"colors\": [\n            \"rgba(245, 54, 54, 0.9)\",\n\
      \            \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(50, 172, 45,\
      \ 0.97)\"\n          ],\n          \"datasource\": \"prometheus\",\n       \
      \   \"editable\": false,\n          \"format\": \"percent\",\n          \"gauge\"\
      : {\n            \"maxValue\": 100,\n            \"minValue\": 0,\n        \
      \    \"show\": true,\n            \"thresholdLabels\": false,\n            \"\
      thresholdMarkers\": true\n          },\n          \"id\": 1,\n          \"links\"\
      : [],\n          \"mappingType\": 1,\n          \"mappingTypes\": [\n      \
      \      {\n              \"name\": \"value to text\",\n              \"value\"\
      : 1\n            },\n            {\n              \"name\": \"range to text\"\
      ,\n              \"value\": 2\n            }\n          ],\n          \"maxDataPoints\"\
      : 100,\n          \"nullPointMode\": \"connected\",\n          \"postfixFontSize\"\
      : \"50%\",\n          \"prefix\": \"\",\n          \"prefixFontSize\": \"50%\"\
      ,\n          \"rangeMaps\": [\n            {\n              \"from\": \"null\"\
      ,\n              \"text\": \"N/A\",\n              \"to\": \"null\"\n      \
      \      }\n          ],\n          \"span\": 3,\n          \"sparkline\": {\n\
      \            \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n            \"full\"\
      : false,\n            \"lineColor\": \"rgb(31, 120, 193)\",\n            \"\
      show\": false\n          },\n          \"targets\": [\n            {\n     \
      \         \"expr\": \"(sum(up{job=\\\"apiserver\\\"} == 1) / count(up{job=\\\
      \"apiserver\\\"})) * 100\",\n              \"format\": \"time_series\",\n  \
      \            \"intervalFactor\": 2,\n              \"refId\": \"A\",\n     \
      \         \"step\": 600\n            }\n          ],\n          \"thresholds\"\
      : \"50, 80\",\n          \"title\": \"API Servers UP\",\n          \"type\"\
      : \"singlestat\",\n          \"valueFontSize\": \"80%\",\n          \"valueMaps\"\
      : [\n            {\n              \"op\": \"=\",\n              \"text\": \"\
      N/A\",\n              \"value\": \"null\"\n            }\n          ],\n   \
      \       \"valueName\": \"current\"\n        },\n        {\n          \"colorBackground\"\
      : false,\n          \"colorValue\": false,\n          \"colors\": [\n      \
      \      \"rgba(245, 54, 54, 0.9)\",\n            \"rgba(237, 129, 40, 0.89)\"\
      ,\n            \"rgba(50, 172, 45, 0.97)\"\n          ],\n          \"datasource\"\
      : \"prometheus\",\n          \"editable\": false,\n          \"format\": \"\
      percent\",\n          \"gauge\": {\n            \"maxValue\": 100,\n       \
      \     \"minValue\": 0,\n            \"show\": true,\n            \"thresholdLabels\"\
      : false,\n            \"thresholdMarkers\": true\n          },\n          \"\
      id\": 2,\n          \"links\": [],\n          \"mappingType\": 1,\n        \
      \  \"mappingTypes\": [\n            {\n              \"name\": \"value to text\"\
      ,\n              \"value\": 1\n            },\n            {\n             \
      \ \"name\": \"range to text\",\n              \"value\": 2\n            }\n\
      \          ],\n          \"maxDataPoints\": 100,\n          \"nullPointMode\"\
      : \"connected\",\n          \"postfixFontSize\": \"50%\",\n          \"prefix\"\
      : \"\",\n          \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n\
      \            {\n              \"from\": \"null\",\n              \"text\": \"\
      N/A\",\n              \"to\": \"null\"\n            }\n          ],\n      \
      \    \"span\": 3,\n          \"sparkline\": {\n            \"fillColor\": \"\
      rgba(31, 118, 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\"\
      : \"rgb(31, 120, 193)\",\n            \"show\": false\n          },\n      \
      \    \"targets\": [\n            {\n              \"expr\": \"(sum(up{job=\\\
      \"kube-controller-manager\\\"} == 1) / count(up{job=\\\"kube-controller-manager\\\
      \"})) * 100\",\n              \"format\": \"time_series\",\n              \"\
      intervalFactor\": 2,\n              \"refId\": \"A\",\n              \"step\"\
      : 600\n            }\n          ],\n          \"thresholds\": \"50, 80\",\n\
      \          \"title\": \"Controller Managers UP\",\n          \"type\": \"singlestat\"\
      ,\n          \"valueFontSize\": \"80%\",\n          \"valueMaps\": [\n     \
      \       {\n              \"op\": \"=\",\n              \"text\": \"N/A\",\n\
      \              \"value\": \"null\"\n            }\n          ],\n          \"\
      valueName\": \"current\"\n        },\n        {\n          \"colorBackground\"\
      : false,\n          \"colorValue\": false,\n          \"colors\": [\n      \
      \      \"rgba(245, 54, 54, 0.9)\",\n            \"rgba(237, 129, 40, 0.89)\"\
      ,\n            \"rgba(50, 172, 45, 0.97)\"\n          ],\n          \"datasource\"\
      : \"prometheus\",\n          \"editable\": false,\n          \"format\": \"\
      percent\",\n          \"gauge\": {\n            \"maxValue\": 100,\n       \
      \     \"minValue\": 0,\n            \"show\": true,\n            \"thresholdLabels\"\
      : false,\n            \"thresholdMarkers\": true\n          },\n          \"\
      id\": 3,\n          \"links\": [],\n          \"mappingType\": 1,\n        \
      \  \"mappingTypes\": [\n            {\n              \"name\": \"value to text\"\
      ,\n              \"value\": 1\n            },\n            {\n             \
      \ \"name\": \"range to text\",\n              \"value\": 2\n            }\n\
      \          ],\n          \"maxDataPoints\": 100,\n          \"nullPointMode\"\
      : \"connected\",\n          \"postfixFontSize\": \"50%\",\n          \"prefix\"\
      : \"\",\n          \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n\
      \            {\n              \"from\": \"null\",\n              \"text\": \"\
      N/A\",\n              \"to\": \"null\"\n            }\n          ],\n      \
      \    \"span\": 3,\n          \"sparkline\": {\n            \"fillColor\": \"\
      rgba(31, 118, 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\"\
      : \"rgb(31, 120, 193)\",\n            \"show\": false\n          },\n      \
      \    \"targets\": [\n            {\n              \"expr\": \"(sum(up{job=\\\
      \"kube-scheduler\\\"} == 1) / count(up{job=\\\"kube-scheduler\\\"})) * 100\"\
      ,\n              \"format\": \"time_series\",\n              \"intervalFactor\"\
      : 2,\n              \"refId\": \"A\",\n              \"step\": 600\n       \
      \     }\n          ],\n          \"thresholds\": \"50, 80\",\n          \"title\"\
      : \"Schedulers UP\",\n          \"type\": \"singlestat\",\n          \"valueFontSize\"\
      : \"80%\",\n          \"valueMaps\": [\n            {\n              \"op\"\
      : \"=\",\n              \"text\": \"N/A\",\n              \"value\": \"null\"\
      \n            }\n          ],\n          \"valueName\": \"current\"\n      \
      \  },\n        {\n          \"colorBackground\": false,\n          \"colorValue\"\
      : true,\n          \"colors\": [\n            \"rgba(50, 172, 45, 0.97)\",\n\
      \            \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(245, 54, 54,\
      \ 0.9)\"\n          ],\n          \"datasource\": \"prometheus\",\n        \
      \  \"editable\": false,\n          \"format\": \"none\",\n          \"gauge\"\
      : {\n            \"maxValue\": 100,\n            \"minValue\": 0,\n        \
      \    \"show\": false,\n            \"thresholdLabels\": false,\n           \
      \ \"thresholdMarkers\": true\n          },\n          \"id\": 4,\n         \
      \ \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n  \
      \        \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n        \
      \    {\n              \"from\": \"null\",\n              \"text\": \"N/A\",\n\
      \              \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"count(increase(kube_pod_container_status_restarts{namespace=~\\\
      \"kube-system|tectonic-system\\\"}[1h]) > 5)\",\n              \"format\": \"\
      time_series\",\n              \"intervalFactor\": 2,\n              \"refId\"\
      : \"A\",\n              \"step\": 600\n            }\n          ],\n       \
      \   \"thresholds\": \"1, 3\",\n          \"title\": \"Crashlooping Control Plane\
      \ Pods\",\n          \"type\": \"singlestat\",\n          \"valueFontSize\"\
      : \"80%\",\n          \"valueMaps\": [\n            {\n              \"op\"\
      : \"=\",\n              \"text\": \"0\",\n              \"value\": \"null\"\n\
      \            }\n          ],\n          \"valueName\": \"current\"\n       \
      \ }\n      ],\n      \"showTitle\": true,\n      \"title\": \"Control Plane\
      \ Status\",\n      \"titleSize\": \"h6\"\n    },\n    {\n      \"collapse\"\
      : false,\n      \"editable\": false,\n      \"height\": \"158px\",\n      \"\
      panels\": [\n        {\n          \"colorBackground\": false,\n          \"\
      colorValue\": false,\n          \"colors\": [\n            \"rgba(50, 172, 45,\
      \ 0.97)\",\n            \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(245,\
      \ 54, 54, 0.9)\"\n          ],\n          \"datasource\": \"prometheus\",\n\
      \          \"editable\": false,\n          \"format\": \"percent\",\n      \
      \    \"gauge\": {\n            \"maxValue\": 100,\n            \"minValue\"\
      : 0,\n            \"show\": true,\n            \"thresholdLabels\": false,\n\
      \            \"thresholdMarkers\": true\n          },\n          \"id\": 8,\n\
      \          \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n  \
      \        \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n        \
      \    {\n              \"from\": \"null\",\n              \"text\": \"N/A\",\n\
      \              \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"sum(100 - (avg by (instance)\
      \ (rate(node_cpu{job=\\\"node-exporter\\\",mode=\\\"idle\\\"}[5m])) * 100))\
      \ / count(node_cpu{job=\\\"node-exporter\\\",mode=\\\"idle\\\"})\",\n      \
      \        \"format\": \"time_series\",\n              \"intervalFactor\": 2,\n\
      \              \"refId\": \"A\",\n              \"step\": 600\n            }\n\
      \          ],\n          \"thresholds\": \"80, 90\",\n          \"title\": \"\
      CPU Utilization\",\n          \"type\": \"singlestat\",\n          \"valueFontSize\"\
      : \"80%\",\n          \"valueMaps\": [\n            {\n              \"op\"\
      : \"=\",\n              \"text\": \"N/A\",\n              \"value\": \"null\"\
      \n            }\n          ],\n          \"valueName\": \"avg\"\n        },\n\
      \        {\n          \"colorBackground\": false,\n          \"colorValue\"\
      : false,\n          \"colors\": [\n            \"rgba(50, 172, 45, 0.97)\",\n\
      \            \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(245, 54, 54,\
      \ 0.9)\"\n          ],\n          \"datasource\": \"prometheus\",\n        \
      \  \"editable\": false,\n          \"format\": \"percent\",\n          \"gauge\"\
      : {\n            \"maxValue\": 100,\n            \"minValue\": 0,\n        \
      \    \"show\": true,\n            \"thresholdLabels\": false,\n            \"\
      thresholdMarkers\": true\n          },\n          \"id\": 7,\n          \"links\"\
      : [],\n          \"mappingType\": 1,\n          \"mappingTypes\": [\n      \
      \      {\n              \"name\": \"value to text\",\n              \"value\"\
      : 1\n            },\n            {\n              \"name\": \"range to text\"\
      ,\n              \"value\": 2\n            }\n          ],\n          \"maxDataPoints\"\
      : 100,\n          \"nullPointMode\": \"connected\",\n          \"postfixFontSize\"\
      : \"50%\",\n          \"prefix\": \"\",\n          \"prefixFontSize\": \"50%\"\
      ,\n          \"rangeMaps\": [\n            {\n              \"from\": \"null\"\
      ,\n              \"text\": \"N/A\",\n              \"to\": \"null\"\n      \
      \      }\n          ],\n          \"span\": 3,\n          \"sparkline\": {\n\
      \            \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n            \"full\"\
      : false,\n            \"lineColor\": \"rgb(31, 120, 193)\",\n            \"\
      show\": false\n          },\n          \"targets\": [\n            {\n     \
      \         \"expr\": \"((sum(node_memory_MemTotal) - sum(node_memory_MemFree)\
      \ - sum(node_memory_Buffers) - sum(node_memory_Cached)) / sum(node_memory_MemTotal))\
      \ * 100\",\n              \"format\": \"time_series\",\n              \"intervalFactor\"\
      : 2,\n              \"refId\": \"A\",\n              \"step\": 600\n       \
      \     }\n          ],\n          \"thresholds\": \"80, 90\",\n          \"title\"\
      : \"Memory Utilization\",\n          \"type\": \"singlestat\",\n          \"\
      valueFontSize\": \"80%\",\n          \"valueMaps\": [\n            {\n     \
      \         \"op\": \"=\",\n              \"text\": \"N/A\",\n              \"\
      value\": \"null\"\n            }\n          ],\n          \"valueName\": \"\
      avg\"\n        },\n        {\n          \"colorBackground\": false,\n      \
      \    \"colorValue\": false,\n          \"colors\": [\n            \"rgba(50,\
      \ 172, 45, 0.97)\",\n            \"rgba(237, 129, 40, 0.89)\",\n           \
      \ \"rgba(245, 54, 54, 0.9)\"\n          ],\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"format\": \"percent\",\n    \
      \      \"gauge\": {\n            \"maxValue\": 100,\n            \"minValue\"\
      : 0,\n            \"show\": true,\n            \"thresholdLabels\": false,\n\
      \            \"thresholdMarkers\": true\n          },\n          \"id\": 9,\n\
      \          \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n  \
      \        \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n        \
      \    {\n              \"from\": \"null\",\n              \"text\": \"N/A\",\n\
      \              \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"(sum(node_filesystem_size{device!=\\\
      \"rootfs\\\"}) - sum(node_filesystem_free{device!=\\\"rootfs\\\"})) / sum(node_filesystem_size{device!=\\\
      \"rootfs\\\"})\",\n              \"format\": \"time_series\",\n            \
      \  \"intervalFactor\": 2,\n              \"refId\": \"A\",\n              \"\
      step\": 600\n            }\n          ],\n          \"thresholds\": \"80, 90\"\
      ,\n          \"title\": \"Filesystem Utilization\",\n          \"type\": \"\
      singlestat\",\n          \"valueFontSize\": \"80%\",\n          \"valueMaps\"\
      : [\n            {\n              \"op\": \"=\",\n              \"text\": \"\
      N/A\",\n              \"value\": \"null\"\n            }\n          ],\n   \
      \       \"valueName\": \"avg\"\n        },\n        {\n          \"colorBackground\"\
      : false,\n          \"colorValue\": false,\n          \"colors\": [\n      \
      \      \"rgba(50, 172, 45, 0.97)\",\n            \"rgba(237, 129, 40, 0.89)\"\
      ,\n            \"rgba(245, 54, 54, 0.9)\"\n          ],\n          \"datasource\"\
      : \"prometheus\",\n          \"editable\": false,\n          \"format\": \"\
      percent\",\n          \"gauge\": {\n            \"maxValue\": 100,\n       \
      \     \"minValue\": 0,\n            \"show\": true,\n            \"thresholdLabels\"\
      : false,\n            \"thresholdMarkers\": true\n          },\n          \"\
      id\": 10,\n          \"links\": [],\n          \"mappingType\": 1,\n       \
      \   \"mappingTypes\": [\n            {\n              \"name\": \"value to text\"\
      ,\n              \"value\": 1\n            },\n            {\n             \
      \ \"name\": \"range to text\",\n              \"value\": 2\n            }\n\
      \          ],\n          \"maxDataPoints\": 100,\n          \"nullPointMode\"\
      : \"connected\",\n          \"postfixFontSize\": \"50%\",\n          \"prefix\"\
      : \"\",\n          \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n\
      \            {\n              \"from\": \"null\",\n              \"text\": \"\
      N/A\",\n              \"to\": \"null\"\n            }\n          ],\n      \
      \    \"span\": 3,\n          \"sparkline\": {\n            \"fillColor\": \"\
      rgba(31, 118, 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\"\
      : \"rgb(31, 120, 193)\",\n            \"show\": false\n          },\n      \
      \    \"targets\": [\n            {\n              \"expr\": \"100 - (sum(kube_node_status_capacity_pods)\
      \ - sum(kube_pod_info)) / sum(kube_node_status_capacity_pods) * 100\",\n   \
      \           \"format\": \"time_series\",\n              \"intervalFactor\":\
      \ 2,\n              \"refId\": \"A\",\n              \"step\": 600\n       \
      \     }\n          ],\n          \"thresholds\": \"80, 90\",\n          \"title\"\
      : \"Pod Utilization\",\n          \"type\": \"singlestat\",\n          \"valueFontSize\"\
      : \"80%\",\n          \"valueMaps\": [\n            {\n              \"op\"\
      : \"=\",\n              \"text\": \"N/A\",\n              \"value\": \"null\"\
      \n            }\n          ],\n          \"valueName\": \"avg\"\n        }\n\
      \      ],\n      \"showTitle\": true,\n      \"title\": \"Capacity Planning\"\
      ,\n      \"titleSize\": \"h6\"\n    }\n  ],\n  \"schemaVersion\": 14,\n  \"\
      sharedCrosshair\": false,\n  \"style\": \"dark\",\n  \"tags\": [],\n  \"templating\"\
      : {\n    \"list\": []\n  },\n  \"time\": {\n    \"from\": \"now-6h\",\n    \"\
      to\": \"now\"\n  },\n  \"timepicker\": {\n    \"refresh_intervals\": [\n   \
      \   \"5s\",\n      \"10s\",\n      \"30s\",\n      \"1m\",\n      \"5m\",\n\
      \      \"15m\",\n      \"30m\",\n      \"1h\",\n      \"2h\",\n      \"1d\"\n\
      \    ],\n    \"time_options\": [\n      \"5m\",\n      \"15m\",\n      \"1h\"\
      ,\n      \"6h\",\n      \"12h\",\n      \"24h\",\n      \"2d\",\n      \"7d\"\
      ,\n      \"30d\"\n    ]\n  },\n  \"timezone\": \"browser\",\n  \"title\": \"\
      Kubernetes Cluster Status\",\n  \"version\": 3\n}\n"
  kind: ConfigMap
  metadata:
    labels:
    name: grafana-dashboard-definition-kubernetes-cluster-status
    namespace: knative-monitoring
- apiVersion: v1
  data:
    kubernetes-control-plane-status-dashboard.json: "{\n  \"__inputs\": [\n    {\n\
      \      \"description\": \"\",\n      \"label\": \"prometheus\",\n      \"name\"\
      : \"prometheus\",\n      \"pluginId\": \"prometheus\",\n      \"pluginName\"\
      : \"Prometheus\",\n      \"type\": \"datasource\"\n    }\n  ],\n  \"annotations\"\
      : {\n    \"list\": []\n  },\n  \"editable\": false,\n  \"graphTooltip\": 0,\n\
      \  \"hideControls\": false,\n  \"links\": [],\n  \"rows\": [\n    {\n      \"\
      collapse\": false,\n      \"editable\": false,\n      \"height\": \"250px\"\
      ,\n      \"panels\": [\n        {\n          \"colorBackground\": false,\n \
      \         \"colorValue\": false,\n          \"colors\": [\n            \"rgba(245,\
      \ 54, 54, 0.9)\",\n            \"rgba(237, 129, 40, 0.89)\",\n            \"\
      rgba(50, 172, 45, 0.97)\"\n          ],\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"format\": \"percent\",\n    \
      \      \"gauge\": {\n            \"maxValue\": 100,\n            \"minValue\"\
      : 0,\n            \"show\": true,\n            \"thresholdLabels\": false,\n\
      \            \"thresholdMarkers\": true\n          },\n          \"hideTimeOverride\"\
      : false,\n          \"id\": 1,\n          \"links\": [],\n          \"mappingType\"\
      : 1,\n          \"mappingTypes\": [\n            {\n              \"name\":\
      \ \"value to text\",\n              \"value\": 1\n            },\n         \
      \   {\n              \"name\": \"range to text\",\n              \"value\":\
      \ 2\n            }\n          ],\n          \"maxDataPoints\": 100,\n      \
      \    \"nullPointMode\": \"connected\",\n          \"postfix\": \"\",\n     \
      \     \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n         \
      \ \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n            {\n\
      \              \"from\": \"null\",\n              \"text\": \"N/A\",\n     \
      \         \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"(sum(up{job=\\\"apiserver\\\
      \"} == 1) / sum(up{job=\\\"apiserver\\\"})) * 100\",\n              \"format\"\
      : \"time_series\",\n              \"intervalFactor\": 2,\n              \"refId\"\
      : \"A\",\n              \"step\": 600\n            }\n          ],\n       \
      \   \"thresholds\": \"50, 80\",\n          \"title\": \"API Servers UP\",\n\
      \          \"transparent\": false,\n          \"type\": \"singlestat\",\n  \
      \        \"valueFontSize\": \"80%\",\n          \"valueMaps\": [\n         \
      \   {\n              \"op\": \"=\",\n              \"text\": \"N/A\",\n    \
      \          \"value\": \"null\"\n            }\n          ],\n          \"valueName\"\
      : \"avg\"\n        },\n        {\n          \"colorBackground\": false,\n  \
      \        \"colorValue\": false,\n          \"colors\": [\n            \"rgba(245,\
      \ 54, 54, 0.9)\",\n            \"rgba(237, 129, 40, 0.89)\",\n            \"\
      rgba(50, 172, 45, 0.97)\"\n          ],\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"format\": \"percent\",\n    \
      \      \"gauge\": {\n            \"maxValue\": 100,\n            \"minValue\"\
      : 0,\n            \"show\": true,\n            \"thresholdLabels\": false,\n\
      \            \"thresholdMarkers\": true\n          },\n          \"hideTimeOverride\"\
      : false,\n          \"id\": 2,\n          \"links\": [],\n          \"mappingType\"\
      : 1,\n          \"mappingTypes\": [\n            {\n              \"name\":\
      \ \"value to text\",\n              \"value\": 1\n            },\n         \
      \   {\n              \"name\": \"range to text\",\n              \"value\":\
      \ 2\n            }\n          ],\n          \"maxDataPoints\": 100,\n      \
      \    \"nullPointMode\": \"connected\",\n          \"postfix\": \"\",\n     \
      \     \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n         \
      \ \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n            {\n\
      \              \"from\": \"null\",\n              \"text\": \"N/A\",\n     \
      \         \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"(sum(up{job=\\\"kube-controller-manager\\\
      \"} == 1) / sum(up{job=\\\"kube-controller-manager\\\"})) * 100\",\n       \
      \       \"format\": \"time_series\",\n              \"intervalFactor\": 2,\n\
      \              \"refId\": \"A\",\n              \"step\": 600\n            }\n\
      \          ],\n          \"thresholds\": \"50, 80\",\n          \"title\": \"\
      Controller Managers UP\",\n          \"transparent\": false,\n          \"type\"\
      : \"singlestat\",\n          \"valueFontSize\": \"80%\",\n          \"valueMaps\"\
      : [\n            {\n              \"op\": \"=\",\n              \"text\": \"\
      N/A\",\n              \"value\": \"null\"\n            }\n          ],\n   \
      \       \"valueName\": \"avg\"\n        },\n        {\n          \"colorBackground\"\
      : false,\n          \"colorValue\": false,\n          \"colors\": [\n      \
      \      \"rgba(245, 54, 54, 0.9)\",\n            \"rgba(237, 129, 40, 0.89)\"\
      ,\n            \"rgba(50, 172, 45, 0.97)\"\n          ],\n          \"datasource\"\
      : \"prometheus\",\n          \"editable\": false,\n          \"format\": \"\
      percent\",\n          \"gauge\": {\n            \"maxValue\": 100,\n       \
      \     \"minValue\": 0,\n            \"show\": true,\n            \"thresholdLabels\"\
      : false,\n            \"thresholdMarkers\": true\n          },\n          \"\
      hideTimeOverride\": false,\n          \"id\": 3,\n          \"links\": [],\n\
      \          \"mappingType\": 1,\n          \"mappingTypes\": [\n            {\n\
      \              \"name\": \"value to text\",\n              \"value\": 1\n  \
      \          },\n            {\n              \"name\": \"range to text\",\n \
      \             \"value\": 2\n            }\n          ],\n          \"maxDataPoints\"\
      : 100,\n          \"nullPointMode\": \"connected\",\n          \"postfix\":\
      \ \"\",\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\"\
      ,\n          \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n    \
      \        {\n              \"from\": \"null\",\n              \"text\": \"N/A\"\
      ,\n              \"to\": \"null\"\n            }\n          ],\n          \"\
      span\": 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31,\
      \ 118, 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\"\
      : \"rgb(31, 120, 193)\",\n            \"show\": false\n          },\n      \
      \    \"targets\": [\n            {\n              \"expr\": \"(sum(up{job=\\\
      \"kube-scheduler\\\"} == 1) / sum(up{job=\\\"kube-scheduler\\\"})) * 100\",\n\
      \              \"format\": \"time_series\",\n              \"intervalFactor\"\
      : 2,\n              \"refId\": \"A\",\n              \"step\": 600\n       \
      \     }\n          ],\n          \"thresholds\": \"50, 80\",\n          \"title\"\
      : \"Schedulers UP\",\n          \"transparent\": false,\n          \"type\"\
      : \"singlestat\",\n          \"valueFontSize\": \"80%\",\n          \"valueMaps\"\
      : [\n            {\n              \"op\": \"=\",\n              \"text\": \"\
      N/A\",\n              \"value\": \"null\"\n            }\n          ],\n   \
      \       \"valueName\": \"avg\"\n        },\n        {\n          \"colorBackground\"\
      : false,\n          \"colorValue\": false,\n          \"colors\": [\n      \
      \      \"rgba(50, 172, 45, 0.97)\",\n            \"rgba(237, 129, 40, 0.89)\"\
      ,\n            \"rgba(245, 54, 54, 0.9)\"\n          ],\n          \"datasource\"\
      : \"prometheus\",\n          \"editable\": false,\n          \"format\": \"\
      percent\",\n          \"gauge\": {\n            \"maxValue\": 100,\n       \
      \     \"minValue\": 0,\n            \"show\": true,\n            \"thresholdLabels\"\
      : false,\n            \"thresholdMarkers\": true\n          },\n          \"\
      hideTimeOverride\": false,\n          \"id\": 4,\n          \"links\": [],\n\
      \          \"mappingType\": 1,\n          \"mappingTypes\": [\n            {\n\
      \              \"name\": \"value to text\",\n              \"value\": 1\n  \
      \          },\n            {\n              \"name\": \"range to text\",\n \
      \             \"value\": 2\n            }\n          ],\n          \"maxDataPoints\"\
      : 100,\n          \"nullPointMode\": \"connected\",\n          \"postfix\":\
      \ \"\",\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\"\
      ,\n          \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n    \
      \        {\n              \"from\": \"null\",\n              \"text\": \"N/A\"\
      ,\n              \"to\": \"null\"\n            }\n          ],\n          \"\
      span\": 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31,\
      \ 118, 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\"\
      : \"rgb(31, 120, 193)\",\n            \"show\": false\n          },\n      \
      \    \"targets\": [\n            {\n              \"expr\": \"max(sum by(instance)\
      \ (rate(apiserver_request_count{code=~\\\"5..\\\"}[5m])) / sum by(instance)\
      \ (rate(apiserver_request_count[5m]))) * 100\",\n              \"format\": \"\
      time_series\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"\",\n              \"refId\": \"A\",\n              \"step\": 600\n    \
      \        }\n          ],\n          \"thresholds\": \"5, 10\",\n          \"\
      title\": \"API Server Request Error Rate\",\n          \"transparent\": false,\n\
      \          \"type\": \"singlestat\",\n          \"valueFontSize\": \"80%\",\n\
      \          \"valueMaps\": [\n            {\n              \"op\": \"=\",\n \
      \             \"text\": \"0\",\n              \"value\": \"null\"\n        \
      \    }\n          ],\n          \"valueName\": \"avg\"\n        }\n      ],\n\
      \      \"showTitle\": false,\n      \"title\": \"Dashboard Row\",\n      \"\
      titleSize\": \"h6\"\n    },\n    {\n      \"collapse\": false,\n      \"editable\"\
      : false,\n      \"height\": \"250px\",\n      \"panels\": [\n        {\n   \
      \       \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\"\
      : 10,\n          \"dashes\": false,\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"error\": false,\n          \"\
      fill\": 1,\n          \"grid\": {\n            \"threshold1Color\": \"rgba(216,\
      \ 200, 27, 0.27)\",\n            \"threshold2Color\": \"rgba(234, 112, 112,\
      \ 0.22)\"\n          },\n          \"id\": 7,\n          \"isNew\": false,\n\
      \          \"legend\": {\n            \"alignAsTable\": false,\n           \
      \ \"avg\": false,\n            \"current\": false,\n            \"hideEmpty\"\
      : false,\n            \"hideZero\": false,\n            \"max\": false,\n  \
      \          \"min\": false,\n            \"rightSide\": false,\n            \"\
      show\": true,\n            \"total\": false\n          },\n          \"lines\"\
      : true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"\
      nullPointMode\": \"null\",\n          \"percentage\": false,\n          \"pointradius\"\
      : 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n    \
      \      \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"\
      span\": 12,\n          \"stack\": false,\n          \"steppedLine\": false,\n\
      \          \"targets\": [\n            {\n              \"expr\": \"sum by(verb)\
      \ (rate(apiserver_latency_seconds:quantile[5m]) >= 0)\",\n              \"format\"\
      : \"time_series\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"\",\n              \"refId\": \"A\",\n              \"step\": 30\n     \
      \       }\n          ],\n          \"title\": \"API Server Request Latency\"\
      ,\n          \"tooltip\": {\n            \"msResolution\": false,\n        \
      \    \"shared\": true,\n            \"sort\": 0,\n            \"value_type\"\
      : \"individual\"\n          },\n          \"type\": \"graph\",\n          \"\
      xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n \
      \           \"values\": []\n          },\n          \"yaxes\": [\n         \
      \   {\n              \"format\": \"short\",\n              \"logBase\": 1,\n\
      \              \"show\": true\n            },\n            {\n             \
      \ \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\"\
      : true\n            }\n          ]\n        }\n      ],\n      \"showTitle\"\
      : false,\n      \"title\": \"Dashboard Row\",\n      \"titleSize\": \"h6\"\n\
      \    },\n    {\n      \"collapse\": false,\n      \"editable\": false,\n   \
      \   \"height\": \"250px\",\n      \"panels\": [\n        {\n          \"aliasColors\"\
      : {},\n          \"bars\": false,\n          \"dashLength\": 10,\n         \
      \ \"dashes\": false,\n          \"datasource\": \"prometheus\",\n          \"\
      editable\": false,\n          \"error\": false,\n          \"fill\": 1,\n  \
      \        \"grid\": {\n            \"threshold1Color\": \"rgba(216, 200, 27,\
      \ 0.27)\",\n            \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n\
      \          },\n          \"id\": 5,\n          \"isNew\": false,\n         \
      \ \"legend\": {\n            \"alignAsTable\": false,\n            \"avg\":\
      \ false,\n            \"current\": false,\n            \"hideEmpty\": false,\n\
      \            \"hideZero\": false,\n            \"max\": false,\n           \
      \ \"min\": false,\n            \"rightSide\": false,\n            \"show\":\
      \ true,\n            \"total\": false\n          },\n          \"lines\": true,\n\
      \          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\"\
      : \"null\",\n          \"percentage\": false,\n          \"pointradius\": 5,\n\
      \          \"points\": false,\n          \"renderer\": \"flot\",\n         \
      \ \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"span\"\
      : 6,\n          \"stack\": false,\n          \"steppedLine\": false,\n     \
      \     \"targets\": [\n            {\n              \"expr\": \"cluster:scheduler_e2e_scheduling_latency_seconds:quantile\"\
      ,\n              \"format\": \"time_series\",\n              \"intervalFactor\"\
      : 2,\n              \"refId\": \"A\",\n              \"step\": 60\n        \
      \    }\n          ],\n          \"title\": \"End to End Scheduling Latency\"\
      ,\n          \"tooltip\": {\n            \"msResolution\": false,\n        \
      \    \"shared\": true,\n            \"sort\": 0,\n            \"value_type\"\
      : \"individual\"\n          },\n          \"type\": \"graph\",\n          \"\
      xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n \
      \           \"values\": []\n          },\n          \"yaxes\": [\n         \
      \   {\n              \"format\": \"short\",\n              \"logBase\": 1,\n\
      \              \"show\": true\n            },\n            {\n             \
      \ \"format\": \"dtdurations\",\n              \"logBase\": 1,\n            \
      \  \"show\": true\n            }\n          ]\n        },\n        {\n     \
      \     \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\"\
      : 10,\n          \"dashes\": false,\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"error\": false,\n          \"\
      fill\": 1,\n          \"grid\": {\n            \"threshold1Color\": \"rgba(216,\
      \ 200, 27, 0.27)\",\n            \"threshold2Color\": \"rgba(234, 112, 112,\
      \ 0.22)\"\n          },\n          \"id\": 6,\n          \"isNew\": false,\n\
      \          \"legend\": {\n            \"alignAsTable\": false,\n           \
      \ \"avg\": false,\n            \"current\": false,\n            \"hideEmpty\"\
      : false,\n            \"hideZero\": false,\n            \"max\": false,\n  \
      \          \"min\": false,\n            \"rightSide\": false,\n            \"\
      show\": true,\n            \"total\": false\n          },\n          \"lines\"\
      : true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"\
      nullPointMode\": \"null\",\n          \"percentage\": false,\n          \"pointradius\"\
      : 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n    \
      \      \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"\
      span\": 6,\n          \"stack\": false,\n          \"steppedLine\": false,\n\
      \          \"targets\": [\n            {\n              \"expr\": \"sum by(instance)\
      \ (rate(apiserver_request_count{code!~\\\"2..\\\"}[5m]))\",\n              \"\
      format\": \"time_series\",\n              \"intervalFactor\": 2,\n         \
      \     \"legendFormat\": \"Error Rate\",\n              \"refId\": \"A\",\n \
      \             \"step\": 60\n            },\n            {\n              \"\
      expr\": \"sum by(instance) (rate(apiserver_request_count[5m]))\",\n        \
      \      \"format\": \"time_series\",\n              \"intervalFactor\": 2,\n\
      \              \"legendFormat\": \"Request Rate\",\n              \"refId\"\
      : \"B\",\n              \"step\": 60\n            }\n          ],\n        \
      \  \"title\": \"API Server Request Rates\",\n          \"tooltip\": {\n    \
      \        \"msResolution\": false,\n            \"shared\": true,\n         \
      \   \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n\
      \          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\"\
      : \"time\",\n            \"show\": true,\n            \"values\": []\n     \
      \     },\n          \"yaxes\": [\n            {\n              \"format\": \"\
      short\",\n              \"logBase\": 1,\n              \"show\": true\n    \
      \        },\n            {\n              \"format\": \"short\",\n         \
      \     \"logBase\": 1,\n              \"show\": true\n            }\n       \
      \   ]\n        }\n      ],\n      \"showTitle\": false,\n      \"title\": \"\
      Dashboard Row\",\n      \"titleSize\": \"h6\"\n    }\n  ],\n  \"schemaVersion\"\
      : 14,\n  \"sharedCrosshair\": false,\n  \"style\": \"dark\",\n  \"tags\": [],\n\
      \  \"templating\": {\n    \"list\": []\n  },\n  \"time\": {\n    \"from\": \"\
      now-6h\",\n    \"to\": \"now\"\n  },\n  \"timepicker\": {\n    \"refresh_intervals\"\
      : [\n      \"5s\",\n      \"10s\",\n      \"30s\",\n      \"1m\",\n      \"\
      5m\",\n      \"15m\",\n      \"30m\",\n      \"1h\",\n      \"2h\",\n      \"\
      1d\"\n    ],\n    \"time_options\": [\n      \"5m\",\n      \"15m\",\n     \
      \ \"1h\",\n      \"6h\",\n      \"12h\",\n      \"24h\",\n      \"2d\",\n  \
      \    \"7d\",\n      \"30d\"\n    ]\n  },\n  \"timezone\": \"browser\",\n  \"\
      title\": \"Kubernetes Control Plane Status\",\n  \"version\": 3\n}\n"
  kind: ConfigMap
  metadata:
    labels:
    name: grafana-dashboard-definition-kubernetes-control-plane-status
    namespace: knative-monitoring
- apiVersion: v1
  data:
    kubernetes-resource-requests-dashboard.json: "{\n  \"__inputs\": [\n    {\n  \
      \    \"description\": \"\",\n      \"label\": \"prometheus\",\n      \"name\"\
      : \"prometheus\",\n      \"pluginId\": \"prometheus\",\n      \"pluginName\"\
      : \"Prometheus\",\n      \"type\": \"datasource\"\n    }\n  ],\n  \"annotations\"\
      : {\n    \"list\": []\n  },\n  \"editable\": false,\n  \"graphTooltip\": 0,\n\
      \  \"hideControls\": false,\n  \"links\": [],\n  \"refresh\": false,\n  \"rows\"\
      : [\n    {\n      \"collapse\": false,\n      \"editable\": false,\n      \"\
      height\": \"300px\",\n      \"panels\": [\n        {\n          \"aliasColors\"\
      : {},\n          \"bars\": false,\n          \"dashLength\": 10,\n         \
      \ \"dashes\": false,\n          \"datasource\": \"prometheus\",\n          \"\
      description\": \"This represents the total [CPU resource requests](https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#meaning-of-cpu)\
      \ in the cluster.\\nFor comparison the total [allocatable CPU cores](https://github.com/kubernetes/community/blob/master/contributors/design-proposals/node-allocatable.md)\
      \ is also shown.\",\n          \"editable\": false,\n          \"error\": false,\n\
      \          \"fill\": 1,\n          \"grid\": {\n            \"threshold1Color\"\
      : \"rgba(216, 200, 27, 0.27)\",\n            \"threshold2Color\": \"rgba(234,\
      \ 112, 112, 0.22)\"\n          },\n          \"id\": 1,\n          \"isNew\"\
      : false,\n          \"legend\": {\n            \"alignAsTable\": false,\n  \
      \          \"avg\": false,\n            \"current\": false,\n            \"\
      hideEmpty\": false,\n            \"hideZero\": false,\n            \"max\":\
      \ false,\n            \"min\": false,\n            \"rightSide\": false,\n \
      \           \"show\": true,\n            \"total\": false\n          },\n  \
      \        \"lines\": true,\n          \"linewidth\": 1,\n          \"links\"\
      : [],\n          \"nullPointMode\": \"null\",\n          \"percentage\": false,\n\
      \          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\"\
      : \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\":\
      \ 10,\n          \"span\": 9,\n          \"stack\": false,\n          \"steppedLine\"\
      : false,\n          \"targets\": [\n            {\n              \"expr\": \"\
      min(sum(kube_node_status_allocatable_cpu_cores) by (instance))\",\n        \
      \      \"hide\": false,\n              \"intervalFactor\": 2,\n            \
      \  \"legendFormat\": \"Allocatable CPU Cores\",\n              \"refId\": \"\
      A\",\n              \"step\": 20\n            },\n            {\n          \
      \    \"expr\": \"max(sum(kube_pod_container_resource_requests_cpu_cores) by\
      \ (instance))\",\n              \"hide\": false,\n              \"intervalFactor\"\
      : 2,\n              \"legendFormat\": \"Requested CPU Cores\",\n           \
      \   \"refId\": \"B\",\n              \"step\": 20\n            }\n         \
      \ ],\n          \"title\": \"CPU Cores\",\n          \"tooltip\": {\n      \
      \      \"msResolution\": false,\n            \"shared\": true,\n           \
      \ \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n \
      \         \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\"\
      : \"time\",\n            \"show\": true,\n            \"values\": []\n     \
      \     },\n          \"yaxes\": [\n            {\n              \"format\": \"\
      short\",\n              \"label\": \"CPU Cores\",\n              \"logBase\"\
      : 1,\n              \"show\": true\n            },\n            {\n        \
      \      \"format\": \"short\",\n              \"logBase\": 1,\n             \
      \ \"show\": true\n            }\n          ]\n        },\n        {\n      \
      \    \"colorBackground\": false,\n          \"colorValue\": false,\n       \
      \   \"colors\": [\n            \"rgba(50, 172, 45, 0.97)\",\n            \"\
      rgba(237, 129, 40, 0.89)\",\n            \"rgba(245, 54, 54, 0.9)\"\n      \
      \    ],\n          \"datasource\": \"prometheus\",\n          \"editable\":\
      \ false,\n          \"format\": \"percent\",\n          \"gauge\": {\n     \
      \       \"maxValue\": 100,\n            \"minValue\": 0,\n            \"show\"\
      : true,\n            \"thresholdLabels\": false,\n            \"thresholdMarkers\"\
      : true\n          },\n          \"hideTimeOverride\": false,\n          \"id\"\
      : 2,\n          \"links\": [],\n          \"mappingType\": 1,\n          \"\
      mappingTypes\": [\n            {\n              \"name\": \"value to text\"\
      ,\n              \"value\": 1\n            },\n            {\n             \
      \ \"name\": \"range to text\",\n              \"value\": 2\n            }\n\
      \          ],\n          \"maxDataPoints\": 100,\n          \"nullPointMode\"\
      : \"connected\",\n          \"postfix\": \"\",\n          \"postfixFontSize\"\
      : \"50%\",\n          \"prefix\": \"\",\n          \"prefixFontSize\": \"50%\"\
      ,\n          \"rangeMaps\": [\n            {\n              \"from\": \"null\"\
      ,\n              \"text\": \"N/A\",\n              \"to\": \"null\"\n      \
      \      }\n          ],\n          \"span\": 3,\n          \"sparkline\": {\n\
      \            \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n            \"full\"\
      : false,\n            \"lineColor\": \"rgb(31, 120, 193)\",\n            \"\
      show\": true\n          },\n          \"targets\": [\n            {\n      \
      \        \"expr\": \"max(sum(kube_pod_container_resource_requests_cpu_cores)\
      \ by (instance)) / min(sum(kube_node_status_allocatable_cpu_cores) by (instance))\
      \ * 100\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"\",\n              \"refId\": \"A\",\n              \"step\": 240\n    \
      \        }\n          ],\n          \"thresholds\": \"80, 90\",\n          \"\
      title\": \"CPU Cores\",\n          \"transparent\": false,\n          \"type\"\
      : \"singlestat\",\n          \"valueFontSize\": \"110%\",\n          \"valueMaps\"\
      : [\n            {\n              \"op\": \"=\",\n              \"text\": \"\
      N/A\",\n              \"value\": \"null\"\n            }\n          ],\n   \
      \       \"valueName\": \"avg\"\n        }\n      ],\n      \"showTitle\": false,\n\
      \      \"title\": \"CPU Cores\",\n      \"titleSize\": \"h6\"\n    },\n    {\n\
      \      \"collapse\": false,\n      \"editable\": false,\n      \"height\": \"\
      300px\",\n      \"panels\": [\n        {\n          \"aliasColors\": {},\n \
      \         \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\"\
      : false,\n          \"datasource\": \"prometheus\",\n          \"description\"\
      : \"This represents the total [memory resource requests](https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#meaning-of-memory)\
      \ in the cluster.\\nFor comparison the total [allocatable memory](https://github.com/kubernetes/community/blob/master/contributors/design-proposals/node-allocatable.md)\
      \ is also shown.\",\n          \"editable\": false,\n          \"error\": false,\n\
      \          \"fill\": 1,\n          \"grid\": {\n            \"threshold1Color\"\
      : \"rgba(216, 200, 27, 0.27)\",\n            \"threshold2Color\": \"rgba(234,\
      \ 112, 112, 0.22)\"\n          },\n          \"id\": 3,\n          \"isNew\"\
      : false,\n          \"legend\": {\n            \"alignAsTable\": false,\n  \
      \          \"avg\": false,\n            \"current\": false,\n            \"\
      hideEmpty\": false,\n            \"hideZero\": false,\n            \"max\":\
      \ false,\n            \"min\": false,\n            \"rightSide\": false,\n \
      \           \"show\": true,\n            \"total\": false\n          },\n  \
      \        \"lines\": true,\n          \"linewidth\": 1,\n          \"links\"\
      : [],\n          \"nullPointMode\": \"null\",\n          \"percentage\": false,\n\
      \          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\"\
      : \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\":\
      \ 10,\n          \"span\": 9,\n          \"stack\": false,\n          \"steppedLine\"\
      : false,\n          \"targets\": [\n            {\n              \"expr\": \"\
      min(sum(kube_node_status_allocatable_memory_bytes) by (instance))\",\n     \
      \         \"hide\": false,\n              \"intervalFactor\": 2,\n         \
      \     \"legendFormat\": \"Allocatable Memory\",\n              \"refId\": \"\
      A\",\n              \"step\": 20\n            },\n            {\n          \
      \    \"expr\": \"max(sum(kube_pod_container_resource_requests_memory_bytes)\
      \ by (instance))\",\n              \"hide\": false,\n              \"intervalFactor\"\
      : 2,\n              \"legendFormat\": \"Requested Memory\",\n              \"\
      refId\": \"B\",\n              \"step\": 20\n            }\n          ],\n \
      \         \"title\": \"Memory\",\n          \"tooltip\": {\n            \"msResolution\"\
      : false,\n            \"shared\": true,\n            \"sort\": 0,\n        \
      \    \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\"\
      ,\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\"\
      : true,\n            \"values\": []\n          },\n          \"yaxes\": [\n\
      \            {\n              \"format\": \"bytes\",\n              \"label\"\
      : \"Memory\",\n              \"logBase\": 1,\n              \"show\": true\n\
      \            },\n            {\n              \"format\": \"short\",\n     \
      \         \"logBase\": 1,\n              \"show\": true\n            }\n   \
      \       ]\n        },\n        {\n          \"colorBackground\": false,\n  \
      \        \"colorValue\": false,\n          \"colors\": [\n            \"rgba(50,\
      \ 172, 45, 0.97)\",\n            \"rgba(237, 129, 40, 0.89)\",\n           \
      \ \"rgba(245, 54, 54, 0.9)\"\n          ],\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"format\": \"percent\",\n    \
      \      \"gauge\": {\n            \"maxValue\": 100,\n            \"minValue\"\
      : 0,\n            \"show\": true,\n            \"thresholdLabels\": false,\n\
      \            \"thresholdMarkers\": true\n          },\n          \"hideTimeOverride\"\
      : false,\n          \"id\": 4,\n          \"links\": [],\n          \"mappingType\"\
      : 1,\n          \"mappingTypes\": [\n            {\n              \"name\":\
      \ \"value to text\",\n              \"value\": 1\n            },\n         \
      \   {\n              \"name\": \"range to text\",\n              \"value\":\
      \ 2\n            }\n          ],\n          \"maxDataPoints\": 100,\n      \
      \    \"nullPointMode\": \"connected\",\n          \"postfix\": \"\",\n     \
      \     \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n         \
      \ \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n            {\n\
      \              \"from\": \"null\",\n              \"text\": \"N/A\",\n     \
      \         \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": true\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"max(sum(kube_pod_container_resource_requests_memory_bytes)\
      \ by (instance)) / min(sum(kube_node_status_allocatable_memory_bytes) by (instance))\
      \ * 100\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"\",\n              \"refId\": \"A\",\n              \"step\": 240\n    \
      \        }\n          ],\n          \"thresholds\": \"80, 90\",\n          \"\
      title\": \"Memory\",\n          \"transparent\": false,\n          \"type\"\
      : \"singlestat\",\n          \"valueFontSize\": \"110%\",\n          \"valueMaps\"\
      : [\n            {\n              \"op\": \"=\",\n              \"text\": \"\
      N/A\",\n              \"value\": \"null\"\n            }\n          ],\n   \
      \       \"valueName\": \"avg\"\n        }\n      ],\n      \"showTitle\": false,\n\
      \      \"title\": \"Memory\",\n      \"titleSize\": \"h6\"\n    }\n  ],\n  \"\
      schemaVersion\": 14,\n  \"sharedCrosshair\": false,\n  \"style\": \"dark\",\n\
      \  \"tags\": [],\n  \"templating\": {\n    \"list\": []\n  },\n  \"time\": {\n\
      \    \"from\": \"now-3h\",\n    \"to\": \"now\"\n  },\n  \"timepicker\": {\n\
      \    \"refresh_intervals\": [\n      \"5s\",\n      \"10s\",\n      \"30s\"\
      ,\n      \"1m\",\n      \"5m\",\n      \"15m\",\n      \"30m\",\n      \"1h\"\
      ,\n      \"2h\",\n      \"1d\"\n    ],\n    \"time_options\": [\n      \"5m\"\
      ,\n      \"15m\",\n      \"1h\",\n      \"6h\",\n      \"12h\",\n      \"24h\"\
      ,\n      \"2d\",\n      \"7d\",\n      \"30d\"\n    ]\n  },\n  \"timezone\"\
      : \"browser\",\n  \"title\": \"Kubernetes Resource Requests\",\n  \"version\"\
      : 2\n}\n"
  kind: ConfigMap
  metadata:
    labels:
    name: grafana-dashboard-definition-kubernetes-resource-requests
    namespace: knative-monitoring
- apiVersion: v1
  data:
    kubernetes-nodes-dashboard.json: "{\n  \"__inputs\": [\n    {\n      \"description\"\
      : \"\",\n      \"label\": \"prometheus\",\n      \"name\": \"prometheus\",\n\
      \      \"pluginId\": \"prometheus\",\n      \"pluginName\": \"Prometheus\",\n\
      \      \"type\": \"datasource\"\n    }\n  ],\n  \"annotations\": {\n    \"list\"\
      : []\n  },\n  \"description\": \"Dashboard to get an overview of one server\"\
      ,\n  \"editable\": false,\n  \"gnetId\": 22,\n  \"graphTooltip\": 0,\n  \"hideControls\"\
      : false,\n  \"links\": [],\n  \"refresh\": false,\n  \"rows\": [\n    {\n  \
      \    \"collapse\": false,\n      \"editable\": false,\n      \"height\": \"\
      250px\",\n      \"panels\": [\n        {\n          \"aliasColors\": {},\n \
      \         \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\"\
      : false,\n          \"datasource\": \"prometheus\",\n          \"editable\"\
      : false,\n          \"error\": false,\n          \"fill\": 1,\n          \"\
      grid\": {\n            \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n\
      \            \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n          },\n\
      \          \"id\": 3,\n          \"isNew\": false,\n          \"legend\": {\n\
      \            \"alignAsTable\": false,\n            \"avg\": false,\n       \
      \     \"current\": false,\n            \"hideEmpty\": false,\n            \"\
      hideZero\": false,\n            \"max\": false,\n            \"min\": false,\n\
      \            \"rightSide\": false,\n            \"show\": true,\n          \
      \  \"total\": false\n          },\n          \"lines\": true,\n          \"\
      linewidth\": 2,\n          \"links\": [],\n          \"nullPointMode\": \"connected\"\
      ,\n          \"percentage\": false,\n          \"pointradius\": 5,\n       \
      \   \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\"\
      : [],\n          \"spaceLength\": 10,\n          \"span\": 6,\n          \"\
      stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n\
      \            {\n              \"expr\": \"100 - (avg by (cpu) (irate(node_cpu{mode=\\\
      \"idle\\\", instance=\\\"$server\\\"}[5m])) * 100)\",\n              \"hide\"\
      : false,\n              \"intervalFactor\": 10,\n              \"legendFormat\"\
      : \"{{cpu}}\",\n              \"refId\": \"A\",\n              \"step\": 50\n\
      \            }\n          ],\n          \"title\": \"Idle CPU\",\n         \
      \ \"tooltip\": {\n            \"msResolution\": false,\n            \"shared\"\
      : true,\n            \"sort\": 0,\n            \"value_type\": \"cumulative\"\
      \n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n   \
      \         \"mode\": \"time\",\n            \"show\": true,\n            \"values\"\
      : []\n          },\n          \"yaxes\": [\n            {\n              \"\
      format\": \"percent\",\n              \"label\": \"cpu usage\",\n          \
      \    \"logBase\": 1,\n              \"max\": 100,\n              \"min\": 0,\n\
      \              \"show\": true\n            },\n            {\n             \
      \ \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\"\
      : true\n            }\n          ]\n        },\n        {\n          \"aliasColors\"\
      : {},\n          \"bars\": false,\n          \"dashLength\": 10,\n         \
      \ \"dashes\": false,\n          \"datasource\": \"prometheus\",\n          \"\
      editable\": false,\n          \"error\": false,\n          \"fill\": 1,\n  \
      \        \"grid\": {\n            \"threshold1Color\": \"rgba(216, 200, 27,\
      \ 0.27)\",\n            \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n\
      \          },\n          \"id\": 9,\n          \"isNew\": false,\n         \
      \ \"legend\": {\n            \"alignAsTable\": false,\n            \"avg\":\
      \ false,\n            \"current\": false,\n            \"hideEmpty\": false,\n\
      \            \"hideZero\": false,\n            \"max\": false,\n           \
      \ \"min\": false,\n            \"rightSide\": false,\n            \"show\":\
      \ true,\n            \"total\": false\n          },\n          \"lines\": true,\n\
      \          \"linewidth\": 2,\n          \"links\": [],\n          \"nullPointMode\"\
      : \"connected\",\n          \"percentage\": false,\n          \"pointradius\"\
      : 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n    \
      \      \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"\
      span\": 6,\n          \"stack\": false,\n          \"steppedLine\": false,\n\
      \          \"targets\": [\n            {\n              \"expr\": \"node_load1{instance=\\\
      \"$server\\\"}\",\n              \"intervalFactor\": 4,\n              \"legendFormat\"\
      : \"load 1m\",\n              \"refId\": \"A\",\n              \"step\": 20,\n\
      \              \"target\": \"\"\n            },\n            {\n           \
      \   \"expr\": \"node_load5{instance=\\\"$server\\\"}\",\n              \"intervalFactor\"\
      : 4,\n              \"legendFormat\": \"load 5m\",\n              \"refId\"\
      : \"B\",\n              \"step\": 20,\n              \"target\": \"\"\n    \
      \        },\n            {\n              \"expr\": \"node_load15{instance=\\\
      \"$server\\\"}\",\n              \"intervalFactor\": 4,\n              \"legendFormat\"\
      : \"load 15m\",\n              \"refId\": \"C\",\n              \"step\": 20,\n\
      \              \"target\": \"\"\n            }\n          ],\n          \"title\"\
      : \"System Load\",\n          \"tooltip\": {\n            \"msResolution\":\
      \ false,\n            \"shared\": true,\n            \"sort\": 0,\n        \
      \    \"value_type\": \"cumulative\"\n          },\n          \"type\": \"graph\"\
      ,\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\"\
      : true,\n            \"values\": []\n          },\n          \"yaxes\": [\n\
      \            {\n              \"format\": \"percentunit\",\n              \"\
      logBase\": 1,\n              \"show\": true\n            },\n            {\n\
      \              \"format\": \"short\",\n              \"logBase\": 1,\n     \
      \         \"show\": true\n            }\n          ]\n        }\n      ],\n\
      \      \"showTitle\": false,\n      \"title\": \"New Row\",\n      \"titleSize\"\
      : \"h6\"\n    },\n    {\n      \"collapse\": false,\n      \"editable\": false,\n\
      \      \"height\": \"250px\",\n      \"panels\": [\n        {\n          \"\
      aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n\
      \          \"dashes\": false,\n          \"datasource\": \"prometheus\",\n \
      \         \"editable\": false,\n          \"error\": false,\n          \"fill\"\
      : 1,\n          \"grid\": {\n            \"threshold1Color\": \"rgba(216, 200,\
      \ 27, 0.27)\",\n            \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\
      \n          },\n          \"id\": 4,\n          \"isNew\": false,\n        \
      \  \"legend\": {\n            \"alignAsTable\": false,\n            \"avg\"\
      : false,\n            \"current\": false,\n            \"hideEmpty\": false,\n\
      \            \"hideZero\": false,\n            \"max\": false,\n           \
      \ \"min\": false,\n            \"rightSide\": false,\n            \"show\":\
      \ true,\n            \"total\": false\n          },\n          \"lines\": true,\n\
      \          \"linewidth\": 2,\n          \"links\": [],\n          \"nullPointMode\"\
      : \"connected\",\n          \"percentage\": false,\n          \"pointradius\"\
      : 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n    \
      \      \"seriesOverrides\": [\n            {\n              \"alias\": \"node_memory_SwapFree{instance=\\\
      \"172.17.0.1:9100\\\",job=\\\"prometheus\\\"}\",\n              \"yaxis\": 2\n\
      \            }\n          ],\n          \"spaceLength\": 10,\n          \"span\"\
      : 9,\n          \"stack\": true,\n          \"steppedLine\": false,\n      \
      \    \"targets\": [\n            {\n              \"expr\": \"node_memory_MemTotal{instance=\\\
      \"$server\\\"} - node_memory_MemFree{instance=\\\"$server\\\"} - node_memory_Buffers{instance=\\\
      \"$server\\\"} - node_memory_Cached{instance=\\\"$server\\\"}\",\n         \
      \     \"hide\": false,\n              \"interval\": \"\",\n              \"\
      intervalFactor\": 2,\n              \"legendFormat\": \"memory used\",\n   \
      \           \"metric\": \"\",\n              \"refId\": \"C\",\n           \
      \   \"step\": 10\n            },\n            {\n              \"expr\": \"\
      node_memory_Buffers{instance=\\\"$server\\\"}\",\n              \"interval\"\
      : \"\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"memory buffers\",\n              \"metric\": \"\",\n              \"refId\"\
      : \"E\",\n              \"step\": 10\n            },\n            {\n      \
      \        \"expr\": \"node_memory_Cached{instance=\\\"$server\\\"}\",\n     \
      \         \"intervalFactor\": 2,\n              \"legendFormat\": \"memory cached\"\
      ,\n              \"metric\": \"\",\n              \"refId\": \"F\",\n      \
      \        \"step\": 10\n            },\n            {\n              \"expr\"\
      : \"node_memory_MemFree{instance=\\\"$server\\\"}\",\n              \"intervalFactor\"\
      : 2,\n              \"legendFormat\": \"memory free\",\n              \"metric\"\
      : \"\",\n              \"refId\": \"D\",\n              \"step\": 10\n     \
      \       }\n          ],\n          \"title\": \"Memory Usage\",\n          \"\
      tooltip\": {\n            \"msResolution\": false,\n            \"shared\":\
      \ true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\
      \n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n   \
      \         \"mode\": \"time\",\n            \"show\": true,\n            \"values\"\
      : []\n          },\n          \"yaxes\": [\n            {\n              \"\
      format\": \"bytes\",\n              \"logBase\": 1,\n              \"min\":\
      \ \"0\",\n              \"show\": true\n            },\n            {\n    \
      \          \"format\": \"short\",\n              \"logBase\": 1,\n         \
      \     \"show\": true\n            }\n          ]\n        },\n        {\n  \
      \        \"colorBackground\": false,\n          \"colorValue\": false,\n   \
      \       \"colors\": [\n            \"rgba(50, 172, 45, 0.97)\",\n          \
      \  \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(245, 54, 54, 0.9)\"\n \
      \         ],\n          \"datasource\": \"prometheus\",\n          \"editable\"\
      : false,\n          \"format\": \"percent\",\n          \"gauge\": {\n     \
      \       \"maxValue\": 100,\n            \"minValue\": 0,\n            \"show\"\
      : true,\n            \"thresholdLabels\": false,\n            \"thresholdMarkers\"\
      : true\n          },\n          \"hideTimeOverride\": false,\n          \"id\"\
      : 5,\n          \"links\": [],\n          \"mappingType\": 1,\n          \"\
      mappingTypes\": [\n            {\n              \"name\": \"value to text\"\
      ,\n              \"value\": 1\n            },\n            {\n             \
      \ \"name\": \"range to text\",\n              \"value\": 2\n            }\n\
      \          ],\n          \"maxDataPoints\": 100,\n          \"nullPointMode\"\
      : \"connected\",\n          \"postfix\": \"\",\n          \"postfixFontSize\"\
      : \"50%\",\n          \"prefix\": \"\",\n          \"prefixFontSize\": \"50%\"\
      ,\n          \"rangeMaps\": [\n            {\n              \"from\": \"null\"\
      ,\n              \"text\": \"N/A\",\n              \"to\": \"null\"\n      \
      \      }\n          ],\n          \"span\": 3,\n          \"sparkline\": {\n\
      \            \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n            \"full\"\
      : false,\n            \"lineColor\": \"rgb(31, 120, 193)\",\n            \"\
      show\": false\n          },\n          \"targets\": [\n            {\n     \
      \         \"expr\": \"((node_memory_MemTotal{instance=\\\"$server\\\"} - node_memory_MemFree{instance=\\\
      \"$server\\\"}  - node_memory_Buffers{instance=\\\"$server\\\"} - node_memory_Cached{instance=\\\
      \"$server\\\"}) / node_memory_MemTotal{instance=\\\"$server\\\"}) * 100\",\n\
      \              \"intervalFactor\": 2,\n              \"refId\": \"A\",\n   \
      \           \"step\": 60,\n              \"target\": \"\"\n            }\n \
      \         ],\n          \"thresholds\": \"80, 90\",\n          \"title\": \"\
      Memory Usage\",\n          \"transparent\": false,\n          \"type\": \"singlestat\"\
      ,\n          \"valueFontSize\": \"80%\",\n          \"valueMaps\": [\n     \
      \       {\n              \"op\": \"=\",\n              \"text\": \"N/A\",\n\
      \              \"value\": \"null\"\n            }\n          ],\n          \"\
      valueName\": \"avg\"\n        }\n      ],\n      \"showTitle\": false,\n   \
      \   \"title\": \"New Row\",\n      \"titleSize\": \"h6\"\n    },\n    {\n  \
      \    \"collapse\": false,\n      \"editable\": false,\n      \"height\": \"\
      250px\",\n      \"panels\": [\n        {\n          \"aliasColors\": {},\n \
      \         \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\"\
      : false,\n          \"datasource\": \"prometheus\",\n          \"editable\"\
      : false,\n          \"error\": false,\n          \"fill\": 1,\n          \"\
      grid\": {\n            \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n\
      \            \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n          },\n\
      \          \"id\": 6,\n          \"isNew\": true,\n          \"legend\": {\n\
      \            \"alignAsTable\": false,\n            \"avg\": false,\n       \
      \     \"current\": false,\n            \"hideEmpty\": false,\n            \"\
      hideZero\": false,\n            \"max\": false,\n            \"min\": false,\n\
      \            \"rightSide\": false,\n            \"show\": true,\n          \
      \  \"total\": false\n          },\n          \"lines\": true,\n          \"\
      linewidth\": 2,\n          \"links\": [],\n          \"nullPointMode\": \"connected\"\
      ,\n          \"percentage\": false,\n          \"pointradius\": 5,\n       \
      \   \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\"\
      : [\n            {\n              \"alias\": \"read\",\n              \"yaxis\"\
      : 1\n            },\n            {\n              \"alias\": \"{instance=\\\"\
      172.17.0.1:9100\\\"}\",\n              \"yaxis\": 2\n            },\n      \
      \      {\n              \"alias\": \"io time\",\n              \"yaxis\": 2\n\
      \            }\n          ],\n          \"spaceLength\": 10,\n          \"span\"\
      : 9,\n          \"stack\": false,\n          \"steppedLine\": false,\n     \
      \     \"targets\": [\n            {\n              \"expr\": \"sum by (instance)\
      \ (rate(node_disk_bytes_read{instance=\\\"$server\\\"}[2m]))\",\n          \
      \    \"hide\": false,\n              \"intervalFactor\": 4,\n              \"\
      legendFormat\": \"read\",\n              \"refId\": \"A\",\n              \"\
      step\": 20,\n              \"target\": \"\"\n            },\n            {\n\
      \              \"expr\": \"sum by (instance) (rate(node_disk_bytes_written{instance=\\\
      \"$server\\\"}[2m]))\",\n              \"intervalFactor\": 4,\n            \
      \  \"legendFormat\": \"written\",\n              \"refId\": \"B\",\n       \
      \       \"step\": 20\n            },\n            {\n              \"expr\"\
      : \"sum by (instance) (rate(node_disk_io_time_ms{instance=\\\"$server\\\"}[2m]))\"\
      ,\n              \"intervalFactor\": 4,\n              \"legendFormat\": \"\
      io time\",\n              \"refId\": \"C\",\n              \"step\": 20\n  \
      \          }\n          ],\n          \"title\": \"Disk I/O\",\n          \"\
      tooltip\": {\n            \"msResolution\": false,\n            \"shared\":\
      \ true,\n            \"sort\": 0,\n            \"value_type\": \"cumulative\"\
      \n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n   \
      \         \"mode\": \"time\",\n            \"show\": true,\n            \"values\"\
      : []\n          },\n          \"yaxes\": [\n            {\n              \"\
      format\": \"bytes\",\n              \"logBase\": 1,\n              \"show\"\
      : true\n            },\n            {\n              \"format\": \"ms\",\n \
      \             \"logBase\": 1,\n              \"show\": true\n            }\n\
      \          ]\n        },\n        {\n          \"colorBackground\": false,\n\
      \          \"colorValue\": false,\n          \"colors\": [\n            \"rgba(50,\
      \ 172, 45, 0.97)\",\n            \"rgba(237, 129, 40, 0.89)\",\n           \
      \ \"rgba(245, 54, 54, 0.9)\"\n          ],\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"format\": \"percentunit\",\n\
      \          \"gauge\": {\n            \"maxValue\": 1,\n            \"minValue\"\
      : 0,\n            \"show\": true,\n            \"thresholdLabels\": false,\n\
      \            \"thresholdMarkers\": true\n          },\n          \"hideTimeOverride\"\
      : false,\n          \"id\": 7,\n          \"links\": [],\n          \"mappingType\"\
      : 1,\n          \"mappingTypes\": [\n            {\n              \"name\":\
      \ \"value to text\",\n              \"value\": 1\n            },\n         \
      \   {\n              \"name\": \"range to text\",\n              \"value\":\
      \ 2\n            }\n          ],\n          \"maxDataPoints\": 100,\n      \
      \    \"nullPointMode\": \"connected\",\n          \"postfix\": \"\",\n     \
      \     \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n         \
      \ \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n            {\n\
      \              \"from\": \"null\",\n              \"text\": \"N/A\",\n     \
      \         \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"(sum(node_filesystem_size{device!=\\\
      \"rootfs\\\",instance=\\\"$server\\\"}) - sum(node_filesystem_free{device!=\\\
      \"rootfs\\\",instance=\\\"$server\\\"})) / sum(node_filesystem_size{device!=\\\
      \"rootfs\\\",instance=\\\"$server\\\"})\",\n              \"intervalFactor\"\
      : 2,\n              \"refId\": \"A\",\n              \"step\": 60,\n       \
      \       \"target\": \"\"\n            }\n          ],\n          \"thresholds\"\
      : \"0.75, 0.9\",\n          \"title\": \"Disk Space Usage\",\n          \"transparent\"\
      : false,\n          \"type\": \"singlestat\",\n          \"valueFontSize\":\
      \ \"80%\",\n          \"valueMaps\": [\n            {\n              \"op\"\
      : \"=\",\n              \"text\": \"N/A\",\n              \"value\": \"null\"\
      \n            }\n          ],\n          \"valueName\": \"current\"\n      \
      \  }\n      ],\n      \"showTitle\": false,\n      \"title\": \"New Row\",\n\
      \      \"titleSize\": \"h6\"\n    },\n    {\n      \"collapse\": false,\n  \
      \    \"editable\": false,\n      \"height\": \"250px\",\n      \"panels\": [\n\
      \        {\n          \"aliasColors\": {},\n          \"bars\": false,\n   \
      \       \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\"\
      : \"prometheus\",\n          \"editable\": false,\n          \"error\": false,\n\
      \          \"fill\": 1,\n          \"grid\": {\n            \"threshold1Color\"\
      : \"rgba(216, 200, 27, 0.27)\",\n            \"threshold2Color\": \"rgba(234,\
      \ 112, 112, 0.22)\"\n          },\n          \"id\": 8,\n          \"isNew\"\
      : false,\n          \"legend\": {\n            \"alignAsTable\": false,\n  \
      \          \"avg\": false,\n            \"current\": false,\n            \"\
      hideEmpty\": false,\n            \"hideZero\": false,\n            \"max\":\
      \ false,\n            \"min\": false,\n            \"rightSide\": false,\n \
      \           \"show\": true,\n            \"total\": false\n          },\n  \
      \        \"lines\": true,\n          \"linewidth\": 2,\n          \"links\"\
      : [],\n          \"nullPointMode\": \"connected\",\n          \"percentage\"\
      : false,\n          \"pointradius\": 5,\n          \"points\": false,\n    \
      \      \"renderer\": \"flot\",\n          \"seriesOverrides\": [\n         \
      \   {\n              \"alias\": \"transmitted\",\n              \"yaxis\": 2\n\
      \            }\n          ],\n          \"spaceLength\": 10,\n          \"span\"\
      : 6,\n          \"stack\": false,\n          \"steppedLine\": false,\n     \
      \     \"targets\": [\n            {\n              \"expr\": \"rate(node_network_receive_bytes{instance=\\\
      \"$server\\\",device!~\\\"lo\\\"}[5m])\",\n              \"hide\": false,\n\
      \              \"intervalFactor\": 2,\n              \"legendFormat\": \"{{device}}\"\
      ,\n              \"refId\": \"A\",\n              \"step\": 10,\n          \
      \    \"target\": \"\"\n            }\n          ],\n          \"title\": \"\
      Network Received\",\n          \"tooltip\": {\n            \"msResolution\"\
      : false,\n            \"shared\": true,\n            \"sort\": 0,\n        \
      \    \"value_type\": \"cumulative\"\n          },\n          \"type\": \"graph\"\
      ,\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\"\
      : true,\n            \"values\": []\n          },\n          \"yaxes\": [\n\
      \            {\n              \"format\": \"bytes\",\n              \"logBase\"\
      : 1,\n              \"show\": true\n            },\n            {\n        \
      \      \"format\": \"bytes\",\n              \"logBase\": 1,\n             \
      \ \"show\": true\n            }\n          ]\n        },\n        {\n      \
      \    \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\"\
      : 10,\n          \"dashes\": false,\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"error\": false,\n          \"\
      fill\": 1,\n          \"grid\": {\n            \"threshold1Color\": \"rgba(216,\
      \ 200, 27, 0.27)\",\n            \"threshold2Color\": \"rgba(234, 112, 112,\
      \ 0.22)\"\n          },\n          \"id\": 10,\n          \"isNew\": false,\n\
      \          \"legend\": {\n            \"alignAsTable\": false,\n           \
      \ \"avg\": false,\n            \"current\": false,\n            \"hideEmpty\"\
      : false,\n            \"hideZero\": false,\n            \"max\": false,\n  \
      \          \"min\": false,\n            \"rightSide\": false,\n            \"\
      show\": true,\n            \"total\": false\n          },\n          \"lines\"\
      : true,\n          \"linewidth\": 2,\n          \"links\": [],\n          \"\
      nullPointMode\": \"connected\",\n          \"percentage\": false,\n        \
      \  \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\"\
      : \"flot\",\n          \"seriesOverrides\": [\n            {\n             \
      \ \"alias\": \"transmitted\",\n              \"yaxis\": 2\n            }\n \
      \         ],\n          \"spaceLength\": 10,\n          \"span\": 6,\n     \
      \     \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\"\
      : [\n            {\n              \"expr\": \"rate(node_network_transmit_bytes{instance=\\\
      \"$server\\\",device!~\\\"lo\\\"}[5m])\",\n              \"hide\": false,\n\
      \              \"intervalFactor\": 2,\n              \"legendFormat\": \"{{device}}\"\
      ,\n              \"refId\": \"B\",\n              \"step\": 10,\n          \
      \    \"target\": \"\"\n            }\n          ],\n          \"title\": \"\
      Network Transmitted\",\n          \"tooltip\": {\n            \"msResolution\"\
      : false,\n            \"shared\": true,\n            \"sort\": 0,\n        \
      \    \"value_type\": \"cumulative\"\n          },\n          \"type\": \"graph\"\
      ,\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\"\
      : true,\n            \"values\": []\n          },\n          \"yaxes\": [\n\
      \            {\n              \"format\": \"bytes\",\n              \"logBase\"\
      : 1,\n              \"show\": true\n            },\n            {\n        \
      \      \"format\": \"bytes\",\n              \"logBase\": 1,\n             \
      \ \"show\": true\n            }\n          ]\n        }\n      ],\n      \"\
      showTitle\": false,\n      \"title\": \"New Row\",\n      \"titleSize\": \"\
      h6\"\n    }\n  ],\n  \"schemaVersion\": 14,\n  \"sharedCrosshair\": false,\n\
      \  \"style\": \"dark\",\n  \"tags\": [],\n  \"templating\": {\n    \"list\"\
      : [\n      {\n        \"allValue\": null,\n        \"current\": {},\n      \
      \  \"datasource\": \"prometheus\",\n        \"hide\": 0,\n        \"includeAll\"\
      : false,\n        \"label\": null,\n        \"multi\": false,\n        \"name\"\
      : \"server\",\n        \"options\": [],\n        \"query\": \"label_values(node_boot_time,\
      \ instance)\",\n        \"refresh\": 1,\n        \"regex\": \"\",\n        \"\
      sort\": 0,\n        \"tagValuesQuery\": \"\",\n        \"tags\": [],\n     \
      \   \"tagsQuery\": \"\",\n        \"type\": \"query\",\n        \"useTags\"\
      : false\n      }\n    ]\n  },\n  \"time\": {\n    \"from\": \"now-1h\",\n  \
      \  \"to\": \"now\"\n  },\n  \"timepicker\": {\n    \"refresh_intervals\": [\n\
      \      \"5s\",\n      \"10s\",\n      \"30s\",\n      \"1m\",\n      \"5m\"\
      ,\n      \"15m\",\n      \"30m\",\n      \"1h\",\n      \"2h\",\n      \"1d\"\
      \n    ],\n    \"time_options\": [\n      \"5m\",\n      \"15m\",\n      \"1h\"\
      ,\n      \"6h\",\n      \"12h\",\n      \"24h\",\n      \"2d\",\n      \"7d\"\
      ,\n      \"30d\"\n    ]\n  },\n  \"timezone\": \"browser\",\n  \"title\": \"\
      Nodes\",\n  \"version\": 2\n}\n"
  kind: ConfigMap
  metadata:
    labels:
    name: grafana-dashboard-definition-kubernetes-nodes
    namespace: knative-monitoring
- apiVersion: v1
  data:
    kubernetes-pods-dashboard.json: "{\n  \"__inputs\": [\n    {\n      \"description\"\
      : \"\",\n      \"label\": \"prometheus\",\n      \"name\": \"prometheus\",\n\
      \      \"pluginId\": \"prometheus\",\n      \"pluginName\": \"Prometheus\",\n\
      \      \"type\": \"datasource\"\n    }\n  ],\n  \"annotations\": {\n    \"list\"\
      : []\n  },\n  \"editable\": false,\n  \"graphTooltip\": 1,\n  \"hideControls\"\
      : false,\n  \"links\": [],\n  \"refresh\": false,\n  \"rows\": [\n    {\n  \
      \    \"collapse\": false,\n      \"editable\": false,\n      \"height\": \"\
      250px\",\n      \"panels\": [\n        {\n          \"aliasColors\": {},\n \
      \         \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\"\
      : false,\n          \"datasource\": \"prometheus\",\n          \"editable\"\
      : false,\n          \"error\": false,\n          \"fill\": 1,\n          \"\
      grid\": {\n            \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n\
      \            \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n          },\n\
      \          \"id\": 1,\n          \"isNew\": false,\n          \"legend\": {\n\
      \            \"alignAsTable\": true,\n            \"avg\": true,\n         \
      \   \"current\": true,\n            \"hideEmpty\": false,\n            \"hideZero\"\
      : false,\n            \"max\": false,\n            \"min\": false,\n       \
      \     \"rightSide\": true,\n            \"show\": true,\n            \"total\"\
      : false,\n            \"values\": true\n          },\n          \"lines\": true,\n\
      \          \"linewidth\": 2,\n          \"links\": [],\n          \"nullPointMode\"\
      : \"connected\",\n          \"percentage\": false,\n          \"pointradius\"\
      : 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n    \
      \      \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"\
      span\": 12,\n          \"stack\": false,\n          \"steppedLine\": false,\n\
      \          \"targets\": [\n            {\n              \"expr\": \"sum by(container_name)\
      \ (container_memory_usage_bytes{pod_name=\\\"$pod\\\", container_name=~\\\"\
      $container\\\", container_name!=\\\"POD\\\"})\",\n              \"interval\"\
      : \"10s\",\n              \"intervalFactor\": 1,\n              \"legendFormat\"\
      : \"Current: {{ container_name }}\",\n              \"metric\": \"container_memory_usage_bytes\"\
      ,\n              \"refId\": \"A\",\n              \"step\": 15\n           \
      \ },\n            {\n              \"expr\": \"kube_pod_container_resource_requests_memory_bytes{pod=\\\
      \"$pod\\\", container=~\\\"$container\\\"}\",\n              \"interval\": \"\
      10s\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"Requested: {{ container }}\",\n              \"metric\": \"kube_pod_container_resource_requests_memory_bytes\"\
      ,\n              \"refId\": \"B\",\n              \"step\": 20\n           \
      \ },\n            {\n              \"expr\": \"kube_pod_container_resource_limits_memory_bytes{pod=\\\
      \"$pod\\\", container=~\\\"$container\\\"}\",\n              \"interval\": \"\
      10s\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"Limit: {{ container }}\",\n              \"metric\": \"kube_pod_container_resource_limits_memory_bytes\"\
      ,\n              \"refId\": \"C\",\n              \"step\": 20\n           \
      \ }\n          ],\n          \"title\": \"Memory Usage\",\n          \"tooltip\"\
      : {\n            \"msResolution\": true,\n            \"shared\": true,\n  \
      \          \"sort\": 0,\n            \"value_type\": \"cumulative\"\n      \
      \    },\n          \"type\": \"graph\",\n          \"xaxis\": {\n          \
      \  \"mode\": \"time\",\n            \"show\": true,\n            \"values\"\
      : []\n          },\n          \"yaxes\": [\n            {\n              \"\
      format\": \"bytes\",\n              \"logBase\": 1,\n              \"show\"\
      : true\n            },\n            {\n              \"format\": \"short\",\n\
      \              \"logBase\": 1,\n              \"show\": true\n            }\n\
      \          ]\n        }\n      ],\n      \"showTitle\": false,\n      \"title\"\
      : \"Row\",\n      \"titleSize\": \"h6\"\n    },\n    {\n      \"collapse\":\
      \ false,\n      \"editable\": false,\n      \"height\": \"250px\",\n      \"\
      panels\": [\n        {\n          \"aliasColors\": {},\n          \"bars\":\
      \ false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n    \
      \      \"datasource\": \"prometheus\",\n          \"editable\": false,\n   \
      \       \"error\": false,\n          \"fill\": 1,\n          \"grid\": {\n \
      \           \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n           \
      \ \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n          },\n       \
      \   \"id\": 2,\n          \"isNew\": false,\n          \"legend\": {\n     \
      \       \"alignAsTable\": true,\n            \"avg\": true,\n            \"\
      current\": true,\n            \"hideEmpty\": false,\n            \"hideZero\"\
      : false,\n            \"max\": false,\n            \"min\": false,\n       \
      \     \"rightSide\": true,\n            \"show\": true,\n            \"total\"\
      : false,\n            \"values\": true\n          },\n          \"lines\": true,\n\
      \          \"linewidth\": 2,\n          \"links\": [],\n          \"nullPointMode\"\
      : \"connected\",\n          \"percentage\": false,\n          \"pointradius\"\
      : 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n    \
      \      \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"\
      span\": 12,\n          \"stack\": false,\n          \"steppedLine\": false,\n\
      \          \"targets\": [\n            {\n              \"expr\": \"sum by (container_name)(rate(container_cpu_usage_seconds_total{image!=\\\
      \"\\\",container_name!=\\\"POD\\\",pod_name=\\\"$pod\\\"}[1m]))\",\n       \
      \       \"intervalFactor\": 2,\n              \"legendFormat\": \"{{ container_name\
      \ }}\",\n              \"refId\": \"A\",\n              \"step\": 30\n     \
      \       },\n            {\n              \"expr\": \"kube_pod_container_resource_requests_cpu_cores{pod=\\\
      \"$pod\\\", container=~\\\"$container\\\"}\",\n              \"interval\": \"\
      10s\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"Requested: {{ container }}\",\n              \"metric\": \"kube_pod_container_resource_requests_cpu_cores\"\
      ,\n              \"refId\": \"B\",\n              \"step\": 20\n           \
      \ },\n            {\n              \"expr\": \"kube_pod_container_resource_limits_cpu_cores{pod=\\\
      \"$pod\\\", container=~\\\"$container\\\"}\",\n              \"interval\": \"\
      10s\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"Limit: {{ container }}\",\n              \"metric\": \"kube_pod_container_resource_limits_memory_bytes\"\
      ,\n              \"refId\": \"C\",\n              \"step\": 20\n           \
      \ }\n          ],\n          \"title\": \"CPU Usage\",\n          \"tooltip\"\
      : {\n            \"msResolution\": true,\n            \"shared\": true,\n  \
      \          \"sort\": 0,\n            \"value_type\": \"cumulative\"\n      \
      \    },\n          \"type\": \"graph\",\n          \"xaxis\": {\n          \
      \  \"mode\": \"time\",\n            \"show\": true,\n            \"values\"\
      : []\n          },\n          \"yaxes\": [\n            {\n              \"\
      format\": \"short\",\n              \"logBase\": 1,\n              \"show\"\
      : true\n            },\n            {\n              \"format\": \"short\",\n\
      \              \"logBase\": 1,\n              \"show\": true\n            }\n\
      \          ]\n        }\n      ],\n      \"showTitle\": false,\n      \"title\"\
      : \"Row\",\n      \"titleSize\": \"h6\"\n    },\n    {\n      \"collapse\":\
      \ false,\n      \"editable\": false,\n      \"height\": \"250px\",\n      \"\
      panels\": [\n        {\n          \"aliasColors\": {},\n          \"bars\":\
      \ false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n    \
      \      \"datasource\": \"prometheus\",\n          \"editable\": false,\n   \
      \       \"error\": false,\n          \"fill\": 1,\n          \"grid\": {\n \
      \           \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n           \
      \ \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n          },\n       \
      \   \"id\": 3,\n          \"isNew\": false,\n          \"legend\": {\n     \
      \       \"alignAsTable\": true,\n            \"avg\": true,\n            \"\
      current\": true,\n            \"hideEmpty\": false,\n            \"hideZero\"\
      : false,\n            \"max\": false,\n            \"min\": false,\n       \
      \     \"rightSide\": true,\n            \"show\": true,\n            \"total\"\
      : false,\n            \"values\": true\n          },\n          \"lines\": true,\n\
      \          \"linewidth\": 2,\n          \"links\": [],\n          \"nullPointMode\"\
      : \"connected\",\n          \"percentage\": false,\n          \"pointradius\"\
      : 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n    \
      \      \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"\
      span\": 12,\n          \"stack\": false,\n          \"steppedLine\": false,\n\
      \          \"targets\": [\n            {\n              \"expr\": \"sort_desc(sum\
      \ by (pod_name) (rate(container_network_receive_bytes_total{pod_name=\\\"$pod\\\
      \"}[1m])))\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"{{ pod_name }}\",\n              \"refId\": \"A\",\n              \"step\"\
      : 30\n            }\n          ],\n          \"title\": \"Network I/O\",\n \
      \         \"tooltip\": {\n            \"msResolution\": true,\n            \"\
      shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"cumulative\"\
      \n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n   \
      \         \"mode\": \"time\",\n            \"show\": true,\n            \"values\"\
      : []\n          },\n          \"yaxes\": [\n            {\n              \"\
      format\": \"bytes\",\n              \"logBase\": 1,\n              \"show\"\
      : true\n            },\n            {\n              \"format\": \"short\",\n\
      \              \"logBase\": 1,\n              \"show\": true\n            }\n\
      \          ]\n        }\n      ],\n      \"showTitle\": false,\n      \"title\"\
      : \"New Row\",\n      \"titleSize\": \"h6\"\n    }\n  ],\n  \"schemaVersion\"\
      : 14,\n  \"sharedCrosshair\": false,\n  \"style\": \"dark\",\n  \"tags\": [],\n\
      \  \"templating\": {\n    \"list\": [\n      {\n        \"allValue\": \".*\"\
      ,\n        \"current\": {},\n        \"datasource\": \"prometheus\",\n     \
      \   \"hide\": 0,\n        \"includeAll\": true,\n        \"label\": \"Namespace\"\
      ,\n        \"multi\": false,\n        \"name\": \"namespace\",\n        \"options\"\
      : [],\n        \"query\": \"label_values(kube_pod_info, namespace)\",\n    \
      \    \"refresh\": 1,\n        \"regex\": \"\",\n        \"sort\": 0,\n     \
      \   \"tagValuesQuery\": \"\",\n        \"tags\": [],\n        \"tagsQuery\"\
      : \"\",\n        \"type\": \"query\",\n        \"useTags\": false\n      },\n\
      \      {\n        \"allValue\": null,\n        \"current\": {},\n        \"\
      datasource\": \"prometheus\",\n        \"hide\": 0,\n        \"includeAll\"\
      : false,\n        \"label\": \"Pod\",\n        \"multi\": false,\n        \"\
      name\": \"pod\",\n        \"options\": [],\n        \"query\": \"label_values(kube_pod_info{namespace=~\\\
      \"$namespace\\\"}, pod)\",\n        \"refresh\": 1,\n        \"regex\": \"\"\
      ,\n        \"sort\": 0,\n        \"tagValuesQuery\": \"\",\n        \"tags\"\
      : [],\n        \"tagsQuery\": \"\",\n        \"type\": \"query\",\n        \"\
      useTags\": false\n      },\n      {\n        \"allValue\": \".*\",\n       \
      \ \"current\": {},\n        \"datasource\": \"prometheus\",\n        \"hide\"\
      : 0,\n        \"includeAll\": true,\n        \"label\": \"Container\",\n   \
      \     \"multi\": false,\n        \"name\": \"container\",\n        \"options\"\
      : [],\n        \"query\": \"label_values(kube_pod_container_info{namespace=\\\
      \"$namespace\\\", pod=\\\"$pod\\\"}, container)\",\n        \"refresh\": 1,\n\
      \        \"regex\": \"\",\n        \"sort\": 0,\n        \"tagValuesQuery\"\
      : \"\",\n        \"tags\": [],\n        \"tagsQuery\": \"\",\n        \"type\"\
      : \"query\",\n        \"useTags\": false\n      }\n    ]\n  },\n  \"time\":\
      \ {\n    \"from\": \"now-6h\",\n    \"to\": \"now\"\n  },\n  \"timepicker\"\
      : {\n    \"refresh_intervals\": [\n      \"5s\",\n      \"10s\",\n      \"30s\"\
      ,\n      \"1m\",\n      \"5m\",\n      \"15m\",\n      \"30m\",\n      \"1h\"\
      ,\n      \"2h\",\n      \"1d\"\n    ],\n    \"time_options\": [\n      \"5m\"\
      ,\n      \"15m\",\n      \"1h\",\n      \"6h\",\n      \"12h\",\n      \"24h\"\
      ,\n      \"2d\",\n      \"7d\",\n      \"30d\"\n    ]\n  },\n  \"timezone\"\
      : \"browser\",\n  \"title\": \"Pods\",\n  \"version\": 1\n}\n"
  kind: ConfigMap
  metadata:
    labels:
    name: grafana-dashboard-definition-kubernetes-pods
    namespace: knative-monitoring
- apiVersion: v1
  data:
    kubernetes-statefulset-dashboard.json: "{\n  \"__inputs\": [\n    {\n      \"\
      description\": \"\",\n      \"label\": \"prometheus\",\n      \"name\": \"prometheus\"\
      ,\n      \"pluginId\": \"prometheus\",\n      \"pluginName\": \"Prometheus\"\
      ,\n      \"type\": \"datasource\"\n    }\n  ],\n  \"annotations\": {\n    \"\
      list\": []\n  },\n  \"editable\": false,\n  \"graphTooltip\": 1,\n  \"hideControls\"\
      : false,\n  \"links\": [],\n  \"rows\": [\n    {\n      \"collapse\": false,\n\
      \      \"editable\": false,\n      \"height\": \"200px\",\n      \"panels\"\
      : [\n        {\n          \"colorBackground\": false,\n          \"colorValue\"\
      : false,\n          \"colors\": [\n            \"rgba(245, 54, 54, 0.9)\",\n\
      \            \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(50, 172, 45,\
      \ 0.97)\"\n          ],\n          \"datasource\": \"prometheus\",\n       \
      \   \"editable\": false,\n          \"format\": \"none\",\n          \"gauge\"\
      : {\n            \"maxValue\": 100,\n            \"minValue\": 0,\n        \
      \    \"show\": false,\n            \"thresholdLabels\": false,\n           \
      \ \"thresholdMarkers\": true\n          },\n          \"id\": 8,\n         \
      \ \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfix\": \"cores\",\n          \"postfixFontSize\": \"50%\"\
      ,\n          \"prefix\": \"\",\n          \"prefixFontSize\": \"50%\",\n   \
      \       \"rangeMaps\": [\n            {\n              \"from\": \"null\",\n\
      \              \"text\": \"N/A\",\n              \"to\": \"null\"\n        \
      \    }\n          ],\n          \"span\": 4,\n          \"sparkline\": {\n \
      \           \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n            \"full\"\
      : false,\n            \"lineColor\": \"rgb(31, 120, 193)\",\n            \"\
      show\": true\n          },\n          \"targets\": [\n            {\n      \
      \        \"expr\": \"sum(rate(container_cpu_usage_seconds_total{namespace=\\\
      \"$statefulset_namespace\\\",pod_name=~\\\"$statefulset_name.*\\\"}[3m]))\"\
      ,\n              \"intervalFactor\": 2,\n              \"refId\": \"A\",\n \
      \             \"step\": 600\n            }\n          ],\n          \"title\"\
      : \"CPU\",\n          \"type\": \"singlestat\",\n          \"valueFontSize\"\
      : \"110%\",\n          \"valueMaps\": [\n            {\n              \"op\"\
      : \"=\",\n              \"text\": \"N/A\",\n              \"value\": \"null\"\
      \n            }\n          ],\n          \"valueName\": \"avg\"\n        },\n\
      \        {\n          \"colorBackground\": false,\n          \"colorValue\"\
      : false,\n          \"colors\": [\n            \"rgba(245, 54, 54, 0.9)\",\n\
      \            \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(50, 172, 45,\
      \ 0.97)\"\n          ],\n          \"datasource\": \"prometheus\",\n       \
      \   \"editable\": false,\n          \"format\": \"none\",\n          \"gauge\"\
      : {\n            \"maxValue\": 100,\n            \"minValue\": 0,\n        \
      \    \"show\": false,\n            \"thresholdLabels\": false,\n           \
      \ \"thresholdMarkers\": true\n          },\n          \"id\": 9,\n         \
      \ \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfix\": \"GB\",\n          \"postfixFontSize\": \"50%\",\n\
      \          \"prefix\": \"\",\n          \"prefixFontSize\": \"80%\",\n     \
      \     \"rangeMaps\": [\n            {\n              \"from\": \"null\",\n \
      \             \"text\": \"N/A\",\n              \"to\": \"null\"\n         \
      \   }\n          ],\n          \"span\": 4,\n          \"sparkline\": {\n  \
      \          \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n            \"full\"\
      : false,\n            \"lineColor\": \"rgb(31, 120, 193)\",\n            \"\
      show\": true\n          },\n          \"targets\": [\n            {\n      \
      \        \"expr\": \"sum(container_memory_usage_bytes{namespace=\\\"$statefulset_namespace\\\
      \",pod_name=~\\\"$statefulset_name.*\\\"}) / 1024^3\",\n              \"intervalFactor\"\
      : 2,\n              \"refId\": \"A\",\n              \"step\": 600\n       \
      \     }\n          ],\n          \"title\": \"Memory\",\n          \"type\"\
      : \"singlestat\",\n          \"valueFontSize\": \"110%\",\n          \"valueMaps\"\
      : [\n            {\n              \"op\": \"=\",\n              \"text\": \"\
      N/A\",\n              \"value\": \"null\"\n            }\n          ],\n   \
      \       \"valueName\": \"avg\"\n        },\n        {\n          \"colorBackground\"\
      : false,\n          \"colorValue\": false,\n          \"colors\": [\n      \
      \      \"rgba(245, 54, 54, 0.9)\",\n            \"rgba(237, 129, 40, 0.89)\"\
      ,\n            \"rgba(50, 172, 45, 0.97)\"\n          ],\n          \"datasource\"\
      : \"prometheus\",\n          \"editable\": false,\n          \"format\": \"\
      Bps\",\n          \"gauge\": {\n            \"maxValue\": 100,\n           \
      \ \"minValue\": 0,\n            \"show\": false,\n            \"thresholdLabels\"\
      : false,\n            \"thresholdMarkers\": false\n          },\n          \"\
      id\": 7,\n          \"links\": [],\n          \"mappingType\": 1,\n        \
      \  \"mappingTypes\": [\n            {\n              \"name\": \"value to text\"\
      ,\n              \"value\": 1\n            },\n            {\n             \
      \ \"name\": \"range to text\",\n              \"value\": 2\n            }\n\
      \          ],\n          \"maxDataPoints\": 100,\n          \"nullPointMode\"\
      : \"connected\",\n          \"postfix\": \"\",\n          \"postfixFontSize\"\
      : \"50%\",\n          \"prefix\": \"\",\n          \"prefixFontSize\": \"50%\"\
      ,\n          \"rangeMaps\": [\n            {\n              \"from\": \"null\"\
      ,\n              \"text\": \"N/A\",\n              \"to\": \"null\"\n      \
      \      }\n          ],\n          \"span\": 4,\n          \"sparkline\": {\n\
      \            \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n            \"full\"\
      : false,\n            \"lineColor\": \"rgb(31, 120, 193)\",\n            \"\
      show\": true\n          },\n          \"targets\": [\n            {\n      \
      \        \"expr\": \"sum(rate(container_network_transmit_bytes_total{namespace=\\\
      \"$statefulset_namespace\\\",pod_name=~\\\"$statefulset_name.*\\\"}[3m])) +\
      \ sum(rate(container_network_receive_bytes_total{namespace=\\\"$statefulset_namespace\\\
      \",pod_name=~\\\"$statefulset_name.*\\\"}[3m]))\",\n              \"intervalFactor\"\
      : 2,\n              \"refId\": \"A\",\n              \"step\": 600\n       \
      \     }\n          ],\n          \"title\": \"Network\",\n          \"type\"\
      : \"singlestat\",\n          \"valueFontSize\": \"80%\",\n          \"valueMaps\"\
      : [\n            {\n              \"op\": \"=\",\n              \"text\": \"\
      N/A\",\n              \"value\": \"null\"\n            }\n          ],\n   \
      \       \"valueName\": \"avg\"\n        }\n      ],\n      \"showTitle\": false,\n\
      \      \"title\": \"Dashboard Row\",\n      \"titleSize\": \"h6\"\n    },\n\
      \    {\n      \"collapse\": false,\n      \"editable\": false,\n      \"height\"\
      : \"100px\",\n      \"panels\": [\n        {\n          \"colorBackground\"\
      : false,\n          \"colorValue\": false,\n          \"colors\": [\n      \
      \      \"rgba(245, 54, 54, 0.9)\",\n            \"rgba(237, 129, 40, 0.89)\"\
      ,\n            \"rgba(50, 172, 45, 0.97)\"\n          ],\n          \"datasource\"\
      : \"prometheus\",\n          \"editable\": false,\n          \"format\": \"\
      none\",\n          \"gauge\": {\n            \"maxValue\": 100,\n          \
      \  \"minValue\": 0,\n            \"show\": false,\n            \"thresholdLabels\"\
      : false,\n            \"thresholdMarkers\": false\n          },\n          \"\
      id\": 5,\n          \"links\": [],\n          \"mappingType\": 1,\n        \
      \  \"mappingTypes\": [\n            {\n              \"name\": \"value to text\"\
      ,\n              \"value\": 1\n            },\n            {\n             \
      \ \"name\": \"range to text\",\n              \"value\": 2\n            }\n\
      \          ],\n          \"maxDataPoints\": 100,\n          \"nullPointMode\"\
      : \"connected\",\n          \"postfixFontSize\": \"50%\",\n          \"prefix\"\
      : \"\",\n          \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n\
      \            {\n              \"from\": \"null\",\n              \"text\": \"\
      N/A\",\n              \"to\": \"null\"\n            }\n          ],\n      \
      \    \"span\": 3,\n          \"sparkline\": {\n            \"fillColor\": \"\
      rgba(31, 118, 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\"\
      : \"rgb(31, 120, 193)\",\n            \"show\": false\n          },\n      \
      \    \"targets\": [\n            {\n              \"expr\": \"max(kube_statefulset_replicas{statefulset=\\\
      \"$statefulset_name\\\",namespace=\\\"$statefulset_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"metric\": \"\
      kube_statefulset_replicas\",\n              \"refId\": \"A\",\n            \
      \  \"step\": 600\n            }\n          ],\n          \"title\": \"Desired\
      \ Replicas\",\n          \"type\": \"singlestat\",\n          \"valueFontSize\"\
      : \"80%\",\n          \"valueMaps\": [\n            {\n              \"op\"\
      : \"=\",\n              \"text\": \"N/A\",\n              \"value\": \"null\"\
      \n            }\n          ],\n          \"valueName\": \"avg\"\n        },\n\
      \        {\n          \"colorBackground\": false,\n          \"colorValue\"\
      : false,\n          \"colors\": [\n            \"rgba(245, 54, 54, 0.9)\",\n\
      \            \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(50, 172, 45,\
      \ 0.97)\"\n          ],\n          \"datasource\": \"prometheus\",\n       \
      \   \"editable\": false,\n          \"format\": \"none\",\n          \"gauge\"\
      : {\n            \"maxValue\": 100,\n            \"minValue\": 0,\n        \
      \    \"show\": false,\n            \"thresholdLabels\": false,\n           \
      \ \"thresholdMarkers\": true\n          },\n          \"id\": 6,\n         \
      \ \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n  \
      \        \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n        \
      \    {\n              \"from\": \"null\",\n              \"text\": \"N/A\",\n\
      \              \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"min(kube_statefulset_status_replicas{statefulset=\\\
      \"$statefulset_name\\\",namespace=\\\"$statefulset_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"refId\": \"\
      A\",\n              \"step\": 600\n            }\n          ],\n          \"\
      title\": \"Available Replicas\",\n          \"type\": \"singlestat\",\n    \
      \      \"valueFontSize\": \"80%\",\n          \"valueMaps\": [\n           \
      \ {\n              \"op\": \"=\",\n              \"text\": \"N/A\",\n      \
      \        \"value\": \"null\"\n            }\n          ],\n          \"valueName\"\
      : \"avg\"\n        },\n        {\n          \"colorBackground\": false,\n  \
      \        \"colorValue\": false,\n          \"colors\": [\n            \"rgba(245,\
      \ 54, 54, 0.9)\",\n            \"rgba(237, 129, 40, 0.89)\",\n            \"\
      rgba(50, 172, 45, 0.97)\"\n          ],\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"format\": \"none\",\n       \
      \   \"gauge\": {\n            \"maxValue\": 100,\n            \"minValue\":\
      \ 0,\n            \"show\": false,\n            \"thresholdLabels\": false,\n\
      \            \"thresholdMarkers\": true\n          },\n          \"id\": 3,\n\
      \          \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n  \
      \        \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n        \
      \    {\n              \"from\": \"null\",\n              \"text\": \"N/A\",\n\
      \              \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"max(kube_statefulset_status_observed_generation{statefulset=\\\
      \"$statefulset_name\\\",namespace=\\\"$statefulset_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"refId\": \"\
      A\",\n              \"step\": 600\n            }\n          ],\n          \"\
      title\": \"Observed Generation\",\n          \"type\": \"singlestat\",\n   \
      \       \"valueFontSize\": \"80%\",\n          \"valueMaps\": [\n          \
      \  {\n              \"op\": \"=\",\n              \"text\": \"N/A\",\n     \
      \         \"value\": \"null\"\n            }\n          ],\n          \"valueName\"\
      : \"avg\"\n        },\n        {\n          \"colorBackground\": false,\n  \
      \        \"colorValue\": false,\n          \"colors\": [\n            \"rgba(245,\
      \ 54, 54, 0.9)\",\n            \"rgba(237, 129, 40, 0.89)\",\n            \"\
      rgba(50, 172, 45, 0.97)\"\n          ],\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"format\": \"none\",\n       \
      \   \"gauge\": {\n            \"maxValue\": 100,\n            \"minValue\":\
      \ 0,\n            \"show\": false,\n            \"thresholdLabels\": false,\n\
      \            \"thresholdMarkers\": true\n          },\n          \"id\": 2,\n\
      \          \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n  \
      \        \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n        \
      \    {\n              \"from\": \"null\",\n              \"text\": \"N/A\",\n\
      \              \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"max(kube_statefulset_metadata_generation{statefulset=\\\
      \"$statefulset_name\\\",namespace=\\\"$statefulset_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"refId\": \"\
      A\",\n              \"step\": 600\n            }\n          ],\n          \"\
      title\": \"Metadata Generation\",\n          \"type\": \"singlestat\",\n   \
      \       \"valueFontSize\": \"80%\",\n          \"valueMaps\": [\n          \
      \  {\n              \"op\": \"=\",\n              \"text\": \"N/A\",\n     \
      \         \"value\": \"null\"\n            }\n          ],\n          \"valueName\"\
      : \"avg\"\n        }\n      ],\n      \"showTitle\": false,\n      \"title\"\
      : \"Dashboard Row\",\n      \"titleSize\": \"h6\"\n    },\n    {\n      \"collapse\"\
      : false,\n      \"editable\": false,\n      \"height\": \"350px\",\n      \"\
      panels\": [\n        {\n          \"aliasColors\": {},\n          \"bars\":\
      \ false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n    \
      \      \"datasource\": \"prometheus\",\n          \"editable\": false,\n   \
      \       \"error\": false,\n          \"fill\": 1,\n          \"grid\": {\n \
      \           \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n           \
      \ \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n          },\n       \
      \   \"id\": 1,\n          \"isNew\": true,\n          \"legend\": {\n      \
      \      \"alignAsTable\": false,\n            \"avg\": false,\n            \"\
      current\": false,\n            \"hideEmpty\": false,\n            \"hideZero\"\
      : false,\n            \"max\": false,\n            \"min\": false,\n       \
      \     \"rightSide\": false,\n            \"show\": true,\n            \"total\"\
      : false\n          },\n          \"lines\": true,\n          \"linewidth\":\
      \ 2,\n          \"links\": [],\n          \"nullPointMode\": \"connected\",\n\
      \          \"percentage\": false,\n          \"pointradius\": 5,\n         \
      \ \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\"\
      : [],\n          \"spaceLength\": 10,\n          \"span\": 12,\n          \"\
      stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n\
      \            {\n              \"expr\": \"min(kube_statefulset_status_replicas{statefulset=\\\
      \"$statefulset_name\\\",namespace=\\\"$statefulset_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"available\",\n              \"refId\": \"B\",\n              \"step\": 30\n\
      \            },\n            {\n              \"expr\": \"max(kube_statefulset_replicas{statefulset=\\\
      \"$statefulset_name\\\",namespace=\\\"$statefulset_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"desired\",\n              \"refId\": \"E\",\n              \"step\": 30\n\
      \            }\n          ],\n          \"title\": \"Replicas\",\n         \
      \ \"tooltip\": {\n            \"msResolution\": true,\n            \"shared\"\
      : true,\n            \"sort\": 0,\n            \"value_type\": \"cumulative\"\
      \n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n   \
      \         \"mode\": \"time\",\n            \"show\": true,\n            \"values\"\
      : []\n          },\n          \"yaxes\": [\n            {\n              \"\
      format\": \"none\",\n              \"label\": \"\",\n              \"logBase\"\
      : 1,\n              \"show\": true\n            },\n            {\n        \
      \      \"format\": \"short\",\n              \"label\": \"\",\n            \
      \  \"logBase\": 1,\n              \"show\": false\n            }\n         \
      \ ]\n        }\n      ],\n      \"showTitle\": false,\n      \"title\": \"Dashboard\
      \ Row\",\n      \"titleSize\": \"h6\"\n    }\n  ],\n  \"schemaVersion\": 14,\n\
      \  \"sharedCrosshair\": false,\n  \"style\": \"dark\",\n  \"tags\": [],\n  \"\
      templating\": {\n    \"list\": [\n      {\n        \"allValue\": \".*\",\n \
      \       \"current\": {},\n        \"datasource\": \"prometheus\",\n        \"\
      hide\": 0,\n        \"includeAll\": false,\n        \"label\": \"Namespace\"\
      ,\n        \"multi\": false,\n        \"name\": \"statefulset_namespace\",\n\
      \        \"options\": [],\n        \"query\": \"label_values(kube_statefulset_metadata_generation,\
      \ namespace)\",\n        \"refresh\": 1,\n        \"regex\": \"\",\n       \
      \ \"sort\": 0,\n        \"tagValuesQuery\": null,\n        \"tags\": [],\n \
      \       \"tagsQuery\": \"\",\n        \"type\": \"query\",\n        \"useTags\"\
      : false\n      },\n      {\n        \"allValue\": null,\n        \"current\"\
      : {},\n        \"datasource\": \"prometheus\",\n        \"hide\": 0,\n     \
      \   \"includeAll\": false,\n        \"label\": \"StatefulSet\",\n        \"\
      multi\": false,\n        \"name\": \"statefulset_name\",\n        \"options\"\
      : [],\n        \"query\": \"label_values(kube_statefulset_metadata_generation{namespace=\\\
      \"$statefulset_namespace\\\"}, statefulset)\",\n        \"refresh\": 1,\n  \
      \      \"regex\": \"\",\n        \"sort\": 0,\n        \"tagValuesQuery\": \"\
      \",\n        \"tags\": [],\n        \"tagsQuery\": \"statefulset\",\n      \
      \  \"type\": \"query\",\n        \"useTags\": false\n      }\n    ]\n  },\n\
      \  \"time\": {\n    \"from\": \"now-6h\",\n    \"to\": \"now\"\n  },\n  \"timepicker\"\
      : {\n    \"refresh_intervals\": [\n      \"5s\",\n      \"10s\",\n      \"30s\"\
      ,\n      \"1m\",\n      \"5m\",\n      \"15m\",\n      \"30m\",\n      \"1h\"\
      ,\n      \"2h\",\n      \"1d\"\n    ],\n    \"time_options\": [\n      \"5m\"\
      ,\n      \"15m\",\n      \"1h\",\n      \"6h\",\n      \"12h\",\n      \"24h\"\
      ,\n      \"2d\",\n      \"7d\",\n      \"30d\"\n    ]\n  },\n  \"timezone\"\
      : \"browser\",\n  \"title\": \"StatefulSet\",\n  \"version\": 1\n}\n"
  kind: ConfigMap
  metadata:
    labels:
    name: grafana-dashboard-definition-kubernetes-statefulset
    namespace: knative-monitoring
- apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRole
  metadata:
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: elasticsearch-logging
      kubernetes.io/cluster-service: 'true'
    name: elasticsearch-logging
  rules:
  - apiGroups:
    - ''
    resources:
    - services
    - namespaces
    - endpoints
    verbs:
    - get
- apiVersion: v1
  kind: ServiceAccount
  metadata:
    labels:
    name: node-exporter
    namespace: knative-monitoring
- apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRole
  metadata:
    labels:
    name: node-exporter
    namespace: knative-monitoring
  rules:
  - apiGroups:
    - authentication.k8s.io
    resources:
    - tokenreviews
    verbs:
    - create
  - apiGroups:
    - authorization.k8s.io
    resources:
    - subjectaccessreviews
    verbs:
    - create
- apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRoleBinding
  metadata:
    labels:
    name: node-exporter
    namespace: knative-monitoring
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: ClusterRole
    name: node-exporter
  subjects:
  - kind: ServiceAccount
    name: node-exporter
    namespace: knative-monitoring
- apiVersion: extensions/v1beta1
  kind: DaemonSet
  metadata:
    labels:
    name: node-exporter
    namespace: knative-monitoring
  spec:
    template:
      metadata:
        labels:
          app: node-exporter
        name: node-exporter
        namespace: knative-monitoring
      spec:
        containers:
        - args:
          - --web.listen-address=127.0.0.1:9101
          - --path.procfs=/host/proc
          - --path.sysfs=/host/sys
          image: quay.io/prometheus/node-exporter:v0.15.2
          name: node-exporter
          resources:
            limits:
              cpu: 200m
              memory: 50Mi
            requests:
              cpu: 100m
              memory: 30Mi
          volumeMounts:
          - mountPath: /host/proc
            name: proc
            readOnly: true
          - mountPath: /host/sys
            name: sys
            readOnly: true
        - args:
          - --secure-listen-address=:9100
          - --upstream=http://127.0.0.1:9101/
          image: quay.io/coreos/kube-rbac-proxy:v0.3.0
          name: kube-rbac-proxy
          ports:
          - containerPort: 9100
            hostPort: 9100
            name: https
          resources:
            limits:
              cpu: 20m
              memory: 40Mi
            requests:
              cpu: 10m
              memory: 20Mi
        hostNetwork: true
        hostPID: true
        securityContext:
          runAsNonRoot: true
          runAsUser: 65534
        serviceAccountName: node-exporter
        tolerations:
        - effect: NoSchedule
          operator: Exists
        volumes:
        - hostPath:
            path: /proc
          name: proc
        - hostPath:
            path: /sys
          name: sys
    updateStrategy:
      rollingUpdate:
        maxUnavailable: 1
      type: RollingUpdate
- apiVersion: v1
  kind: Service
  metadata:
    labels:
      app: node-exporter
    name: node-exporter
    namespace: knative-monitoring
  spec:
    clusterIP: None
    ports:
    - name: https
      port: 9100
      protocol: TCP
    selector:
      app: node-exporter
    type: ClusterIP
- apiVersion: v1
  data:
    knative-control-plane-efficiency-dashboard.json: "{\n  \"__inputs\": [\n    {\n\
      \      \"description\": \"\",\n      \"label\": \"prometheus\",\n      \"name\"\
      : \"prometheus\",\n      \"pluginId\": \"prometheus\",\n      \"pluginName\"\
      : \"Prometheus\",\n      \"type\": \"datasource\"\n    }\n  ],\n  \"annotations\"\
      : {\n    \"list\": []\n  },\n  \"description\": \"Knative Serving - Control\
      \ Plane Efficiency\",\n  \"editable\": false,\n  \"gnetId\": null,\n  \"graphTooltip\"\
      : 0,\n  \"id\": null,\n  \"links\": [],\n  \"panels\": [\n    {\n      \"aliasColors\"\
      : {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\":\
      \ false,\n      \"datasource\": \"prometheus\",\n      \"decimals\": 2,\n  \
      \    \"fill\": 1,\n      \"gridPos\": {\n        \"h\": 9,\n        \"w\": 12,\n\
      \        \"x\": 0,\n        \"y\": 0\n      },\n      \"id\": 2,\n      \"legend\"\
      : {\n        \"alignAsTable\": true,\n        \"avg\": true,\n        \"current\"\
      : true,\n        \"max\": false,\n        \"min\": false,\n        \"rightSide\"\
      : true,\n        \"show\": true,\n        \"total\": false,\n        \"values\"\
      : true\n      },\n      \"lines\": true,\n      \"linewidth\": 1,\n      \"\
      links\": [],\n      \"nullPointMode\": \"null\",\n      \"percentage\": false,\n\
      \      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"\
      flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"\
      stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n     \
      \   {\n          \"expr\": \"sum(rate(container_cpu_usage_seconds_total{namespace=\\\
      \"knative-serving\\\"}[1m]))\",\n          \"format\": \"time_series\",\n  \
      \        \"intervalFactor\": 1,\n          \"legendFormat\": \"knative-serving\"\
      ,\n          \"refId\": \"A\"\n        },\n        {\n          \"expr\": \"\
      sum(rate(container_cpu_usage_seconds_total{namespace=\\\"knative-build\\\"}[1m]))\"\
      ,\n          \"format\": \"time_series\",\n          \"instant\": false,\n \
      \         \"interval\": \"\",\n          \"intervalFactor\": 1,\n          \"\
      legendFormat\": \"knative-build\",\n          \"refId\": \"C\"\n        },\n\
      \        {\n          \"expr\": \"sum(rate(container_cpu_usage_seconds_total{namespace=\\\
      \"istio-system\\\"}[1m]))\",\n          \"format\": \"time_series\",\n     \
      \     \"instant\": false,\n          \"interval\": \"\",\n          \"intervalFactor\"\
      : 1,\n          \"legendFormat\": \"istio-system\",\n          \"refId\": \"\
      D\"\n        },\n        {\n          \"expr\": \"sum(rate(container_cpu_usage_seconds_total{namespace=\\\
      \"kube-system\\\"}[1m]))\",\n          \"format\": \"time_series\",\n      \
      \    \"instant\": false,\n          \"intervalFactor\": 1,\n          \"legendFormat\"\
      : \"kube-system\",\n          \"refId\": \"F\"\n        },\n        {\n    \
      \      \"expr\": \"sum(rate(container_cpu_usage_seconds_total{namespace=\\\"\
      kube-public\\\"}[1m]))\",\n          \"format\": \"time_series\",\n        \
      \  \"instant\": false,\n          \"intervalFactor\": 1,\n          \"legendFormat\"\
      : \"kube-public\",\n          \"refId\": \"E\"\n        },\n        {\n    \
      \      \"expr\": \"sum(rate(container_cpu_usage_seconds_total{namespace=\\\"\
      knative-monitoring\\\"}[1m]))\",\n          \"format\": \"time_series\",\n \
      \         \"instant\": false,\n          \"intervalFactor\": 1,\n          \"\
      legendFormat\": \"knative-monitoring\",\n          \"refId\": \"B\"\n      \
      \  }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n     \
      \ \"timeShift\": null,\n      \"title\": \"Namespace CPU Usage\",\n      \"\
      tooltip\": {\n        \"shared\": true,\n        \"sort\": 2,\n        \"value_type\"\
      : \"individual\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n\
      \        \"buckets\": null,\n        \"mode\": \"time\",\n        \"name\":\
      \ null,\n        \"show\": true,\n        \"values\": []\n      },\n      \"\
      yaxes\": [\n        {\n          \"format\": \"short\",\n          \"label\"\
      : null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\"\
      : null,\n          \"show\": true\n        },\n        {\n          \"format\"\
      : \"short\",\n          \"label\": null,\n          \"logBase\": 1,\n      \
      \    \"max\": null,\n          \"min\": null,\n          \"show\": true\n  \
      \      }\n      ]\n    },\n    {\n      \"aliasColors\": {},\n      \"bars\"\
      : false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\"\
      : \"prometheus\",\n      \"decimals\": null,\n      \"fill\": 1,\n      \"gridPos\"\
      : {\n        \"h\": 9,\n        \"w\": 12,\n        \"x\": 12,\n        \"y\"\
      : 0\n      },\n      \"id\": 3,\n      \"legend\": {\n        \"alignAsTable\"\
      : true,\n        \"avg\": true,\n        \"current\": true,\n        \"max\"\
      : false,\n        \"min\": false,\n        \"rightSide\": true,\n        \"\
      show\": true,\n        \"total\": false,\n        \"values\": true\n      },\n\
      \      \"lines\": true,\n      \"linewidth\": 1,\n      \"links\": [],\n   \
      \   \"nullPointMode\": \"null\",\n      \"percentage\": false,\n      \"pointradius\"\
      : 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\"\
      : [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\"\
      : false,\n      \"targets\": [\n        {\n          \"expr\": \"sum(container_memory_usage_bytes{namespace=\\\
      \"knative-serving\\\"})\",\n          \"format\": \"time_series\",\n       \
      \   \"intervalFactor\": 1,\n          \"legendFormat\": \"knative-serving\"\
      ,\n          \"refId\": \"A\"\n        },\n        {\n          \"expr\": \"\
      sum(container_memory_usage_bytes{namespace=\\\"knative-build\\\"})\",\n    \
      \      \"format\": \"time_series\",\n          \"instant\": false,\n       \
      \   \"interval\": \"\",\n          \"intervalFactor\": 1,\n          \"legendFormat\"\
      : \"knative-build\",\n          \"refId\": \"C\"\n        },\n        {\n  \
      \        \"expr\": \"sum(container_memory_usage_bytes{namespace=\\\"istio-system\\\
      \"})\",\n          \"format\": \"time_series\",\n          \"instant\": false,\n\
      \          \"interval\": \"\",\n          \"intervalFactor\": 1,\n         \
      \ \"legendFormat\": \"istio-system\",\n          \"refId\": \"D\"\n        },\n\
      \        {\n          \"expr\": \"sum(container_memory_usage_bytes{namespace=\\\
      \"kube-system\\\"})\",\n          \"format\": \"time_series\",\n          \"\
      instant\": false,\n          \"intervalFactor\": 1,\n          \"legendFormat\"\
      : \"kube-system\",\n          \"refId\": \"F\"\n        },\n        {\n    \
      \      \"expr\": \"sum(container_memory_usage_bytes{namespace=\\\"kube-public\\\
      \"})\",\n          \"format\": \"time_series\",\n          \"instant\": false,\n\
      \          \"intervalFactor\": 1,\n          \"legendFormat\": \"kube-public\"\
      ,\n          \"refId\": \"E\"\n        },\n        {\n          \"expr\": \"\
      sum(container_memory_usage_bytes{namespace=\\\"knative-monitoring\\\"})\",\n\
      \          \"format\": \"time_series\",\n          \"instant\": false,\n   \
      \       \"intervalFactor\": 1,\n          \"legendFormat\": \"knative-monitoring\"\
      ,\n          \"refId\": \"B\"\n        }\n      ],\n      \"thresholds\": [],\n\
      \      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"\
      Namespace Memory Usage\",\n      \"tooltip\": {\n        \"shared\": true,\n\
      \        \"sort\": 2,\n        \"value_type\": \"individual\"\n      },\n  \
      \    \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n\
      \        \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n\
      \        \"values\": []\n      },\n      \"yaxes\": [\n        {\n         \
      \ \"format\": \"decbytes\",\n          \"label\": null,\n          \"logBase\"\
      : 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\"\
      : true\n        },\n        {\n          \"format\": \"short\",\n          \"\
      label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n      \
      \    \"min\": null,\n          \"show\": false\n        }\n      ]\n    },\n\
      \    {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\"\
      : 10,\n      \"dashes\": false,\n      \"datasource\": \"prometheus\",\n   \
      \   \"decimals\": 2,\n      \"fill\": 1,\n      \"gridPos\": {\n        \"h\"\
      : 9,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 9\n      },\n  \
      \    \"id\": 4,\n      \"legend\": {\n        \"alignAsTable\": true,\n    \
      \    \"avg\": true,\n        \"current\": true,\n        \"max\": false,\n \
      \       \"min\": false,\n        \"rightSide\": true,\n        \"show\": true,\n\
      \        \"total\": false,\n        \"values\": true\n      },\n      \"lines\"\
      : true,\n      \"linewidth\": 1,\n      \"links\": [],\n      \"nullPointMode\"\
      : \"null\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n     \
      \ \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\"\
      : [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\"\
      : false,\n      \"targets\": [\n        {\n          \"expr\": \"sum(rate(container_cpu_usage_seconds_total{namespace!~\\\
      \"knative-serving|knative-monitoring|knative-build|istio-system|kube-system|kube-public|^$\\\
      \"}[1m]))\",\n          \"format\": \"time_series\",\n          \"interval\"\
      : \"\",\n          \"intervalFactor\": 1,\n          \"legendFormat\": \"Data\
      \ plane\",\n          \"refId\": \"A\"\n        },\n        {\n          \"\
      expr\": \"sum(rate(container_cpu_usage_seconds_total{namespace=~\\\"knative-serving|knative-monitoring|knative-build|istio-system|kube-system|kube-public\\\
      \"}[1m]))\",\n          \"format\": \"time_series\",\n          \"intervalFactor\"\
      : 1,\n          \"legendFormat\": \"Control plane\",\n          \"refId\": \"\
      B\"\n        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n\
      \      \"timeShift\": null,\n      \"title\": \"Control Plane vs Data Plane\
      \ CPU Usage\",\n      \"tooltip\": {\n        \"shared\": true,\n        \"\
      sort\": 2,\n        \"value_type\": \"individual\"\n      },\n      \"type\"\
      : \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\"\
      : \"time\",\n        \"name\": null,\n        \"show\": true,\n        \"values\"\
      : []\n      },\n      \"yaxes\": [\n        {\n          \"decimals\": null,\n\
      \          \"format\": \"short\",\n          \"label\": null,\n          \"\
      logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n        \
      \  \"show\": true\n        },\n        {\n          \"format\": \"short\",\n\
      \          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n\
      \          \"min\": null,\n          \"show\": false\n        }\n      ]\n \
      \   },\n    {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"\
      dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"prometheus\"\
      ,\n      \"fill\": 1,\n      \"gridPos\": {\n        \"h\": 9,\n        \"w\"\
      : 12,\n        \"x\": 12,\n        \"y\": 9\n      },\n      \"id\": 5,\n  \
      \    \"legend\": {\n        \"alignAsTable\": true,\n        \"avg\": true,\n\
      \        \"current\": true,\n        \"max\": false,\n        \"min\": false,\n\
      \        \"rightSide\": true,\n        \"show\": true,\n        \"total\": false,\n\
      \        \"values\": true\n      },\n      \"lines\": true,\n      \"linewidth\"\
      : 1,\n      \"links\": [],\n      \"nullPointMode\": \"null\",\n      \"percentage\"\
      : false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\"\
      : \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n  \
      \    \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n\
      \        {\n          \"expr\": \"sum(container_memory_usage_bytes{namespace!~\\\
      \"knative-serving|knative-monitoring|knative-build|istio-system|kube-system|kube-public|^$\\\
      \"})\",\n          \"format\": \"time_series\",\n          \"interval\": \"\"\
      ,\n          \"intervalFactor\": 1,\n          \"legendFormat\": \"Data plane\"\
      ,\n          \"refId\": \"A\"\n        },\n        {\n          \"expr\": \"\
      sum(container_memory_usage_bytes{namespace=~\\\"knative-serving|knative-monitoring|knative-build|istio-system|kube-system|kube-public\\\
      \"})\",\n          \"format\": \"time_series\",\n          \"intervalFactor\"\
      : 1,\n          \"legendFormat\": \"Control plane\",\n          \"refId\": \"\
      B\"\n        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n\
      \      \"timeShift\": null,\n      \"title\": \"Control Plane vs Data Plane\
      \ Memory Usage\",\n      \"tooltip\": {\n        \"shared\": true,\n       \
      \ \"sort\": 2,\n        \"value_type\": \"individual\"\n      },\n      \"type\"\
      : \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\"\
      : \"time\",\n        \"name\": null,\n        \"show\": true,\n        \"values\"\
      : []\n      },\n      \"yaxes\": [\n        {\n          \"format\": \"decbytes\"\
      ,\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\"\
      : null,\n          \"min\": null,\n          \"show\": true\n        },\n  \
      \      {\n          \"format\": \"short\",\n          \"label\": null,\n   \
      \       \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n\
      \          \"show\": true\n        }\n      ]\n    }\n  ],\n  \"refresh\": \"\
      5s\",\n  \"schemaVersion\": 16,\n  \"style\": \"dark\",\n  \"tags\": [],\n \
      \ \"templating\": {\n    \"list\": []\n  },\n  \"time\": {\n    \"from\": \"\
      now-15m\",\n    \"to\": \"now\"\n  },\n  \"timepicker\": {\n    \"refresh_intervals\"\
      : [\n      \"5s\",\n      \"10s\",\n      \"30s\",\n      \"1m\",\n      \"\
      5m\",\n      \"15m\",\n      \"30m\",\n      \"1h\",\n      \"2h\",\n      \"\
      1d\"\n    ],\n    \"time_options\": [\n      \"5m\",\n      \"15m\",\n     \
      \ \"1h\",\n      \"6h\",\n      \"12h\",\n      \"24h\",\n      \"2d\",\n  \
      \    \"7d\",\n      \"30d\"\n    ]\n  },\n  \"timezone\": \"\",\n  \"title\"\
      : \"Knative Serving - Control Plane Efficiency\",\n  \"uid\": \"1oI1URnik\"\
      ,\n  \"version\": 2\n}\n"
  kind: ConfigMap
  metadata:
    labels:
      serving.knative.dev/release: v0.8.0
    name: grafana-dashboard-definition-knative-efficiency
    namespace: knative-monitoring
- apiVersion: v1
  data:
    knative-reconciler-dashboard.json: "{\n  \"__inputs\": [\n    {\n      \"description\"\
      : \"\",\n      \"label\": \"prometheus\",\n      \"name\": \"prometheus\",\n\
      \      \"pluginId\": \"prometheus\",\n      \"pluginName\": \"Prometheus\",\n\
      \      \"type\": \"datasource\"\n    }\n  ],\n  \"annotations\": {\n    \"list\"\
      : []\n  },\n  \"description\": \"Knative Serving - Reconciler\",\n  \"editable\"\
      : false,\n  \"gnetId\": null,\n  \"graphTooltip\": 0,\n  \"id\": null,\n  \"\
      links\": [],\n  \"panels\": [\n    {\n      \"collapsed\": false,\n      \"\
      gridPos\": {\n        \"h\": 1,\n        \"w\": 24,\n        \"x\": 0,\n   \
      \     \"y\": 0\n      },\n      \"id\": 7,\n      \"panels\": [],\n      \"\
      title\": \"Aggregate\",\n      \"type\": \"row\"\n    },\n    {\n      \"aliasColors\"\
      : {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\":\
      \ false,\n      \"datasource\": \"prometheus\",\n      \"fill\": 1,\n      \"\
      gridPos\": {\n        \"h\": 9,\n        \"w\": 12,\n        \"x\": 0,\n   \
      \     \"y\": 1\n      },\n      \"id\": 10,\n      \"legend\": {\n        \"\
      alignAsTable\": false,\n        \"avg\": false,\n        \"current\": false,\n\
      \        \"hideEmpty\": true,\n        \"hideZero\": false,\n        \"max\"\
      : false,\n        \"min\": false,\n        \"rightSide\": false,\n        \"\
      show\": true,\n        \"total\": false,\n        \"values\": false\n      },\n\
      \      \"lines\": true,\n      \"linewidth\": 1,\n      \"links\": [],\n   \
      \   \"nullPointMode\": \"null\",\n      \"percentage\": false,\n      \"pointradius\"\
      : 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\"\
      : [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\"\
      : true,\n      \"targets\": [\n        {\n          \"expr\": \"sum by (reconciler)(60\
      \ * rate(controller_reconcile_count[1m]))\",\n          \"format\": \"time_series\"\
      ,\n          \"instant\": false,\n          \"interval\": \"\",\n          \"\
      intervalFactor\": 1,\n          \"legendFormat\": \"{{reconciler}}\",\n    \
      \      \"refId\": \"A\"\n        }\n      ],\n      \"thresholds\": [],\n  \
      \    \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Reconcile\
      \ Count (per min)\",\n      \"tooltip\": {\n        \"shared\": true,\n    \
      \    \"sort\": 0,\n        \"value_type\": \"individual\"\n      },\n      \"\
      type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n       \
      \ \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n  \
      \      \"values\": []\n      },\n      \"yaxes\": [\n        {\n          \"\
      format\": \"short\",\n          \"label\": null,\n          \"logBase\": 1,\n\
      \          \"max\": null,\n          \"min\": null,\n          \"show\": true\n\
      \        },\n        {\n          \"format\": \"short\",\n          \"label\"\
      : null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\"\
      : null,\n          \"show\": true\n        }\n      ]\n    },\n    {\n     \
      \ \"collapsed\": false,\n      \"gridPos\": {\n        \"h\": 1,\n        \"\
      w\": 24,\n        \"x\": 0,\n        \"y\": 10\n      },\n      \"id\": 5,\n\
      \      \"panels\": [],\n      \"title\": \"Per Reconciler\",\n      \"type\"\
      : \"row\"\n    },\n    {\n      \"aliasColors\": {},\n      \"bars\": false,\n\
      \      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\":\
      \ \"prometheus\",\n      \"fill\": 1,\n      \"gridPos\": {\n        \"h\":\
      \ 9,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 11\n      },\n \
      \     \"id\": 2,\n      \"legend\": {\n        \"alignAsTable\": false,\n  \
      \      \"avg\": false,\n        \"current\": false,\n        \"hideEmpty\":\
      \ true,\n        \"hideZero\": false,\n        \"max\": false,\n        \"min\"\
      : false,\n        \"rightSide\": false,\n        \"show\": false,\n        \"\
      total\": false,\n        \"values\": false\n      },\n      \"lines\": true,\n\
      \      \"linewidth\": 1,\n      \"links\": [],\n      \"nullPointMode\": \"\
      null\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\"\
      : false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n  \
      \    \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": true,\n\
      \      \"targets\": [\n        {\n          \"expr\": \"sum(60 * rate(controller_reconcile_count{reconciler=\\\
      \"$reconciler\\\"}[1m]))\",\n          \"format\": \"time_series\",\n      \
      \    \"instant\": false,\n          \"interval\": \"\",\n          \"intervalFactor\"\
      : 1,\n          \"legendFormat\": \"{{reconciler}}\",\n          \"refId\":\
      \ \"A\"\n        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\"\
      : null,\n      \"timeShift\": null,\n      \"title\": \"$reconciler Reconcile\
      \ Count (per min)\",\n      \"tooltip\": {\n        \"shared\": true,\n    \
      \    \"sort\": 0,\n        \"value_type\": \"individual\"\n      },\n      \"\
      type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n       \
      \ \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n  \
      \      \"values\": []\n      },\n      \"yaxes\": [\n        {\n          \"\
      format\": \"short\",\n          \"label\": null,\n          \"logBase\": 1,\n\
      \          \"max\": null,\n          \"min\": null,\n          \"show\": true\n\
      \        },\n        {\n          \"format\": \"short\",\n          \"label\"\
      : null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\"\
      : null,\n          \"show\": true\n        }\n      ]\n    },\n    {\n     \
      \ \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n\
      \      \"dashes\": false,\n      \"datasource\": \"prometheus\",\n      \"fill\"\
      : 1,\n      \"gridPos\": {\n        \"h\": 9,\n        \"w\": 12,\n        \"\
      x\": 12,\n        \"y\": 11\n      },\n      \"id\": 11,\n      \"legend\":\
      \ {\n        \"alignAsTable\": false,\n        \"avg\": false,\n        \"current\"\
      : false,\n        \"hideEmpty\": true,\n        \"hideZero\": false,\n     \
      \   \"max\": false,\n        \"min\": false,\n        \"rightSide\": false,\n\
      \        \"show\": true,\n        \"total\": false,\n        \"values\": false\n\
      \      },\n      \"lines\": true,\n      \"linewidth\": 1,\n      \"links\"\
      : [],\n      \"nullPointMode\": \"null\",\n      \"percentage\": false,\n  \
      \    \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\"\
      ,\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"stack\"\
      : false,\n      \"steppedLine\": true,\n      \"targets\": [\n        {\n  \
      \        \"expr\": \"histogram_quantile(0.99, sum(rate(controller_reconcile_latency_bucket{reconciler=\\\
      \"$reconciler\\\"}[1m])) by (le))\",\n          \"format\": \"time_series\"\
      ,\n          \"instant\": false,\n          \"interval\": \"\",\n          \"\
      intervalFactor\": 1,\n          \"legendFormat\": \"99th\",\n          \"refId\"\
      : \"A\"\n        },\n        {\n          \"expr\": \"histogram_quantile(0.90,\
      \ sum(rate(controller_reconcile_latency_bucket{reconciler=\\\"$reconciler\\\"\
      }[1m])) by (le))\",\n          \"format\": \"time_series\",\n          \"intervalFactor\"\
      : 1,\n          \"legendFormat\": \"90th\",\n          \"refId\": \"B\"\n  \
      \      },\n        {\n          \"expr\": \"histogram_quantile(0.50, sum(rate(controller_reconcile_latency_bucket{reconciler=\\\
      \"$reconciler\\\"}[1m])) by (le))\",\n          \"format\": \"time_series\"\
      ,\n          \"intervalFactor\": 1,\n          \"legendFormat\": \"50th\",\n\
      \          \"refId\": \"C\"\n        }\n      ],\n      \"thresholds\": [],\n\
      \      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"\
      $reconciler Reconcile Latency Percentiles\",\n      \"tooltip\": {\n       \
      \ \"shared\": true,\n        \"sort\": 0,\n        \"value_type\": \"individual\"\
      \n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\"\
      : null,\n        \"mode\": \"time\",\n        \"name\": null,\n        \"show\"\
      : true,\n        \"values\": []\n      },\n      \"yaxes\": [\n        {\n \
      \         \"format\": \"short\",\n          \"label\": null,\n          \"logBase\"\
      : 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\"\
      : true\n        },\n        {\n          \"format\": \"short\",\n          \"\
      label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n      \
      \    \"min\": null,\n          \"show\": true\n        }\n      ]\n    },\n\
      \    {\n      \"collapsed\": false,\n      \"gridPos\": {\n        \"h\": 1,\n\
      \        \"w\": 24,\n        \"x\": 0,\n        \"y\": 20\n      },\n      \"\
      id\": 9,\n      \"panels\": [],\n      \"title\": \"Per Reconciler & Key\",\n\
      \      \"type\": \"row\"\n    },\n    {\n      \"aliasColors\": {},\n      \"\
      bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"\
      datasource\": \"prometheus\",\n      \"fill\": 1,\n      \"gridPos\": {\n  \
      \      \"h\": 9,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 21\n\
      \      },\n      \"id\": 12,\n      \"legend\": {\n        \"alignAsTable\"\
      : false,\n        \"avg\": false,\n        \"current\": false,\n        \"hideEmpty\"\
      : true,\n        \"hideZero\": false,\n        \"max\": false,\n        \"min\"\
      : false,\n        \"rightSide\": false,\n        \"show\": false,\n        \"\
      total\": false,\n        \"values\": false\n      },\n      \"lines\": true,\n\
      \      \"linewidth\": 1,\n      \"links\": [],\n      \"nullPointMode\": \"\
      null\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\"\
      : false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n  \
      \    \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": true,\n\
      \      \"targets\": [\n        {\n          \"expr\": \"sum(60 * rate(controller_reconcile_count{reconciler=\\\
      \"$reconciler\\\", key=\\\"$key\\\"}[1m]))\",\n          \"format\": \"time_series\"\
      ,\n          \"instant\": false,\n          \"interval\": \"\",\n          \"\
      intervalFactor\": 1,\n          \"legendFormat\": \"{{reconciler}}\",\n    \
      \      \"refId\": \"A\"\n        }\n      ],\n      \"thresholds\": [],\n  \
      \    \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"$reconciler/$key\
      \ Reconcile Count (per min)\",\n      \"tooltip\": {\n        \"shared\": true,\n\
      \        \"sort\": 0,\n        \"value_type\": \"individual\"\n      },\n  \
      \    \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n\
      \        \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n\
      \        \"values\": []\n      },\n      \"yaxes\": [\n        {\n         \
      \ \"format\": \"short\",\n          \"label\": null,\n          \"logBase\"\
      : 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\"\
      : true\n        },\n        {\n          \"format\": \"short\",\n          \"\
      label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n      \
      \    \"min\": null,\n          \"show\": true\n        }\n      ]\n    },\n\
      \    {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\"\
      : 10,\n      \"dashes\": false,\n      \"datasource\": \"prometheus\",\n   \
      \   \"fill\": 1,\n      \"gridPos\": {\n        \"h\": 9,\n        \"w\": 12,\n\
      \        \"x\": 12,\n        \"y\": 21\n      },\n      \"id\": 13,\n      \"\
      legend\": {\n        \"alignAsTable\": false,\n        \"avg\": false,\n   \
      \     \"current\": false,\n        \"hideEmpty\": true,\n        \"hideZero\"\
      : false,\n        \"max\": false,\n        \"min\": false,\n        \"rightSide\"\
      : false,\n        \"show\": true,\n        \"total\": false,\n        \"values\"\
      : false\n      },\n      \"lines\": true,\n      \"linewidth\": 1,\n      \"\
      links\": [],\n      \"nullPointMode\": \"null\",\n      \"percentage\": false,\n\
      \      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"\
      flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"\
      stack\": false,\n      \"steppedLine\": true,\n      \"targets\": [\n      \
      \  {\n          \"expr\": \"histogram_quantile(0.99, sum(rate(controller_reconcile_latency_bucket{reconciler=\\\
      \"$reconciler\\\", key=\\\"$key\\\"}[1m])) by (le))\",\n          \"format\"\
      : \"time_series\",\n          \"instant\": false,\n          \"interval\": \"\
      \",\n          \"intervalFactor\": 1,\n          \"legendFormat\": \"99th\"\
      ,\n          \"refId\": \"A\"\n        },\n        {\n          \"expr\": \"\
      histogram_quantile(0.90, sum(rate(controller_reconcile_latency_bucket{reconciler=\\\
      \"$reconciler\\\", key=\\\"$key\\\"}[1m])) by (le))\",\n          \"format\"\
      : \"time_series\",\n          \"intervalFactor\": 1,\n          \"legendFormat\"\
      : \"90th\",\n          \"refId\": \"B\"\n        },\n        {\n          \"\
      expr\": \"histogram_quantile(0.50, sum(rate(controller_reconcile_latency_bucket{reconciler=\\\
      \"$reconciler\\\", key=\\\"$key\\\"}[1m])) by (le))\",\n          \"format\"\
      : \"time_series\",\n          \"intervalFactor\": 1,\n          \"legendFormat\"\
      : \"50th\",\n          \"refId\": \"C\"\n        }\n      ],\n      \"thresholds\"\
      : [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\"\
      : \"$reconciler/$key Reconcile Latency Percentiles\",\n      \"tooltip\": {\n\
      \        \"shared\": true,\n        \"sort\": 0,\n        \"value_type\": \"\
      individual\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n   \
      \     \"buckets\": null,\n        \"mode\": \"time\",\n        \"name\": null,\n\
      \        \"show\": true,\n        \"values\": []\n      },\n      \"yaxes\"\
      : [\n        {\n          \"format\": \"short\",\n          \"label\": null,\n\
      \          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n\
      \          \"show\": true\n        },\n        {\n          \"format\": \"short\"\
      ,\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\"\
      : null,\n          \"min\": null,\n          \"show\": true\n        }\n   \
      \   ]\n    }\n  ],\n  \"refresh\": \"5s\",\n  \"schemaVersion\": 16,\n  \"style\"\
      : \"dark\",\n  \"tags\": [],\n  \"templating\": {\n    \"list\": [\n      {\n\
      \        \"allValue\": null,\n        \"current\": {},\n        \"datasource\"\
      : \"prometheus\",\n        \"hide\": 0,\n        \"includeAll\": false,\n  \
      \      \"label\": \"Reconciler\",\n        \"multi\": false,\n        \"name\"\
      : \"reconciler\",\n        \"options\": [],\n        \"query\": \"label_values(controller_reconcile_count,\
      \ reconciler)\",\n        \"refresh\": 1,\n        \"regex\": \"\",\n      \
      \  \"sort\": 0,\n        \"tagValuesQuery\": \"\",\n        \"tags\": [],\n\
      \        \"tagsQuery\": \"\",\n        \"type\": \"query\",\n        \"useTags\"\
      : false\n      },\n      {\n        \"allValue\": null,\n        \"current\"\
      : {},\n        \"datasource\": \"prometheus\",\n        \"hide\": 0,\n     \
      \   \"includeAll\": false,\n        \"label\": \"Key\",\n        \"multi\":\
      \ false,\n        \"name\": \"key\",\n        \"options\": [],\n        \"query\"\
      : \"label_values(controller_reconcile_count{reconciler=\\\"$reconciler\\\"},\
      \ key)\",\n        \"refresh\": 1,\n        \"regex\": \"\",\n        \"sort\"\
      : 1,\n        \"tagValuesQuery\": \"\",\n        \"tags\": [],\n        \"tagsQuery\"\
      : \"\",\n        \"type\": \"query\",\n        \"useTags\": false\n      }\n\
      \    ]\n  },\n  \"time\": {\n    \"from\": \"now-15m\",\n    \"to\": \"now\"\
      \n  },\n  \"timepicker\": {\n    \"refresh_intervals\": [\n      \"5s\",\n \
      \     \"10s\",\n      \"30s\",\n      \"1m\",\n      \"5m\",\n      \"15m\"\
      ,\n      \"30m\",\n      \"1h\",\n      \"2h\",\n      \"1d\"\n    ],\n    \"\
      time_options\": [\n      \"5m\",\n      \"15m\",\n      \"1h\",\n      \"6h\"\
      ,\n      \"12h\",\n      \"24h\",\n      \"2d\",\n      \"7d\",\n      \"30d\"\
      \n    ]\n  },\n  \"timezone\": \"\",\n  \"title\": \"Knative Serving - Reconciler\"\
      ,\n  \"uid\": \"j0oFdEYiz\",\n  \"version\": 10\n}\n"
  kind: ConfigMap
  metadata:
    labels:
      serving.knative.dev/release: v0.8.0
    name: grafana-dashboard-definition-knative-reconciler
    namespace: knative-monitoring
- apiVersion: v1
  data:
    scaling-dashboard.json: "{\n   \"__inputs\": [\n      {\n         \"name\": \"\
      prometheus\",\n         \"label\": \"prometheus\",\n         \"description\"\
      : \"\",\n         \"type\": \"datasource\",\n         \"pluginId\": \"prometheus\"\
      ,\n         \"pluginName\": \"Prometheus\"\n      }\n   ],\n   \"__requires\"\
      : [\n      {\n         \"type\": \"grafana\",\n         \"id\": \"grafana\"\
      ,\n         \"name\": \"Grafana\",\n         \"version\": \"5.0.3\"\n      },\n\
      \      {\n         \"type\": \"panel\",\n         \"id\": \"graph\",\n     \
      \    \"name\": \"Graph\",\n         \"version\": \"5.0.0\"\n      },\n     \
      \ {\n         \"type\": \"datasource\",\n         \"id\": \"prometheus\",\n\
      \         \"name\": \"Prometheus\",\n         \"version\": \"5.0.0\"\n     \
      \ }\n   ],\n   \"annotations\": {\n      \"list\": [\n         {\n         \"\
      builtIn\": 1,\n         \"datasource\": \"-- Grafana --\",\n         \"enable\"\
      : true,\n         \"hide\": true,\n         \"iconColor\": \"rgba(0, 211, 255,\
      \ 1)\",\n         \"name\": \"Annotations & Alerts\",\n         \"type\": \"\
      dashboard\"\n         }\n      ]\n   },\n   \"description\": \"Knative Serving\
      \ - Scaling Debugging\",\n   \"editable\": true,\n   \"gnetId\": null,\n   \"\
      graphTooltip\": 0,\n   \"id\": null,\n   \"iteration\": 1564079739384,\n   \"\
      links\": [],\n   \"panels\": [\n      {\n         \"collapsed\": true,\n   \
      \      \"gridPos\": {\n         \"h\": 1,\n         \"w\": 24,\n         \"\
      x\": 0,\n         \"y\": 0\n         },\n         \"id\": 14,\n         \"panels\"\
      : [\n         {\n            \"aliasColors\": {},\n            \"bars\": false,\n\
      \            \"dashLength\": 10,\n            \"dashes\": false,\n         \
      \   \"datasource\": \"prometheus\",\n            \"fill\": 1,\n            \"\
      gridPos\": {\n               \"h\": 11,\n               \"w\": 24,\n       \
      \        \"x\": 0,\n               \"y\": 1\n            },\n            \"\
      id\": 2,\n            \"legend\": {\n               \"avg\": false,\n      \
      \         \"current\": false,\n               \"max\": false,\n            \
      \   \"min\": false,\n               \"show\": true,\n               \"total\"\
      : false,\n               \"values\": false\n            },\n            \"lines\"\
      : true,\n            \"linewidth\": 1,\n            \"links\": [],\n       \
      \     \"nullPointMode\": \"null\",\n            \"percentage\": false,\n   \
      \         \"pointradius\": 5,\n            \"points\": false,\n            \"\
      renderer\": \"flot\",\n            \"seriesOverrides\": [],\n            \"\
      spaceLength\": 10,\n            \"stack\": false,\n            \"steppedLine\"\
      : true,\n            \"targets\": [\n               {\n               \"expr\"\
      : \"sum(autoscaler_actual_pods{namespace_name=\\\"$namespace\\\", configuration_name=\\\
      \"$configuration\\\", revision_name=\\\"$revision\\\"})\",\n               \"\
      format\": \"time_series\",\n               \"interval\": \"1s\",\n         \
      \      \"intervalFactor\": 1,\n               \"legendFormat\": \"Actual Pods\"\
      ,\n               \"refId\": \"A\"\n               },\n               {\n  \
      \             \"expr\": \"sum(autoscaler_requested_pods{namespace_name=\\\"\
      $namespace\\\", configuration_name=\\\"$configuration\\\", revision_name=\\\"\
      $revision\\\"})\",\n               \"format\": \"time_series\",\n          \
      \     \"interval\": \"1s\",\n               \"intervalFactor\": 1,\n       \
      \        \"legendFormat\": \"Requested Pods\",\n               \"refId\": \"\
      C\"\n               }\n            ],\n            \"thresholds\": [],\n   \
      \         \"timeFrom\": null,\n            \"timeShift\": null,\n          \
      \  \"title\": \"Revision Pod Counts\",\n            \"tooltip\": {\n       \
      \        \"shared\": true,\n               \"sort\": 0,\n               \"value_type\"\
      : \"individual\"\n            },\n            \"type\": \"graph\",\n       \
      \     \"xaxis\": {\n               \"buckets\": null,\n               \"mode\"\
      : \"time\",\n               \"name\": null,\n               \"show\": true,\n\
      \               \"values\": []\n            },\n            \"yaxes\": [\n \
      \              {\n               \"format\": \"short\",\n               \"label\"\
      : null,\n               \"logBase\": 1,\n               \"max\": null,\n   \
      \            \"min\": null,\n               \"show\": true\n               },\n\
      \               {\n               \"decimals\": null,\n               \"format\"\
      : \"short\",\n               \"label\": \"Concurrency\",\n               \"\
      logBase\": 1,\n               \"max\": \"1\",\n               \"min\": null,\n\
      \               \"show\": false\n               }\n            ]\n         }\n\
      \         ],\n         \"title\": \"Revision Pod Counts\",\n         \"type\"\
      : \"row\"\n      },\n      {\n         \"collapsed\": true,\n         \"gridPos\"\
      : {\n         \"h\": 1,\n         \"w\": 24,\n         \"x\": 0,\n         \"\
      y\": 1\n         },\n         \"id\": 18,\n         \"panels\": [\n        \
      \ {\n            \"aliasColors\": {},\n            \"bars\": false,\n      \
      \      \"dashLength\": 10,\n            \"dashes\": false,\n            \"datasource\"\
      : \"prometheus\",\n            \"fill\": 1,\n            \"gridPos\": {\n  \
      \             \"h\": 9,\n               \"w\": 12,\n               \"x\": 0,\n\
      \               \"y\": 13\n            },\n            \"id\": 4,\n        \
      \    \"legend\": {\n               \"avg\": false,\n               \"current\"\
      : false,\n               \"max\": false,\n               \"min\": false,\n \
      \              \"show\": true,\n               \"total\": false,\n         \
      \      \"values\": false\n            },\n            \"lines\": true,\n   \
      \         \"linewidth\": 1,\n            \"links\": [],\n            \"nullPointMode\"\
      : \"null\",\n            \"percentage\": false,\n            \"pointradius\"\
      : 5,\n            \"points\": false,\n            \"renderer\": \"flot\",\n\
      \            \"seriesOverrides\": [],\n            \"spaceLength\": 10,\n  \
      \          \"stack\": false,\n            \"steppedLine\": false,\n        \
      \    \"targets\": [\n               {\n               \"expr\": \"sum(kube_pod_container_resource_requests_cpu_cores{namespace=\\\
      \"$namespace\\\", pod=~\\\"$revision-deployment-.*\\\"})\",\n              \
      \ \"format\": \"time_series\",\n               \"interval\": \"\",\n       \
      \        \"intervalFactor\": 1,\n               \"legendFormat\": \"Cores requested\"\
      ,\n               \"refId\": \"A\"\n               },\n               {\n  \
      \             \"expr\": \"sum(rate(container_cpu_usage_seconds_total{namespace=\\\
      \"$namespace\\\", pod_name=~\\\"$revision-deployment-.*\\\"}[1m]))\",\n    \
      \           \"format\": \"time_series\",\n               \"intervalFactor\"\
      : 1,\n               \"legendFormat\": \"Cores used\",\n               \"refId\"\
      : \"B\"\n               },\n               {\n               \"expr\": \"sum(kube_pod_container_resource_limits_cpu_cores{namespace=\\\
      \"$namespace\\\", pod=~\\\"$revision-deployment-.*\\\"})\",\n              \
      \ \"format\": \"time_series\",\n               \"intervalFactor\": 1,\n    \
      \           \"legendFormat\": \"Core limit\",\n               \"refId\": \"\
      C\"\n               }\n            ],\n            \"thresholds\": [],\n   \
      \         \"timeFrom\": null,\n            \"timeShift\": null,\n          \
      \  \"title\": \"Revision CPU Usage\",\n            \"tooltip\": {\n        \
      \       \"shared\": true,\n               \"sort\": 2,\n               \"value_type\"\
      : \"individual\"\n            },\n            \"type\": \"graph\",\n       \
      \     \"xaxis\": {\n               \"buckets\": null,\n               \"mode\"\
      : \"time\",\n               \"name\": null,\n               \"show\": true,\n\
      \               \"values\": []\n            },\n            \"yaxes\": [\n \
      \              {\n               \"decimals\": null,\n               \"format\"\
      : \"short\",\n               \"label\": null,\n               \"logBase\": 1,\n\
      \               \"max\": null,\n               \"min\": null,\n            \
      \   \"show\": true\n               },\n               {\n               \"format\"\
      : \"short\",\n               \"label\": null,\n               \"logBase\": 1,\n\
      \               \"max\": null,\n               \"min\": null,\n            \
      \   \"show\": false\n               }\n            ]\n         },\n        \
      \ {\n            \"aliasColors\": {},\n            \"bars\": false,\n      \
      \      \"dashLength\": 10,\n            \"dashes\": false,\n            \"datasource\"\
      : \"prometheus\",\n            \"fill\": 1,\n            \"gridPos\": {\n  \
      \             \"h\": 9,\n               \"w\": 12,\n               \"x\": 12,\n\
      \               \"y\": 13\n            },\n            \"id\": 6,\n        \
      \    \"legend\": {\n               \"avg\": false,\n               \"current\"\
      : false,\n               \"max\": false,\n               \"min\": false,\n \
      \              \"show\": true,\n               \"total\": false,\n         \
      \      \"values\": false\n            },\n            \"lines\": true,\n   \
      \         \"linewidth\": 1,\n            \"links\": [],\n            \"nullPointMode\"\
      : \"null\",\n            \"percentage\": false,\n            \"pointradius\"\
      : 5,\n            \"points\": false,\n            \"renderer\": \"flot\",\n\
      \            \"seriesOverrides\": [],\n            \"spaceLength\": 10,\n  \
      \          \"stack\": false,\n            \"steppedLine\": false,\n        \
      \    \"targets\": [\n               {\n               \"expr\": \"sum(kube_pod_container_resource_requests_memory_bytes{namespace=\\\
      \"$namespace\\\", pod=~\\\"$revision-deployment-.*\\\"})\",\n              \
      \ \"format\": \"time_series\",\n               \"interval\": \"\",\n       \
      \        \"intervalFactor\": 1,\n               \"legendFormat\": \"Memory requested\"\
      ,\n               \"refId\": \"A\"\n               },\n               {\n  \
      \             \"expr\": \"sum(container_memory_usage_bytes{namespace=\\\"$namespace\\\
      \", pod_name=~\\\"$revision-deployment-.*\\\"})\",\n               \"format\"\
      : \"time_series\",\n               \"hide\": false,\n               \"intervalFactor\"\
      : 1,\n               \"legendFormat\": \"Memory used\",\n               \"refId\"\
      : \"B\"\n               },\n               {\n               \"expr\": \"sum(kube_pod_container_resource_limits_memory_bytes{namespace=\\\
      \"$namespace\\\", pod=~\\\"$revision-deployment-.*\\\"})\",\n              \
      \ \"format\": \"time_series\",\n               \"intervalFactor\": 1,\n    \
      \           \"refId\": \"C\"\n               }\n            ],\n           \
      \ \"thresholds\": [],\n            \"timeFrom\": null,\n            \"timeShift\"\
      : null,\n            \"title\": \"Pod Memory Usage\",\n            \"tooltip\"\
      : {\n               \"shared\": true,\n               \"sort\": 2,\n       \
      \        \"value_type\": \"individual\"\n            },\n            \"type\"\
      : \"graph\",\n            \"xaxis\": {\n               \"buckets\": null,\n\
      \               \"mode\": \"time\",\n               \"name\": null,\n      \
      \         \"show\": true,\n               \"values\": []\n            },\n \
      \           \"yaxes\": [\n               {\n               \"format\": \"decbytes\"\
      ,\n               \"label\": null,\n               \"logBase\": 1,\n       \
      \        \"max\": null,\n               \"min\": null,\n               \"show\"\
      : true\n               },\n               {\n               \"format\": \"short\"\
      ,\n               \"label\": null,\n               \"logBase\": 1,\n       \
      \        \"max\": null,\n               \"min\": null,\n               \"show\"\
      : false\n               }\n            ]\n         }\n         ],\n        \
      \ \"title\": \"Resource Usages\",\n         \"type\": \"row\"\n      },\n  \
      \    {\n         \"collapsed\": false,\n         \"gridPos\": {\n         \"\
      h\": 1,\n         \"w\": 24,\n         \"x\": 0,\n         \"y\": 2\n      \
      \   },\n         \"id\": 16,\n         \"panels\": [],\n         \"title\":\
      \ \"Autoscaler Metrics\",\n         \"type\": \"row\"\n      },\n      {\n \
      \        \"aliasColors\": {},\n         \"bars\": false,\n         \"dashLength\"\
      : 10,\n         \"dashes\": false,\n         \"datasource\": \"prometheus\"\
      ,\n         \"fill\": 1,\n         \"gridPos\": {\n         \"h\": 10,\n   \
      \      \"w\": 24,\n         \"x\": 0,\n         \"y\": 3\n         },\n    \
      \     \"id\": 10,\n         \"legend\": {\n         \"avg\": false,\n      \
      \   \"current\": false,\n         \"max\": false,\n         \"min\": false,\n\
      \         \"show\": true,\n         \"total\": false,\n         \"values\":\
      \ false\n         },\n         \"lines\": true,\n         \"linewidth\": 1,\n\
      \         \"links\": [],\n         \"nullPointMode\": \"null\",\n         \"\
      percentage\": false,\n         \"pointradius\": 5,\n         \"points\": false,\n\
      \         \"renderer\": \"flot\",\n         \"seriesOverrides\": [],\n     \
      \    \"spaceLength\": 10,\n         \"stack\": false,\n         \"steppedLine\"\
      : true,\n         \"targets\": [\n         {\n            \"expr\": \"sum(autoscaler_desired_pods{namespace_name=\\\
      \"$namespace\\\", configuration_name=\\\"$configuration\\\", revision_name=\\\
      \"$revision\\\"}) \",\n            \"format\": \"time_series\",\n          \
      \  \"intervalFactor\": 1,\n            \"legendFormat\": \"Desired Pods\",\n\
      \            \"refId\": \"A\"\n         },\n         {\n            \"expr\"\
      : \"sum(autoscaler_observed_pods{namespace_name=\\\"$namespace\\\", configuration_name=\\\
      \"$configuration\\\", revision_name=\\\"$revision\\\"})\",\n            \"format\"\
      : \"time_series\",\n            \"intervalFactor\": 1,\n            \"legendFormat\"\
      : \"Observed Pods\",\n            \"refId\": \"B\"\n         }\n         ],\n\
      \         \"thresholds\": [],\n         \"timeFrom\": null,\n         \"timeShift\"\
      : null,\n         \"title\": \"Pod Counts\",\n         \"tooltip\": {\n    \
      \     \"shared\": true,\n         \"sort\": 0,\n         \"value_type\": \"\
      individual\"\n         },\n         \"type\": \"graph\",\n         \"xaxis\"\
      : {\n         \"buckets\": null,\n         \"mode\": \"time\",\n         \"\
      name\": null,\n         \"show\": true,\n         \"values\": []\n         },\n\
      \         \"yaxes\": [\n         {\n            \"format\": \"short\",\n   \
      \         \"label\": null,\n            \"logBase\": 1,\n            \"max\"\
      : null,\n            \"min\": null,\n            \"show\": true\n         },\n\
      \         {\n            \"format\": \"short\",\n            \"label\": null,\n\
      \            \"logBase\": 1,\n            \"max\": null,\n            \"min\"\
      : null,\n            \"show\": true\n         }\n         ]\n      },\n    \
      \  {\n         \"aliasColors\": {},\n         \"bars\": false,\n         \"\
      dashLength\": 10,\n         \"dashes\": false,\n         \"datasource\": \"\
      prometheus\",\n         \"fill\": 1,\n         \"gridPos\": {\n         \"h\"\
      : 9,\n         \"w\": 24,\n         \"x\": 0,\n         \"y\": 13\n        \
      \ },\n         \"id\": 8,\n         \"legend\": {\n         \"avg\": false,\n\
      \         \"current\": false,\n         \"max\": false,\n         \"min\": false,\n\
      \         \"show\": true,\n         \"total\": false,\n         \"values\":\
      \ false\n         },\n         \"lines\": true,\n         \"linewidth\": 1,\n\
      \         \"links\": [],\n         \"nullPointMode\": \"null\",\n         \"\
      percentage\": false,\n         \"pointradius\": 5,\n         \"points\": false,\n\
      \         \"renderer\": \"flot\",\n         \"seriesOverrides\": [\n       \
      \  {\n            \"alias\": \"Panic Mode\",\n            \"color\": \"#ea6460\"\
      ,\n            \"dashes\": true,\n            \"fill\": 2,\n            \"linewidth\"\
      : 2,\n            \"steppedLine\": true,\n            \"yaxis\": 2\n       \
      \  },\n         {\n            \"alias\": \"Target Concurrency Per Pod\",\n\
      \            \"color\": \"#0a50a1\",\n            \"dashes\": true,\n      \
      \      \"steppedLine\": false\n         }\n         ],\n         \"spaceLength\"\
      : 10,\n         \"stack\": false,\n         \"steppedLine\": true,\n       \
      \  \"targets\": [\n         {\n            \"expr\": \"sum(autoscaler_stable_request_concurrency{namespace_name=\\\
      \"$namespace\\\", configuration_name=\\\"$configuration\\\", revision_name=\\\
      \"$revision\\\"})\",\n            \"format\": \"time_series\",\n           \
      \ \"interval\": \"1s\",\n            \"intervalFactor\": 1,\n            \"\
      legendFormat\": \"Average Concurrency\",\n            \"refId\": \"A\"\n   \
      \      },\n         {\n            \"expr\": \"sum(autoscaler_panic_request_concurrency{namespace_name=\\\
      \"$namespace\\\", configuration_name=\\\"$configuration\\\", revision_name=\\\
      \"$revision\\\"})\",\n            \"format\": \"time_series\",\n           \
      \ \"interval\": \"1s\",\n            \"intervalFactor\": 1,\n            \"\
      legendFormat\": \"Average Panic Concurrency\",\n            \"refId\": \"B\"\
      \n         },\n         {\n            \"expr\": \"sum(autoscaler_target_concurrency_per_pod{namespace_name=\\\
      \"$namespace\\\", configuration_name=\\\"$configuration\\\", revision_name=\\\
      \"$revision\\\"})\",\n            \"format\": \"time_series\",\n           \
      \ \"intervalFactor\": 1,\n            \"legendFormat\": \"Target Concurrency\"\
      ,\n            \"refId\": \"C\"\n         },\n         {\n            \"expr\"\
      : \"sum(autoscaler_excess_burst_capacity{namespace_name=\\\"$namespace\\\",\
      \ configuration_name=\\\"$configuration\\\", revision_name=\\\"$revision\\\"\
      })\",\n            \"format\": \"time_series\",\n            \"intervalFactor\"\
      : 1,\n            \"legendFormat\": \"Excess Burst Capacity\",\n           \
      \ \"refId\": \"D\"\n         }\n         ],\n         \"thresholds\": [],\n\
      \         \"timeFrom\": null,\n         \"timeShift\": null,\n         \"title\"\
      : \"Observed Concurrency\",\n         \"tooltip\": {\n         \"shared\": true,\n\
      \         \"sort\": 0,\n         \"value_type\": \"individual\"\n         },\n\
      \         \"type\": \"graph\",\n         \"xaxis\": {\n         \"buckets\"\
      : null,\n         \"mode\": \"time\",\n         \"name\": null,\n         \"\
      show\": true,\n         \"values\": []\n         },\n         \"yaxes\": [\n\
      \         {\n            \"format\": \"short\",\n            \"label\": \"\"\
      ,\n            \"logBase\": 1,\n            \"max\": null,\n            \"min\"\
      : null,\n            \"show\": true\n         },\n         {\n            \"\
      format\": \"short\",\n            \"label\": \"\",\n            \"logBase\"\
      : 1,\n            \"max\": null,\n            \"min\": null,\n            \"\
      show\": false\n         }\n         ]\n      },\n      {\n         \"aliasColors\"\
      : {},\n         \"bars\": false,\n         \"dashLength\": 10,\n         \"\
      dashes\": false,\n         \"datasource\": \"prometheus\",\n         \"decimals\"\
      : null,\n         \"fill\": 1,\n         \"gridPos\": {\n         \"h\": 9,\n\
      \         \"w\": 24,\n         \"x\": 0,\n         \"y\": 22\n         },\n\
      \         \"id\": 12,\n         \"legend\": {\n         \"avg\": false,\n  \
      \       \"current\": false,\n         \"hideZero\": false,\n         \"max\"\
      : false,\n         \"min\": false,\n         \"show\": false,\n         \"total\"\
      : false,\n         \"values\": false\n         },\n         \"lines\": true,\n\
      \         \"linewidth\": 1,\n         \"links\": [],\n         \"nullPointMode\"\
      : \"null\",\n         \"percentage\": false,\n         \"pointradius\": 5,\n\
      \         \"points\": false,\n         \"renderer\": \"flot\",\n         \"\
      seriesOverrides\": [\n         {\n            \"alias\": \"Panic Mode\",\n \
      \           \"color\": \"#e24d42\",\n            \"linewidth\": 2,\n       \
      \     \"yaxis\": 2\n         }\n         ],\n         \"spaceLength\": 10,\n\
      \         \"stack\": false,\n         \"steppedLine\": true,\n         \"targets\"\
      : [\n         {\n            \"expr\": \"sum(autoscaler_panic_mode{namespace_name=\\\
      \"$namespace\\\", configuration_name=\\\"$configuration\\\", revision_name=\\\
      \"$revision\\\"} )\",\n            \"format\": \"time_series\",\n          \
      \  \"intervalFactor\": 1,\n            \"legendFormat\": \"Panic Mode\",\n \
      \           \"refId\": \"A\"\n         }\n         ],\n         \"thresholds\"\
      : [],\n         \"timeFrom\": null,\n         \"timeShift\": null,\n       \
      \  \"title\": \"Panic Mode\",\n         \"tooltip\": {\n         \"shared\"\
      : true,\n         \"sort\": 0,\n         \"value_type\": \"individual\"\n  \
      \       },\n         \"type\": \"graph\",\n         \"xaxis\": {\n         \"\
      buckets\": null,\n         \"mode\": \"time\",\n         \"name\": null,\n \
      \        \"show\": true,\n         \"values\": []\n         },\n         \"\
      yaxes\": [\n         {\n            \"format\": \"short\",\n            \"label\"\
      : null,\n            \"logBase\": 1,\n            \"max\": \"1.0\",\n      \
      \      \"min\": \"0\",\n            \"show\": true\n         },\n         {\n\
      \            \"format\": \"short\",\n            \"label\": null,\n        \
      \    \"logBase\": 1,\n            \"max\": null,\n            \"min\": null,\n\
      \            \"show\": false\n         }\n         ]\n      },\n      {\n  \
      \       \"collapsed\": false,\n         \"gridPos\": {\n         \"h\": 1,\n\
      \         \"w\": 24,\n         \"x\": 0,\n         \"y\": 31\n         },\n\
      \         \"id\": 20,\n         \"panels\": [],\n         \"title\": \"Activator\
      \ Metrics\",\n         \"type\": \"row\"\n      },\n      {\n         \"aliasColors\"\
      : {},\n         \"bars\": false,\n         \"dashLength\": 10,\n         \"\
      dashes\": false,\n         \"datasource\": \"prometheus\",\n         \"fill\"\
      : 1,\n         \"gridPos\": {\n         \"h\": 10,\n         \"w\": 24,\n  \
      \       \"x\": 0,\n         \"y\": 32\n         },\n         \"id\": 24,\n \
      \        \"legend\": {\n         \"avg\": false,\n         \"current\": false,\n\
      \         \"max\": false,\n         \"min\": false,\n         \"show\": true,\n\
      \         \"total\": false,\n         \"values\": false\n         },\n     \
      \    \"lines\": true,\n         \"linewidth\": 1,\n         \"links\": [],\n\
      \         \"nullPointMode\": \"null\",\n         \"percentage\": false,\n  \
      \       \"pointradius\": 5,\n         \"points\": false,\n         \"renderer\"\
      : \"flot\",\n         \"seriesOverrides\": [],\n         \"spaceLength\": 10,\n\
      \         \"stack\": false,\n         \"steppedLine\": false,\n         \"targets\"\
      : [\n         {\n            \"expr\": \"round(sum(increase(activator_request_count{namespace_name=\\\
      \"$namespace\\\", configuration_name=~\\\"$configuration\\\",revision_name=~\\\
      \"$revision\\\"}[1m])) by (response_code))\",\n            \"format\": \"time_series\"\
      ,\n            \"intervalFactor\": 1,\n            \"legendFormat\": \"{{ response_code\
      \ }}\",\n            \"refId\": \"A\"\n         }\n         ],\n         \"\
      thresholds\": [],\n         \"timeFrom\": null,\n         \"timeShift\": null,\n\
      \         \"title\": \"Request Count in last minute by Response Code\",\n  \
      \       \"tooltip\": {\n         \"shared\": true,\n         \"sort\": 0,\n\
      \         \"value_type\": \"individual\"\n         },\n         \"type\": \"\
      graph\",\n         \"xaxis\": {\n         \"buckets\": null,\n         \"mode\"\
      : \"time\",\n         \"name\": null,\n         \"show\": true,\n         \"\
      values\": []\n         },\n         \"yaxes\": [\n         {\n            \"\
      format\": \"none\",\n            \"label\": null,\n            \"logBase\":\
      \ 1,\n            \"max\": null,\n            \"min\": \"0\",\n            \"\
      show\": true\n         },\n         {\n            \"format\": \"short\",\n\
      \            \"label\": null,\n            \"logBase\": 1,\n            \"max\"\
      : null,\n            \"min\": null,\n            \"show\": true\n         }\n\
      \         ]\n      },\n      {\n         \"aliasColors\": {},\n         \"bars\"\
      : false,\n         \"dashLength\": 10,\n         \"dashes\": false,\n      \
      \   \"datasource\": \"prometheus\",\n         \"fill\": 1,\n         \"gridPos\"\
      : {\n         \"h\": 10,\n         \"w\": 24,\n         \"x\": 0,\n        \
      \ \"y\": 42\n         },\n         \"id\": 28,\n         \"legend\": {\n   \
      \      \"avg\": true,\n         \"current\": false,\n         \"max\": false,\n\
      \         \"min\": false,\n         \"show\": true,\n         \"total\": false,\n\
      \         \"values\": true\n         },\n         \"lines\": true,\n       \
      \  \"linewidth\": 1,\n         \"links\": [],\n         \"nullPointMode\": \"\
      null\",\n         \"percentage\": false,\n         \"pointradius\": 5,\n   \
      \      \"points\": false,\n         \"renderer\": \"flot\",\n         \"seriesOverrides\"\
      : [],\n         \"spaceLength\": 10,\n         \"stack\": false,\n         \"\
      steppedLine\": false,\n         \"targets\": [\n         {\n            \"expr\"\
      : \"label_replace(histogram_quantile(0.50, sum(rate(activator_request_latencies_bucket{namespace_name=\\\
      \"$namespace\\\", configuration_name=~\\\"$configuration\\\",revision_name=~\\\
      \"$revision\\\"}[1m])) by (revision_name, le)), \\\"revision_name\\\", \\\"\
      $2\\\", \\\"revision_name\\\", \\\"$configuration(-+)(.*)\\\")\",\n        \
      \    \"format\": \"time_series\",\n            \"intervalFactor\": 1,\n    \
      \        \"legendFormat\": \"{{ revision_name }} (p50)\",\n            \"refId\"\
      : \"A\"\n         },\n         {\n            \"expr\": \"label_replace(histogram_quantile(0.90,\
      \ sum(rate(activator_request_latencies_bucket{namespace_name=\\\"$namespace\\\
      \", configuration_name=~\\\"$configuration\\\",revision_name=~\\\"$revision\\\
      \"}[1m])) by (revision_name, le)), \\\"revision_name\\\", \\\"$2\\\", \\\"revision_name\\\
      \", \\\"$configuration(-+)(.*)\\\")\",\n            \"format\": \"time_series\"\
      ,\n            \"intervalFactor\": 1,\n            \"legendFormat\": \"{{ revision_name\
      \ }} (p90)\",\n            \"refId\": \"B\"\n         },\n         {\n     \
      \       \"expr\": \"label_replace(histogram_quantile(0.95, sum(rate(activator_request_latencies_bucket{namespace_name=\\\
      \"$namespace\\\", configuration_name=~\\\"$configuration\\\",revision_name=~\\\
      \"$revision\\\"}[1m])) by (revision_name, le)), \\\"revision_name\\\", \\\"\
      $2\\\", \\\"revision_name\\\", \\\"$configuration(-+)(.*)\\\")\",\n        \
      \    \"format\": \"time_series\",\n            \"intervalFactor\": 1,\n    \
      \        \"legendFormat\": \"{{ revision_name }} (p95)\",\n            \"refId\"\
      : \"C\"\n         },\n         {\n            \"expr\": \"label_replace(histogram_quantile(0.99,\
      \ sum(rate(activator_request_latencies_bucket{namespace_name=\\\"$namespace\\\
      \", configuration_name=~\\\"$configuration\\\",revision_name=~\\\"$revision\\\
      \"}[1m])) by (revision_name, le)), \\\"revision_name\\\", \\\"$2\\\", \\\"revision_name\\\
      \", \\\"$configuration(-+)(.*)\\\")\",\n            \"format\": \"time_series\"\
      ,\n            \"intervalFactor\": 1,\n            \"legendFormat\": \"{{ revision_name\
      \ }} (p99)\",\n            \"refId\": \"D\"\n         }\n         ],\n     \
      \    \"thresholds\": [],\n         \"timeFrom\": null,\n         \"timeShift\"\
      : null,\n         \"title\": \"Response Time in last minute\",\n         \"\
      tooltip\": {\n         \"shared\": true,\n         \"sort\": 0,\n         \"\
      value_type\": \"individual\"\n         },\n         \"type\": \"graph\",\n \
      \        \"xaxis\": {\n         \"buckets\": null,\n         \"mode\": \"time\"\
      ,\n         \"name\": null,\n         \"show\": true,\n         \"values\":\
      \ []\n         },\n         \"yaxes\": [\n         {\n            \"format\"\
      : \"ms\",\n            \"label\": null,\n            \"logBase\": 1,\n     \
      \       \"max\": null,\n            \"min\": null,\n            \"show\": true\n\
      \         },\n         {\n            \"format\": \"short\",\n            \"\
      label\": null,\n            \"logBase\": 1,\n            \"max\": null,\n  \
      \          \"min\": null,\n            \"show\": true\n         }\n        \
      \ ]\n      },\n      {\n         \"aliasColors\": {},\n         \"bars\": false,\n\
      \         \"dashLength\": 10,\n         \"dashes\": false,\n         \"datasource\"\
      : \"prometheus\",\n         \"fill\": 1,\n         \"gridPos\": {\n        \
      \ \"h\": 9,\n         \"w\": 24,\n         \"x\": 0,\n         \"y\": 52\n \
      \        },\n         \"id\": 29,\n         \"legend\": {\n         \"avg\"\
      : false,\n         \"current\": false,\n         \"max\": false,\n         \"\
      min\": false,\n         \"show\": true,\n         \"total\": false,\n      \
      \   \"values\": false\n         },\n         \"lines\": true,\n         \"linewidth\"\
      : 1,\n         \"links\": [],\n         \"nullPointMode\": \"null\",\n     \
      \    \"percentage\": false,\n         \"pointradius\": 5,\n         \"points\"\
      : false,\n         \"renderer\": \"flot\",\n         \"seriesOverrides\": [\n\
      \         {\n            \"alias\": \"Panic Mode\",\n            \"color\":\
      \ \"#ea6460\",\n            \"dashes\": true,\n            \"fill\": 2,\n  \
      \          \"linewidth\": 2,\n            \"steppedLine\": true,\n         \
      \   \"yaxis\": 2\n         },\n         {\n            \"alias\": \"Target Concurrency\
      \ Per Pod\",\n            \"color\": \"#0a50a1\",\n            \"dashes\": true,\n\
      \            \"steppedLine\": false\n         }\n         ],\n         \"spaceLength\"\
      : 10,\n         \"stack\": false,\n         \"steppedLine\": true,\n       \
      \  \"targets\": [\n         {\n            \"expr\": \"sum(activator_request_concurrency{namespace_name=\\\
      \"$namespace\\\", configuration_name=\\\"$configuration\\\", revision_name=\\\
      \"$revision\\\"})\",\n            \"format\": \"time_series\",\n           \
      \ \"interval\": \"1s\",\n            \"intervalFactor\": 1,\n            \"\
      legendFormat\": \"Request Concurrency\",\n            \"refId\": \"A\"\n   \
      \      }\n         ],\n         \"thresholds\": [],\n         \"timeFrom\":\
      \ null,\n         \"timeShift\": null,\n         \"title\": \"Request Concurrency\"\
      ,\n         \"tooltip\": {\n         \"shared\": true,\n         \"sort\": 0,\n\
      \         \"value_type\": \"individual\"\n         },\n         \"type\": \"\
      graph\",\n         \"xaxis\": {\n         \"buckets\": null,\n         \"mode\"\
      : \"time\",\n         \"name\": null,\n         \"show\": true,\n         \"\
      values\": []\n         },\n         \"yaxes\": [\n         {\n            \"\
      format\": \"short\",\n            \"label\": \"\",\n            \"logBase\"\
      : 1,\n            \"max\": null,\n            \"min\": null,\n            \"\
      show\": true\n         },\n         {\n            \"format\": \"short\",\n\
      \            \"label\": \"\",\n            \"logBase\": 1,\n            \"max\"\
      : null,\n            \"min\": null,\n            \"show\": false\n         }\n\
      \         ]\n      }\n   ],\n   \"refresh\": false,\n   \"schemaVersion\": 16,\n\
      \   \"style\": \"dark\",\n   \"tags\": [],\n   \"templating\": {\n      \"list\"\
      : [\n         {\n         \"allValue\": null,\n         \"current\": {},\n \
      \        \"datasource\": \"prometheus\",\n         \"hide\": 0,\n         \"\
      includeAll\": false,\n         \"label\": \"Namespace\",\n         \"multi\"\
      : false,\n         \"name\": \"namespace\",\n         \"options\": [],\n   \
      \      \"query\": \"label_values(autoscaler_desired_pods, namespace_name)\"\
      ,\n         \"refresh\": 1,\n         \"regex\": \"\",\n         \"sort\": 1,\n\
      \         \"tagValuesQuery\": \"\",\n         \"tags\": [],\n         \"tagsQuery\"\
      : \"\",\n         \"type\": \"query\",\n         \"useTags\": false\n      \
      \   },\n         {\n         \"allValue\": null,\n         \"current\": {},\n\
      \         \"datasource\": \"prometheus\",\n         \"hide\": 0,\n         \"\
      includeAll\": false,\n         \"label\": \"Configuration\",\n         \"multi\"\
      : false,\n         \"name\": \"configuration\",\n         \"options\": [],\n\
      \         \"query\": \"label_values(autoscaler_desired_pods{namespace_name=\\\
      \"$namespace\\\"}, configuration_name)\",\n         \"refresh\": 1,\n      \
      \   \"regex\": \"\",\n         \"sort\": 1,\n         \"tagValuesQuery\": \"\
      \",\n         \"tags\": [],\n         \"tagsQuery\": \"\",\n         \"type\"\
      : \"query\",\n         \"useTags\": false\n         },\n         {\n       \
      \  \"allValue\": null,\n         \"current\": {},\n         \"datasource\":\
      \ \"prometheus\",\n         \"hide\": 0,\n         \"includeAll\": false,\n\
      \         \"label\": \"Revision\",\n         \"multi\": false,\n         \"\
      name\": \"revision\",\n         \"options\": [],\n         \"query\": \"label_values(autoscaler_desired_pods{namespace_name=\\\
      \"$namespace\\\", configuration_name=\\\"$configuration\\\"}, revision_name)\"\
      ,\n         \"refresh\": 1,\n         \"regex\": \"\",\n         \"sort\": 2,\n\
      \         \"tagValuesQuery\": \"\",\n         \"tags\": [],\n         \"tagsQuery\"\
      : \"\",\n         \"type\": \"query\",\n         \"useTags\": false\n      \
      \   }\n      ]\n   },\n   \"time\": {\n      \"from\": \"now-15m\",\n      \"\
      to\": \"now\"\n   },\n   \"timepicker\": {\n      \"refresh_intervals\": [\n\
      \         \"5s\",\n         \"10s\",\n         \"30s\",\n         \"1m\",\n\
      \         \"5m\",\n         \"15m\",\n         \"30m\",\n         \"1h\",\n\
      \         \"2h\",\n         \"1d\"\n      ],\n      \"time_options\": [\n  \
      \       \"5m\",\n         \"15m\",\n         \"1h\",\n         \"6h\",\n   \
      \      \"12h\",\n         \"24h\",\n         \"2d\",\n         \"7d\",\n   \
      \      \"30d\"\n      ]\n   },\n   \"timezone\": \"\",\n   \"title\": \"Knative\
      \ Serving - Scaling Debugging\",\n   \"uid\": \"u_-9SIMiz\",\n   \"version\"\
      : 2\n   }\n"
  kind: ConfigMap
  metadata:
    labels:
      serving.knative.dev/release: v0.8.0
    name: scaling-config
    namespace: knative-monitoring
- apiVersion: v1
  data:
    resource-dashboard.json: "{\n  \"__inputs\": [\n    {\n      \"description\":\
      \ \"\",\n      \"label\": \"prometheus\",\n      \"name\": \"prometheus\",\n\
      \      \"pluginId\": \"prometheus\",\n      \"pluginName\": \"Prometheus\",\n\
      \      \"type\": \"datasource\"\n    }\n  ],\n  \"annotations\": {\n    \"list\"\
      : []\n  },\n  \"description\": \"Knative Serving - Revision CPU and Memory Usage\"\
      ,\n  \"editable\": false,\n  \"gnetId\": null,\n  \"graphTooltip\": 0,\n  \"\
      links\": [],\n  \"panels\": [\n    {\n      \"aliasColors\": {},\n      \"bars\"\
      : false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\"\
      : \"prometheus\",\n      \"fill\": 1,\n      \"gridPos\": {\n        \"h\":\
      \ 9,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 0\n      },\n  \
      \    \"id\": 2,\n      \"legend\": {\n        \"avg\": false,\n        \"current\"\
      : false,\n        \"max\": false,\n        \"min\": false,\n        \"show\"\
      : true,\n        \"total\": false,\n        \"values\": false\n      },\n  \
      \    \"lines\": true,\n      \"linewidth\": 1,\n      \"links\": [],\n     \
      \ \"nullPointMode\": \"null\",\n      \"percentage\": false,\n      \"pointradius\"\
      : 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\"\
      : [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\"\
      : false,\n      \"targets\": [\n        {\n          \"expr\": \"sum(rate(container_cpu_usage_seconds_total{namespace=\\\
      \"$namespace\\\", pod_name=~\\\"$revision.*\\\", container_name != \\\"POD\\\
      \"}[1m])) by (container_name)\",\n          \"format\": \"time_series\",\n \
      \         \"intervalFactor\": 1,\n          \"legendFormat\": \"{{container_name}}\"\
      ,\n          \"refId\": \"A\"\n        }\n      ],\n      \"thresholds\": [],\n\
      \      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"\
      Total CPU Usage\",\n      \"tooltip\": {\n        \"shared\": true,\n      \
      \  \"sort\": 2,\n        \"value_type\": \"individual\"\n      },\n      \"\
      type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n       \
      \ \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n  \
      \      \"values\": []\n      },\n      \"yaxes\": [\n        {\n          \"\
      format\": \"s\",\n          \"label\": null,\n          \"logBase\": 1,\n  \
      \        \"max\": null,\n          \"min\": null,\n          \"show\": true\n\
      \        },\n        {\n          \"format\": \"short\",\n          \"label\"\
      : null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\"\
      : null,\n          \"show\": false\n        }\n      ]\n    },\n    {\n    \
      \  \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n\
      \      \"dashes\": false,\n      \"datasource\": \"prometheus\",\n      \"fill\"\
      : 1,\n      \"gridPos\": {\n        \"h\": 9,\n        \"w\": 12,\n        \"\
      x\": 12,\n        \"y\": 0\n      },\n      \"id\": 3,\n      \"legend\": {\n\
      \        \"avg\": false,\n        \"current\": false,\n        \"max\": false,\n\
      \        \"min\": false,\n        \"show\": true,\n        \"total\": false,\n\
      \        \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\"\
      : 1,\n      \"links\": [],\n      \"nullPointMode\": \"null\",\n      \"percentage\"\
      : false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\"\
      : \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n  \
      \    \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n\
      \        {\n          \"expr\": \"sum(container_memory_usage_bytes{namespace=\\\
      \"$namespace\\\", pod_name=~\\\"$revision.*\\\", container_name != \\\"POD\\\
      \"}) by (container_name)\",\n          \"format\": \"time_series\",\n      \
      \    \"intervalFactor\": 1,\n          \"legendFormat\": \"{{container_name}}\"\
      ,\n          \"refId\": \"A\"\n        }\n      ],\n      \"thresholds\": [],\n\
      \      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"\
      Total Memory Usage\",\n      \"tooltip\": {\n        \"shared\": true,\n   \
      \     \"sort\": 2,\n        \"value_type\": \"individual\"\n      },\n     \
      \ \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n   \
      \     \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n\
      \        \"values\": []\n      },\n      \"yaxes\": [\n        {\n         \
      \ \"format\": \"decbytes\",\n          \"label\": null,\n          \"logBase\"\
      : 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\"\
      : true\n        },\n        {\n          \"format\": \"short\",\n          \"\
      label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n      \
      \    \"min\": null,\n          \"show\": false\n        }\n      ]\n    }\n\
      \  ],\n  \"refresh\": \"5s\",\n  \"schemaVersion\": 16,\n  \"style\": \"dark\"\
      ,\n  \"tags\": [],\n  \"templating\": {\n    \"list\": [\n      {\n        \"\
      allValue\": null,\n        \"current\": {},\n        \"datasource\": \"prometheus\"\
      ,\n        \"hide\": 0,\n        \"includeAll\": false,\n        \"label\":\
      \ \"Namespace\",\n        \"multi\": false,\n        \"name\": \"namespace\"\
      ,\n        \"options\": [],\n        \"query\": \"label_values(kube_pod_labels{label_serving_knative_dev_configuration=~\\\
      \".+\\\"}, namespace)\",\n        \"refresh\": 2,\n        \"regex\": \"\",\n\
      \        \"sort\": 1,\n        \"tagValuesQuery\": \"\",\n        \"tags\":\
      \ [],\n        \"tagsQuery\": \"\",\n        \"type\": \"query\",\n        \"\
      useTags\": false\n      },\n      {\n        \"allValue\": null,\n        \"\
      current\": {},\n        \"datasource\": \"prometheus\",\n        \"hide\": 0,\n\
      \        \"includeAll\": false,\n        \"label\": \"Configuration\",\n   \
      \     \"multi\": false,\n        \"name\": \"configuration\",\n        \"options\"\
      : [],\n        \"query\": \"label_values(kube_pod_labels{label_serving_knative_dev_configuration=~\\\
      \".+\\\", namespace=\\\"$namespace\\\"}, label_serving_knative_dev_configuration)\"\
      ,\n        \"refresh\": 2,\n        \"regex\": \"\",\n        \"sort\": 1,\n\
      \        \"tagValuesQuery\": \"\",\n        \"tags\": [],\n        \"tagsQuery\"\
      : \"\",\n        \"type\": \"query\",\n        \"useTags\": false\n      },\n\
      \      {\n        \"allValue\": null,\n        \"current\": {},\n        \"\
      datasource\": \"prometheus\",\n        \"hide\": 0,\n        \"includeAll\"\
      : false,\n        \"label\": \"Revision\",\n        \"multi\": false,\n    \
      \    \"name\": \"revision\",\n        \"options\": [],\n        \"query\": \"\
      label_values(kube_pod_labels{label_serving_knative_dev_configuration=~\\\".+\\\
      \", namespace=\\\"$namespace\\\", label_serving_knative_dev_configuration=\\\
      \"$configuration\\\"}, label_serving_knative_dev_revision)\",\n        \"refresh\"\
      : 2,\n        \"regex\": \"\",\n        \"sort\": 2,\n        \"tagValuesQuery\"\
      : \"\",\n        \"tags\": [],\n        \"tagsQuery\": \"\",\n        \"type\"\
      : \"query\",\n        \"useTags\": false\n      }\n    ]\n  },\n  \"time\":\
      \ {\n    \"from\": \"now-15m\",\n    \"to\": \"now\"\n  },\n  \"timepicker\"\
      : {\n    \"refresh_intervals\": [\n      \"5s\",\n      \"10s\",\n      \"30s\"\
      ,\n      \"1m\",\n      \"5m\",\n      \"15m\",\n      \"30m\",\n      \"1h\"\
      ,\n      \"2h\",\n      \"1d\"\n    ],\n    \"time_options\": [\n      \"5m\"\
      ,\n      \"15m\",\n      \"1h\",\n      \"6h\",\n      \"12h\",\n      \"24h\"\
      ,\n      \"2d\",\n      \"7d\",\n      \"30d\"\n    ]\n  },\n  \"timezone\"\
      : \"\",\n  \"title\": \"Knative Serving - Revision CPU and Memory Usage\",\n\
      \  \"uid\": \"bKOoE9Wmk\",\n  \"version\": 4\n}\n"
    revision-dashboard.json: "{\n  \"__inputs\": [\n    {\n      \"description\":\
      \ \"\",\n      \"label\": \"prometheus\",\n      \"name\": \"prometheus\",\n\
      \      \"pluginId\": \"prometheus\",\n      \"pluginName\": \"Prometheus\",\n\
      \      \"type\": \"datasource\"\n    }\n  ],\n  \"annotations\": {\n    \"list\"\
      : []\n  },\n  \"description\": \"Knative Serving - Revision HTTP Requests\"\
      ,\n  \"editable\": false,\n  \"gnetId\": null,\n  \"graphTooltip\": 0,\n  \"\
      links\": [],\n  \"panels\": [\n    {\n      \"collapsed\": false,\n      \"\
      gridPos\": {\n        \"h\": 1,\n        \"w\": 24,\n        \"x\": 0,\n   \
      \     \"y\": 0\n      },\n      \"id\": 8,\n      \"panels\": [],\n      \"\
      title\": \"Overview (average over the selected time range)\",\n      \"type\"\
      : \"row\"\n    },\n    {\n      \"cacheTimeout\": null,\n      \"colorBackground\"\
      : false,\n      \"colorValue\": false,\n      \"colors\": [\n        \"#299c46\"\
      ,\n        \"rgba(237, 129, 40, 0.89)\",\n        \"#d44a3a\"\n      ],\n  \
      \    \"datasource\": \"prometheus\",\n      \"format\": \"ops\",\n      \"gauge\"\
      : {\n        \"maxValue\": 100,\n        \"minValue\": 0,\n        \"show\"\
      : false,\n        \"thresholdLabels\": false,\n        \"thresholdMarkers\"\
      : true\n      },\n      \"gridPos\": {\n        \"h\": 4,\n        \"w\": 6,\n\
      \        \"x\": 0,\n        \"y\": 1\n      },\n      \"id\": 2,\n      \"interval\"\
      : null,\n      \"links\": [],\n      \"mappingType\": 1,\n      \"mappingTypes\"\
      : [\n        {\n          \"name\": \"value to text\",\n          \"value\"\
      : 1\n        },\n        {\n          \"name\": \"range to text\",\n       \
      \   \"value\": 2\n        }\n      ],\n      \"maxDataPoints\": 100,\n     \
      \ \"nullPointMode\": \"connected\",\n      \"nullText\": null,\n      \"postfix\"\
      : \"\",\n      \"postfixFontSize\": \"50%\",\n      \"prefix\": \"\",\n    \
      \  \"prefixFontSize\": \"50%\",\n      \"rangeMaps\": [\n        {\n       \
      \   \"from\": \"null\",\n          \"text\": \"N/A\",\n          \"to\": \"\
      null\"\n        }\n      ],\n      \"repeat\": null,\n      \"repeatDirection\"\
      : \"v\",\n      \"sparkline\": {\n        \"fillColor\": \"rgba(31, 118, 189,\
      \ 0.18)\",\n        \"full\": true,\n        \"lineColor\": \"rgb(31, 120, 193)\"\
      ,\n        \"show\": true\n      },\n      \"tableColumn\": \"\",\n      \"\
      targets\": [\n        {\n          \"expr\": \"round(sum(rate(revision_request_count{namespace_name=\\\
      \"$namespace\\\", revision_name=~\\\"$revision\\\", configuration_name=~\\\"\
      $configuration\\\"}[1m])), 0.001)\",\n          \"format\": \"time_series\"\
      ,\n          \"hide\": false,\n          \"interval\": \"\",\n          \"intervalFactor\"\
      : 1,\n          \"refId\": \"A\"\n        }\n      ],\n      \"thresholds\"\
      : \"\",\n      \"title\": \"Request Volume\",\n      \"type\": \"singlestat\"\
      ,\n      \"valueFontSize\": \"80%\",\n      \"valueMaps\": [\n        {\n  \
      \        \"op\": \"=\",\n          \"text\": \"N/A\",\n          \"value\":\
      \ \"null\"\n        }\n      ],\n      \"valueName\": \"avg\"\n    },\n    {\n\
      \      \"cacheTimeout\": null,\n      \"colorBackground\": false,\n      \"\
      colorValue\": false,\n      \"colors\": [\n        \"#d44a3a\",\n        \"\
      rgba(237, 129, 40, 0.89)\",\n        \"#299c46\"\n      ],\n      \"datasource\"\
      : \"prometheus\",\n      \"format\": \"percentunit\",\n      \"gauge\": {\n\
      \        \"maxValue\": 100,\n        \"minValue\": 0,\n        \"show\": false,\n\
      \        \"thresholdLabels\": false,\n        \"thresholdMarkers\": true\n \
      \     },\n      \"gridPos\": {\n        \"h\": 4,\n        \"w\": 6,\n     \
      \   \"x\": 6,\n        \"y\": 1\n      },\n      \"id\": 4,\n      \"interval\"\
      : null,\n      \"links\": [],\n      \"mappingType\": 1,\n      \"mappingTypes\"\
      : [\n        {\n          \"name\": \"value to text\",\n          \"value\"\
      : 1\n        },\n        {\n          \"name\": \"range to text\",\n       \
      \   \"value\": 2\n        }\n      ],\n      \"maxDataPoints\": 100,\n     \
      \ \"nullPointMode\": \"connected\",\n      \"nullText\": null,\n      \"postfix\"\
      : \"\",\n      \"postfixFontSize\": \"50%\",\n      \"prefix\": \"\",\n    \
      \  \"prefixFontSize\": \"50%\",\n      \"rangeMaps\": [\n        {\n       \
      \   \"from\": \"null\",\n          \"text\": \"N/A\",\n          \"to\": \"\
      null\"\n        }\n      ],\n      \"sparkline\": {\n        \"fillColor\":\
      \ \"rgba(31, 118, 189, 0.18)\",\n        \"full\": true,\n        \"lineColor\"\
      : \"rgb(31, 120, 193)\",\n        \"show\": true\n      },\n      \"tableColumn\"\
      : \"\",\n      \"targets\": [\n        {\n          \"expr\": \"sum(rate(revision_request_count{response_code_class!=\\\
      \"5xx\\\", namespace_name=\\\"$namespace\\\", revision_name=~\\\"$revision\\\
      \", configuration_name=~\\\"$configuration\\\"}[1m])) / sum(rate(revision_request_count{namespace_name=\\\
      \"$namespace\\\", revision_name=~\\\"$revision\\\", configuration_name=~\\\"\
      $configuration\\\"}[1m]))\",\n          \"format\": \"time_series\",\n     \
      \     \"interval\": \"\",\n          \"intervalFactor\": 1,\n          \"refId\"\
      : \"A\"\n        }\n      ],\n      \"thresholds\": \"95, 99, 99.5\",\n    \
      \  \"title\": \"Success Rate (non-5xx responses)\",\n      \"type\": \"singlestat\"\
      ,\n      \"valueFontSize\": \"80%\",\n      \"valueMaps\": [\n        {\n  \
      \        \"op\": \"=\",\n          \"text\": \"N/A\",\n          \"value\":\
      \ \"null\"\n        }\n      ],\n      \"valueName\": \"avg\"\n    },\n    {\n\
      \      \"cacheTimeout\": null,\n      \"colorBackground\": false,\n      \"\
      colorValue\": false,\n      \"colors\": [\n        \"#d44a3a\",\n        \"\
      rgba(237, 129, 40, 0.89)\",\n        \"#299c46\"\n      ],\n      \"datasource\"\
      : \"prometheus\",\n      \"format\": \"ops\",\n      \"gauge\": {\n        \"\
      maxValue\": 100,\n        \"minValue\": 0,\n        \"show\": false,\n     \
      \   \"thresholdLabels\": false,\n        \"thresholdMarkers\": true\n      },\n\
      \      \"gridPos\": {\n        \"h\": 4,\n        \"w\": 6,\n        \"x\":\
      \ 12,\n        \"y\": 1\n      },\n      \"id\": 5,\n      \"interval\": null,\n\
      \      \"links\": [],\n      \"mappingType\": 1,\n      \"mappingTypes\": [\n\
      \        {\n          \"name\": \"value to text\",\n          \"value\": 1\n\
      \        },\n        {\n          \"name\": \"range to text\",\n          \"\
      value\": 2\n        }\n      ],\n      \"maxDataPoints\": 100,\n      \"nullPointMode\"\
      : \"connected\",\n      \"nullText\": null,\n      \"postfix\": \"\",\n    \
      \  \"postfixFontSize\": \"50%\",\n      \"prefix\": \"\",\n      \"prefixFontSize\"\
      : \"50%\",\n      \"rangeMaps\": [\n        {\n          \"from\": \"null\"\
      ,\n          \"text\": \"N/A\",\n          \"to\": \"null\"\n        }\n   \
      \   ],\n      \"sparkline\": {\n        \"fillColor\": \"rgba(31, 118, 189,\
      \ 0.18)\",\n        \"full\": true,\n        \"lineColor\": \"rgb(31, 120, 193)\"\
      ,\n        \"show\": true\n      },\n      \"tableColumn\": \"\",\n      \"\
      targets\": [\n        {\n          \"expr\": \"sum(rate(revision_request_count{response_code_class=\\\
      \"4xx\\\", namespace_name=\\\"$namespace\\\", revision_name=~\\\"$revision\\\
      \", configuration_name=~\\\"$configuration\\\"}[1m])) \",\n          \"format\"\
      : \"time_series\",\n          \"interval\": \"\",\n          \"intervalFactor\"\
      : 1,\n          \"refId\": \"A\"\n        }\n      ],\n      \"thresholds\"\
      : \"\",\n      \"title\": \"4xx\",\n      \"type\": \"singlestat\",\n      \"\
      valueFontSize\": \"80%\",\n      \"valueMaps\": [\n        {\n          \"op\"\
      : \"=\",\n          \"text\": \"N/A\",\n          \"value\": \"null\"\n    \
      \    }\n      ],\n      \"valueName\": \"avg\"\n    },\n    {\n      \"cacheTimeout\"\
      : null,\n      \"colorBackground\": false,\n      \"colorValue\": false,\n \
      \     \"colors\": [\n        \"#d44a3a\",\n        \"rgba(237, 129, 40, 0.89)\"\
      ,\n        \"#299c46\"\n      ],\n      \"datasource\": \"prometheus\",\n  \
      \    \"format\": \"ops\",\n      \"gauge\": {\n        \"maxValue\": 100,\n\
      \        \"minValue\": 0,\n        \"show\": false,\n        \"thresholdLabels\"\
      : false,\n        \"thresholdMarkers\": true\n      },\n      \"gridPos\": {\n\
      \        \"h\": 4,\n        \"w\": 6,\n        \"x\": 18,\n        \"y\": 1\n\
      \      },\n      \"id\": 9,\n      \"interval\": null,\n      \"links\": [],\n\
      \      \"mappingType\": 1,\n      \"mappingTypes\": [\n        {\n         \
      \ \"name\": \"value to text\",\n          \"value\": 1\n        },\n       \
      \ {\n          \"name\": \"range to text\",\n          \"value\": 2\n      \
      \  }\n      ],\n      \"maxDataPoints\": 100,\n      \"nullPointMode\": \"connected\"\
      ,\n      \"nullText\": null,\n      \"postfix\": \"\",\n      \"postfixFontSize\"\
      : \"50%\",\n      \"prefix\": \"\",\n      \"prefixFontSize\": \"50%\",\n  \
      \    \"rangeMaps\": [\n        {\n          \"from\": \"null\",\n          \"\
      text\": \"N/A\",\n          \"to\": \"null\"\n        }\n      ],\n      \"\
      sparkline\": {\n        \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n     \
      \   \"full\": true,\n        \"lineColor\": \"rgb(31, 120, 193)\",\n       \
      \ \"show\": true\n      },\n      \"tableColumn\": \"\",\n      \"targets\"\
      : [\n        {\n          \"expr\": \"sum(rate(revision_request_count{response_code_class=\\\
      \"5xx\\\", namespace_name=\\\"$namespace\\\", revision_name=~\\\"$revision\\\
      \", configuration_name=~\\\"$configuration\\\"}[1m])) \",\n          \"format\"\
      : \"time_series\",\n          \"interval\": \"\",\n          \"intervalFactor\"\
      : 1,\n          \"refId\": \"A\"\n        }\n      ],\n      \"thresholds\"\
      : \"\",\n      \"title\": \"5xx\",\n      \"type\": \"singlestat\",\n      \"\
      valueFontSize\": \"80%\",\n      \"valueMaps\": [\n        {\n          \"op\"\
      : \"=\",\n          \"text\": \"N/A\",\n          \"value\": \"null\"\n    \
      \    }\n      ],\n      \"valueName\": \"avg\"\n    },\n    {\n      \"collapsed\"\
      : false,\n      \"gridPos\": {\n        \"h\": 1,\n        \"w\": 24,\n    \
      \    \"x\": 0,\n        \"y\": 5\n      },\n      \"id\": 11,\n      \"panels\"\
      : [],\n      \"title\": \"Request Volume\",\n      \"type\": \"row\"\n    },\n\
      \    {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\"\
      : 10,\n      \"dashes\": false,\n      \"datasource\": \"prometheus\",\n   \
      \   \"fill\": 1,\n      \"gridPos\": {\n        \"h\": 10,\n        \"w\": 12,\n\
      \        \"x\": 0,\n        \"y\": 6\n      },\n      \"id\": 17,\n      \"\
      legend\": {\n        \"avg\": false,\n        \"current\": false,\n        \"\
      max\": false,\n        \"min\": false,\n        \"show\": true,\n        \"\
      total\": false,\n        \"values\": false\n      },\n      \"lines\": true,\n\
      \      \"linewidth\": 1,\n      \"links\": [],\n      \"nullPointMode\": \"\
      null\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\"\
      : false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n  \
      \    \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n\
      \      \"targets\": [\n        {\n          \"expr\": \"label_replace(round(sum(rate(revision_request_count{namespace_name=\\\
      \"$namespace\\\", configuration_name=~\\\"$configuration\\\",revision_name=~\\\
      \"$revision\\\"}[1m])) by (revision_name), 0.001), \\\"revision_name\\\", \\\
      \"$2\\\", \\\"revision_name\\\", \\\"$configuration(-+)(.*)\\\")\",\n      \
      \    \"format\": \"time_series\",\n          \"interval\": \"\",\n         \
      \ \"intervalFactor\": 1,\n          \"legendFormat\": \"{{revision_name}}\"\
      ,\n          \"refId\": \"A\"\n        }\n      ],\n      \"thresholds\": [],\n\
      \      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"\
      Request Volume by Revision\",\n      \"tooltip\": {\n        \"shared\": true,\n\
      \        \"sort\": 2,\n        \"value_type\": \"individual\"\n      },\n  \
      \    \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n\
      \        \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n\
      \        \"values\": []\n      },\n      \"yaxes\": [\n        {\n         \
      \ \"format\": \"ops\",\n          \"label\": null,\n          \"logBase\": 1,\n\
      \          \"max\": null,\n          \"min\": null,\n          \"show\": true\n\
      \        },\n        {\n          \"format\": \"short\",\n          \"label\"\
      : null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\"\
      : null,\n          \"show\": true\n        }\n      ]\n    },\n    {\n     \
      \ \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n\
      \      \"dashes\": false,\n      \"datasource\": \"prometheus\",\n      \"fill\"\
      : 1,\n      \"gridPos\": {\n        \"h\": 10,\n        \"w\": 12,\n       \
      \ \"x\": 12,\n        \"y\": 6\n      },\n      \"id\": 18,\n      \"legend\"\
      : {\n        \"avg\": false,\n        \"current\": false,\n        \"max\":\
      \ false,\n        \"min\": false,\n        \"show\": true,\n        \"total\"\
      : false,\n        \"values\": false\n      },\n      \"lines\": true,\n    \
      \  \"linewidth\": 1,\n      \"links\": [],\n      \"nullPointMode\": \"null\"\
      ,\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\"\
      : false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n  \
      \    \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n\
      \      \"targets\": [\n        {\n          \"expr\": \"round(sum(rate(revision_request_count{namespace_name=\\\
      \"$namespace\\\", configuration_name=~\\\"$configuration\\\",revision_name=~\\\
      \"$revision\\\"}[1m])) by (response_code_class), 0.001)\",\n          \"format\"\
      : \"time_series\",\n          \"interval\": \"\",\n          \"intervalFactor\"\
      : 1,\n          \"legendFormat\": \"{{ response_code_class }}\",\n         \
      \ \"refId\": \"A\"\n        }\n      ],\n      \"thresholds\": [],\n      \"\
      timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Request Volume\
      \ by Response Code Class\",\n      \"tooltip\": {\n        \"shared\": true,\n\
      \        \"sort\": 2,\n        \"value_type\": \"individual\"\n      },\n  \
      \    \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n\
      \        \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n\
      \        \"values\": []\n      },\n      \"yaxes\": [\n        {\n         \
      \ \"format\": \"ops\",\n          \"label\": null,\n          \"logBase\": 1,\n\
      \          \"max\": null,\n          \"min\": null,\n          \"show\": true\n\
      \        },\n        {\n          \"format\": \"short\",\n          \"label\"\
      : null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\"\
      : null,\n          \"show\": true\n        }\n      ]\n    },\n    {\n     \
      \ \"collapsed\": false,\n      \"gridPos\": {\n        \"h\": 1,\n        \"\
      w\": 24,\n        \"x\": 0,\n        \"y\": 16\n      },\n      \"id\": 15,\n\
      \      \"panels\": [],\n      \"title\": \"Response Time\",\n      \"type\"\
      : \"row\"\n    },\n    {\n      \"aliasColors\": {},\n      \"bars\": false,\n\
      \      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\":\
      \ \"prometheus\",\n      \"fill\": 1,\n      \"gridPos\": {\n        \"h\":\
      \ 9,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 17\n      },\n \
      \     \"id\": 20,\n      \"legend\": {\n        \"alignAsTable\": false,\n \
      \       \"avg\": true,\n        \"current\": false,\n        \"hideEmpty\":\
      \ false,\n        \"hideZero\": false,\n        \"max\": false,\n        \"\
      min\": false,\n        \"rightSide\": false,\n        \"show\": true,\n    \
      \    \"total\": false,\n        \"values\": true\n      },\n      \"lines\"\
      : true,\n      \"linewidth\": 1,\n      \"links\": [],\n      \"nullPointMode\"\
      : \"null\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n     \
      \ \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\"\
      : [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\"\
      : false,\n      \"targets\": [\n        {\n          \"expr\": \"label_replace(histogram_quantile(0.50,\
      \ sum(rate(revision_request_latencies_bucket{namespace_name=\\\"$namespace\\\
      \", configuration_name=~\\\"$configuration\\\",revision_name=~\\\"$revision\\\
      \"}[1m])) by (revision_name, le)), \\\"revision_name\\\", \\\"$2\\\", \\\"revision_name\\\
      \", \\\"$configuration(-+)(.*)\\\")\",\n          \"format\": \"time_series\"\
      ,\n          \"intervalFactor\": 1,\n          \"legendFormat\": \"{{ revision_name\
      \ }} (p50)\",\n          \"refId\": \"A\"\n        },\n        {\n         \
      \ \"expr\": \"label_replace(histogram_quantile(0.90, sum(rate(revision_request_latencies_bucket{namespace_name=\\\
      \"$namespace\\\", configuration_name=~\\\"$configuration\\\",revision_name=~\\\
      \"$revision\\\"}[1m])) by (revision_name, le)), \\\"revision_name\\\", \\\"\
      $2\\\", \\\"revision_name\\\", \\\"$configuration(-+)(.*)\\\")\",\n        \
      \  \"format\": \"time_series\",\n          \"intervalFactor\": 1,\n        \
      \  \"legendFormat\": \"{{ revision_name }} (p90)\",\n          \"refId\": \"\
      B\"\n        },\n        {\n          \"expr\": \"label_replace(histogram_quantile(0.95,\
      \ sum(rate(revision_request_latencies_bucket{namespace_name=\\\"$namespace\\\
      \", configuration_name=~\\\"$configuration\\\",revision_name=~\\\"$revision\\\
      \"}[1m])) by (revision_name, le)), \\\"revision_name\\\", \\\"$2\\\", \\\"revision_name\\\
      \", \\\"$configuration(-+)(.*)\\\")\",\n          \"format\": \"time_series\"\
      ,\n          \"intervalFactor\": 1,\n          \"legendFormat\": \"{{ revision_name\
      \ }} (p95)\",\n          \"refId\": \"C\"\n        },\n        {\n         \
      \ \"expr\": \"label_replace(histogram_quantile(0.99, sum(rate(revision_request_latencies_bucket{namespace_name=\\\
      \"$namespace\\\", configuration_name=~\\\"$configuration\\\",revision_name=~\\\
      \"$revision\\\"}[1m])) by (revision_name, le)), \\\"revision_name\\\", \\\"\
      $2\\\", \\\"revision_name\\\", \\\"$configuration(-+)(.*)\\\")\",\n        \
      \  \"format\": \"time_series\",\n          \"intervalFactor\": 1,\n        \
      \  \"legendFormat\": \"{{ revision_name }} (p99)\",\n          \"refId\": \"\
      D\"\n        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n\
      \      \"timeShift\": null,\n      \"title\": \"Response Time by Revision\"\
      ,\n      \"tooltip\": {\n        \"shared\": true,\n        \"sort\": 2,\n \
      \       \"value_type\": \"individual\"\n      },\n      \"type\": \"graph\"\
      ,\n      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\": \"time\"\
      ,\n        \"name\": null,\n        \"show\": true,\n        \"values\": []\n\
      \      },\n      \"yaxes\": [\n        {\n          \"format\": \"s\",\n   \
      \       \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n\
      \          \"min\": null,\n          \"show\": true\n        },\n        {\n\
      \          \"format\": \"short\",\n          \"label\": null,\n          \"\
      logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n        \
      \  \"show\": false\n        }\n      ]\n    },\n    {\n      \"aliasColors\"\
      : {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\":\
      \ false,\n      \"datasource\": \"prometheus\",\n      \"fill\": 1,\n      \"\
      gridPos\": {\n        \"h\": 9,\n        \"w\": 12,\n        \"x\": 12,\n  \
      \      \"y\": 17\n      },\n      \"id\": 21,\n      \"legend\": {\n       \
      \ \"alignAsTable\": false,\n        \"avg\": true,\n        \"current\": false,\n\
      \        \"hideEmpty\": false,\n        \"hideZero\": false,\n        \"max\"\
      : false,\n        \"min\": false,\n        \"rightSide\": false,\n        \"\
      show\": true,\n        \"total\": false,\n        \"values\": true\n      },\n\
      \      \"lines\": true,\n      \"linewidth\": 1,\n      \"links\": [],\n   \
      \   \"nullPointMode\": \"null\",\n      \"percentage\": false,\n      \"pointradius\"\
      : 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\"\
      : [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\"\
      : false,\n      \"targets\": [\n        {\n          \"expr\": \"label_replace(histogram_quantile(0.50,\
      \ sum(rate(revision_request_latencies_bucket{namespace_name=\\\"$namespace\\\
      \", configuration_name=~\\\"$configuration\\\",revision_name=~\\\"$revision\\\
      \",response_code_class=\\\"2xx\\\"}[1m])) by (le)), \\\"revision_name\\\", \\\
      \"$2\\\", \\\"revision_name\\\", \\\"$configuration(-+)(.*)\\\")\",\n      \
      \    \"format\": \"time_series\",\n          \"intervalFactor\": 1,\n      \
      \    \"legendFormat\": \"2xx (p50)\",\n          \"refId\": \"C\"\n        },\n\
      \        {\n          \"expr\": \"label_replace(histogram_quantile(0.50, sum(rate(revision_request_latencies_bucket{namespace_name=\\\
      \"$namespace\\\", configuration_name=~\\\"$configuration\\\",revision_name=~\\\
      \"$revision\\\",response_code_class=\\\"3xx\\\"}[1m])) by (le)), \\\"revision_name\\\
      \", \\\"$2\\\", \\\"revision_name\\\", \\\"$configuration(-+)(.*)\\\")\",\n\
      \          \"format\": \"time_series\",\n          \"intervalFactor\": 1,\n\
      \          \"legendFormat\": \"3xx (p50)\",\n          \"refId\": \"D\"\n  \
      \      },\n        {\n          \"expr\": \"label_replace(histogram_quantile(0.50,\
      \ sum(rate(revision_request_latencies_bucket{namespace_name=\\\"$namespace\\\
      \", configuration_name=~\\\"$configuration\\\",revision_name=~\\\"$revision\\\
      \",response_code_class=\\\"4xx\\\"}[1m])) by (le)), \\\"revision_name\\\", \\\
      \"$2\\\", \\\"revision_name\\\", \\\"$configuration(-+)(.*)\\\")\",\n      \
      \    \"format\": \"time_series\",\n          \"intervalFactor\": 1,\n      \
      \    \"legendFormat\": \"4xx (p50)\",\n          \"refId\": \"A\"\n        },\n\
      \        {\n          \"expr\": \"label_replace(histogram_quantile(0.50, sum(rate(revision_request_latencies_bucket{namespace_name=\\\
      \"$namespace\\\", configuration_name=~\\\"$configuration\\\",revision_name=~\\\
      \"$revision\\\",response_code_class=\\\"5xx\\\"}[1m])) by (le)), \\\"revision_name\\\
      \", \\\"$2\\\", \\\"revision_name\\\", \\\"$configuration(-+)(.*)\\\")\",\n\
      \          \"format\": \"time_series\",\n          \"intervalFactor\": 1,\n\
      \          \"legendFormat\": \"5xx (p50)\",\n          \"refId\": \"B\"\n  \
      \      },\n        {\n          \"expr\": \"label_replace(histogram_quantile(0.95,\
      \ sum(rate(revision_request_latencies_bucket{namespace_name=\\\"$namespace\\\
      \", configuration_name=~\\\"$configuration\\\",revision_name=~\\\"$revision\\\
      \",response_code_class=\\\"2xx\\\"}[1m])) by (le)), \\\"revision_name\\\", \\\
      \"$2\\\", \\\"revision_name\\\", \\\"$configuration(-+)(.*)\\\")\",\n      \
      \    \"format\": \"time_series\",\n          \"intervalFactor\": 1,\n      \
      \    \"legendFormat\": \"2xx (p95)\",\n          \"refId\": \"E\"\n        },\n\
      \        {\n          \"expr\": \"label_replace(histogram_quantile(0.95, sum(rate(revision_request_latencies_bucket{namespace_name=\\\
      \"$namespace\\\", configuration_name=~\\\"$configuration\\\",revision_name=~\\\
      \"$revision\\\",response_code_class=\\\"3xx\\\"}[1m])) by (le)), \\\"revision_name\\\
      \", \\\"$2\\\", \\\"revision_name\\\", \\\"$configuration(-+)(.*)\\\")\",\n\
      \          \"format\": \"time_series\",\n          \"intervalFactor\": 1,\n\
      \          \"legendFormat\": \"3xx (p95)\",\n          \"refId\": \"F\"\n  \
      \      },\n        {\n          \"expr\": \"label_replace(histogram_quantile(0.95,\
      \ sum(rate(revision_request_latencies_bucket{namespace_name=\\\"$namespace\\\
      \", configuration_name=~\\\"$configuration\\\",revision_name=~\\\"$revision\\\
      \",response_code_class=\\\"4xx\\\"}[1m])) by (le)), \\\"revision_name\\\", \\\
      \"$2\\\", \\\"revision_name\\\", \\\"$configuration(-+)(.*)\\\")\",\n      \
      \    \"format\": \"time_series\",\n          \"intervalFactor\": 1,\n      \
      \    \"legendFormat\": \"4xx (p95)\",\n          \"refId\": \"G\"\n        },\n\
      \        {\n          \"expr\": \"label_replace(histogram_quantile(0.95, sum(rate(revision_request_latencies_bucket{namespace_name=\\\
      \"$namespace\\\", configuration_name=~\\\"$configuration\\\",revision_name=~\\\
      \"$revision\\\",response_code_class=\\\"5xx\\\"}[1m])) by (le)), \\\"revision_name\\\
      \", \\\"$2\\\", \\\"revision_name\\\", \\\"$configuration(-+)(.*)\\\")\",\n\
      \          \"format\": \"time_series\",\n          \"intervalFactor\": 1,\n\
      \          \"legendFormat\": \"5xx (p95)\",\n          \"refId\": \"H\"\n  \
      \      }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n \
      \     \"timeShift\": null,\n      \"title\": \"Response Time by Response Code\
      \ Class\",\n      \"tooltip\": {\n        \"shared\": true,\n        \"sort\"\
      : 2,\n        \"value_type\": \"individual\"\n      },\n      \"type\": \"graph\"\
      ,\n      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\": \"time\"\
      ,\n        \"name\": null,\n        \"show\": true,\n        \"values\": []\n\
      \      },\n      \"yaxes\": [\n        {\n          \"format\": \"s\",\n   \
      \       \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n\
      \          \"min\": null,\n          \"show\": true\n        },\n        {\n\
      \          \"format\": \"short\",\n          \"label\": null,\n          \"\
      logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n        \
      \  \"show\": false\n        }\n      ]\n    }\n  ],\n  \"refresh\": \"5s\",\n\
      \  \"schemaVersion\": 16,\n  \"style\": \"dark\",\n  \"tags\": [],\n  \"templating\"\
      : {\n    \"list\": [\n      {\n        \"allValue\": null,\n        \"current\"\
      : {},\n        \"datasource\": \"prometheus\",\n        \"hide\": 0,\n     \
      \   \"includeAll\": false,\n        \"label\": \"Namespace\",\n        \"multi\"\
      : false,\n        \"name\": \"namespace\",\n        \"options\": [],\n     \
      \   \"query\": \"label_values(revision_request_count{namespace_name!=\\\"unknown\\\
      \"}, namespace_name)\",\n        \"refresh\": 1,\n        \"regex\": \"\",\n\
      \        \"sort\": 1,\n        \"tagValuesQuery\": \"\",\n        \"tags\":\
      \ [],\n        \"tagsQuery\": \"\",\n        \"type\": \"query\",\n        \"\
      useTags\": false\n      },\n      {\n        \"allValue\": null,\n        \"\
      current\": {},\n        \"datasource\": \"prometheus\",\n        \"hide\": 0,\n\
      \        \"includeAll\": false,\n        \"label\": \"Configuration\",\n   \
      \     \"multi\": false,\n        \"name\": \"configuration\",\n        \"options\"\
      : [],\n        \"query\": \"label_values(revision_request_count{namespace_name=\\\
      \"$namespace\\\", configuration_name!=\\\"unknown\\\"}, configuration_name)\"\
      ,\n        \"refresh\": 1,\n        \"regex\": \"\",\n        \"sort\": 1,\n\
      \        \"tagValuesQuery\": \"$tag\",\n        \"tags\": [],\n        \"tagsQuery\"\
      : \"\",\n        \"type\": \"query\",\n        \"useTags\": false\n      },\n\
      \      {\n        \"allValue\": null,\n        \"current\": {},\n        \"\
      datasource\": \"prometheus\",\n        \"hide\": 0,\n        \"includeAll\"\
      : true,\n        \"label\": \"Revision\",\n        \"multi\": true,\n      \
      \  \"name\": \"revision\",\n        \"options\": [],\n        \"query\": \"\
      label_values(revision_request_count{namespace_name=\\\"$namespace\\\", configuration_name=~\\\
      \"$configuration\\\", revision_name!=\\\"unknown\\\"}, revision_name)\",\n \
      \       \"refresh\": 1,\n        \"regex\": \"\",\n        \"sort\": 2,\n  \
      \      \"tagValuesQuery\": \"\",\n        \"tags\": [],\n        \"tagsQuery\"\
      : \"\",\n        \"type\": \"query\",\n        \"useTags\": false\n      }\n\
      \    ]\n  },\n  \"time\": {\n    \"from\": \"now-15m\",\n    \"to\": \"now\"\
      \n  },\n  \"timepicker\": {\n    \"refresh_intervals\": [\n      \"5s\",\n \
      \     \"10s\",\n      \"30s\",\n      \"1m\",\n      \"5m\",\n      \"15m\"\
      ,\n      \"30m\",\n      \"1h\",\n      \"2h\",\n      \"1d\"\n    ],\n    \"\
      time_options\": [\n      \"5m\",\n      \"15m\",\n      \"1h\",\n      \"6h\"\
      ,\n      \"12h\",\n      \"24h\",\n      \"2d\",\n      \"7d\",\n      \"30d\"\
      \n    ]\n  },\n  \"timezone\": \"\",\n  \"title\": \"Knative Serving - Revision\
      \ HTTP Requests\",\n  \"uid\": \"im_gFbWik\",\n  \"version\": 2\n}\n"
  kind: ConfigMap
  metadata:
    labels:
      serving.knative.dev/release: v0.8.0
    name: grafana-dashboard-definition-knative
    namespace: knative-monitoring
- apiVersion: v1
  data:
    prometheus.yaml: "datasources:\n - name: prometheus\n   type: prometheus\n   access:\
      \ proxy\n   org_id: 1\n   url: http://prometheus-system-np:8080\n   version:\
      \ 1\n   editable: false\n"
  kind: ConfigMap
  metadata:
    labels:
      serving.knative.dev/release: v0.8.0
    name: grafana-datasources
    namespace: knative-monitoring
- apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRoleBinding
  metadata:
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: elasticsearch-logging
      kubernetes.io/cluster-service: 'true'
    name: elasticsearch-logging
    namespace: knative-monitoring
  roleRef:
    apiGroup: ''
    kind: ClusterRole
    name: elasticsearch-logging
  subjects:
  - apiGroup: ''
    kind: ServiceAccount
    name: elasticsearch-logging
    namespace: knative-monitoring
- apiVersion: v1
  data:
    dashboards.yaml: "- name: 'knative'\n  org_id: 1\n  folder: ''\n  type: file\n\
      \  options:\n    folder: /grafana-dashboard-definition/knative\n- name: 'knative-efficiency'\n\
      \  org_id: 1\n  folder: ''\n  type: file\n  options:\n    folder: /grafana-dashboard-definition/knative-efficiency\n\
      - name: 'knative-reconciler'\n  org_id: 1\n  folder: ''\n  type: file\n  options:\n\
      \    folder: /grafana-dashboard-definition/knative-reconciler\n- name: 'istio'\n\
      \  org_id: 1\n  folder: ''\n  type: file\n  options:\n    folder: /grafana-dashboard-definition/istio\n\
      - name: 'mixer'\n  org_id: 1\n  folder: ''\n  type: file\n  options:\n    folder:\
      \ /grafana-dashboard-definition/mixer\n- name: 'pilot'\n  org_id: 1\n  folder:\
      \ ''\n  type: file\n  options:\n    folder: /grafana-dashboard-definition/pilot\n\
      - name: 'kubernetes-deployment'\n  org_id: 1\n  folder: ''\n  type: file\n \
      \ options:\n    folder: /grafana-dashboard-definition/kubernetes-deployment\n\
      - name: 'kubernetes-capacity-planning'\n  org_id: 1\n  folder: ''\n  type: file\n\
      \  options:\n    folder: /grafana-dashboard-definition/kubernetes-capacity-planning\n\
      - name: 'kubernetes-cluster-health'\n  org_id: 1\n  folder: ''\n  type: file\n\
      \  options:\n    folder: /grafana-dashboard-definition/kubernetes-cluster-health\n\
      - name: 'kubernetes-cluster-status'\n  org_id: 1\n  folder: ''\n  type: file\n\
      \  options:\n    folder: /grafana-dashboard-definition/kubernetes-cluster-status\n\
      - name: 'kubernetes-control-plane-status'\n  org_id: 1\n  folder: ''\n  type:\
      \ file\n  options:\n    folder: /grafana-dashboard-definition/kubernetes-control-plane-status\n\
      - name: 'kubernetes-resource-requests'\n  org_id: 1\n  folder: ''\n  type: file\n\
      \  options:\n    folder: /grafana-dashboard-definition/kubernetes-resource-requests\n\
      - name: 'kubernetes-nodes'\n  org_id: 1\n  folder: ''\n  type: file\n  options:\n\
      \    folder: /grafana-dashboard-definition/kubernetes-nodes\n- name: 'kubernetes-pods'\n\
      \  org_id: 1\n  folder: ''\n  type: file\n  options:\n    folder: /grafana-dashboard-definition/kubernetes-pods\n\
      - name: 'kubernetes-statefulset'\n  org_id: 1\n  folder: ''\n  type: file\n\
      \  options:\n    folder: /grafana-dashboard-definition/kubernetes-statefulset\n\
      - name: 'knative-serving-scaling'\n  org_id: 1\n  folder: ''\n  type: file\n\
      \  options:\n    folder: /grafana-dashboard-definition/scaling\n"
  kind: ConfigMap
  metadata:
    labels:
      serving.knative.dev/release: v0.8.0
    name: grafana-dashboards
    namespace: knative-monitoring
- apiVersion: v1
  kind: Service
  metadata:
    labels:
      app: grafana
      serving.knative.dev/release: v0.8.0
    name: grafana
    namespace: knative-monitoring
  spec:
    ports:
    - port: 30802
      protocol: TCP
      targetPort: 3000
    selector:
      app: grafana
    type: NodePort
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      serving.knative.dev/release: v0.8.0
    name: grafana
    namespace: knative-monitoring
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: grafana
    template:
      metadata:
        labels:
          app: grafana
          serving.knative.dev/release: v0.8.0
      spec:
        containers:
        - image: quay.io/coreos/monitoring-grafana:5.0.3
          name: grafana
          ports:
          - containerPort: 3000
            name: web
          resources:
            limits:
              cpu: 200m
              memory: 200Mi
            requests:
              cpu: 100m
              memory: 100Mi
          volumeMounts:
          - mountPath: /data
            name: grafana-storage
          - mountPath: /grafana/conf/provisioning/datasources
            name: grafana-datasources
          - mountPath: /grafana/conf/provisioning/dashboards
            name: grafana-dashboards
          - mountPath: /grafana-dashboard-definition/knative
            name: grafana-dashboard-definition-knative
          - mountPath: /grafana-dashboard-definition/knative-efficiency
            name: grafana-dashboard-definition-knative-efficiency
          - mountPath: /grafana-dashboard-definition/knative-reconciler
            name: grafana-dashboard-definition-knative-reconciler
          - mountPath: /grafana-dashboard-definition/kubernetes-deployment
            name: grafana-dashboard-definition-kubernetes-deployment
          - mountPath: /grafana-dashboard-definition/kubernetes-capacity-planning
            name: grafana-dashboard-definition-kubernetes-capacity-planning
          - mountPath: /grafana-dashboard-definition/kubernetes-cluster-health
            name: grafana-dashboard-definition-kubernetes-cluster-health
          - mountPath: /grafana-dashboard-definition/kubernetes-cluster-status
            name: grafana-dashboard-definition-kubernetes-cluster-status
          - mountPath: /grafana-dashboard-definition/kubernetes-control-plane-status
            name: grafana-dashboard-definition-kubernetes-control-plane-status
          - mountPath: /grafana-dashboard-definition/kubernetes-resource-requests
            name: grafana-dashboard-definition-kubernetes-resource-requests
          - mountPath: /grafana-dashboard-definition/kubernetes-nodes
            name: grafana-dashboard-definition-kubernetes-nodes
          - mountPath: /grafana-dashboard-definition/kubernetes-pods
            name: grafana-dashboard-definition-kubernetes-pods
          - mountPath: /grafana-dashboard-definition/kubernetes-statefulset
            name: grafana-dashboard-definition-kubernetes-statefulset
          - mountPath: /grafana-dashboard-definition/scaling
            name: scaling-config
        securityContext:
          runAsNonRoot: true
          runAsUser: 65534
        volumes:
        - emptyDir: {}
          name: grafana-storage
        - configMap:
            name: grafana-datasources
          name: grafana-datasources
        - configMap:
            name: grafana-dashboards
          name: grafana-dashboards
        - configMap:
            name: grafana-dashboard-definition-knative
          name: grafana-dashboard-definition-knative
        - configMap:
            name: grafana-dashboard-definition-knative-efficiency
          name: grafana-dashboard-definition-knative-efficiency
        - configMap:
            name: grafana-dashboard-definition-knative-reconciler
          name: grafana-dashboard-definition-knative-reconciler
        - configMap:
            name: grafana-dashboard-definition-kubernetes-deployment
          name: grafana-dashboard-definition-kubernetes-deployment
        - configMap:
            name: grafana-dashboard-definition-kubernetes-capacity-planning
          name: grafana-dashboard-definition-kubernetes-capacity-planning
        - configMap:
            name: grafana-dashboard-definition-kubernetes-cluster-health
          name: grafana-dashboard-definition-kubernetes-cluster-health
        - configMap:
            name: grafana-dashboard-definition-kubernetes-cluster-status
          name: grafana-dashboard-definition-kubernetes-cluster-status
        - configMap:
            name: grafana-dashboard-definition-kubernetes-control-plane-status
          name: grafana-dashboard-definition-kubernetes-control-plane-status
        - configMap:
            name: grafana-dashboard-definition-kubernetes-resource-requests
          name: grafana-dashboard-definition-kubernetes-resource-requests
        - configMap:
            name: grafana-dashboard-definition-kubernetes-nodes
          name: grafana-dashboard-definition-kubernetes-nodes
        - configMap:
            name: grafana-dashboard-definition-kubernetes-pods
          name: grafana-dashboard-definition-kubernetes-pods
        - configMap:
            name: grafana-dashboard-definition-kubernetes-statefulset
          name: grafana-dashboard-definition-kubernetes-statefulset
        - configMap:
            name: scaling-config
          name: scaling-config
- apiVersion: v1
  data:
    prometheus.yml: "global:\n  scrape_interval: 30s\n  scrape_timeout: 10s\n  evaluation_interval:\
      \ 30s\nscrape_configs:\n# Controller endpoint\n- job_name: controller\n  scrape_interval:\
      \ 3s\n  scrape_timeout: 3s\n  kubernetes_sd_configs:\n  - role: pod\n  relabel_configs:\n\
      \  # Scrape only the the targets matching the following metadata\n  - source_labels:\
      \ [__meta_kubernetes_namespace, __meta_kubernetes_pod_label_app, __meta_kubernetes_pod_container_port_name]\n\
      \    action: keep\n    regex: knative-serving;controller;metrics\n  # Rename\
      \ metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Autoscaler endpoint\n- job_name: autoscaler\n\
      \  scrape_interval: 3s\n  scrape_timeout: 3s\n  kubernetes_sd_configs:\n  -\
      \ role: pod\n  relabel_configs:\n  # Scrape only the the targets matching the\
      \ following metadata\n  - source_labels: [__meta_kubernetes_namespace, __meta_kubernetes_pod_label_app,\
      \ __meta_kubernetes_pod_container_port_name]\n    action: keep\n    regex: knative-serving;autoscaler;metrics\n\
      \  # Rename metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Activator pods\n- job_name: activator\n  scrape_interval:\
      \ 3s\n  scrape_timeout: 3s\n  kubernetes_sd_configs:\n  - role: pod\n  relabel_configs:\n\
      \  # Scrape only the the targets matching the following metadata\n  - source_labels:\
      \ [__meta_kubernetes_namespace, __meta_kubernetes_pod_label_app, __meta_kubernetes_pod_container_port_name]\n\
      \    action: keep\n    regex: knative-serving;activator;metrics-port\n  # Rename\
      \ metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Webhook pods\n- job_name: webhook\n  scrape_interval:\
      \ 3s\n  scrape_timeout: 3s\n  kubernetes_sd_configs:\n  - role: pod\n  relabel_configs:\n\
      \  # Scrape only the the targets matching the following metadata\n  - source_labels:\
      \ [__meta_kubernetes_namespace, __meta_kubernetes_pod_label_role, __meta_kubernetes_pod_container_port_name]\n\
      \    action: keep\n    regex: knative-serving;webhook;metrics-port\n  # Rename\
      \ metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Queue proxy metrics\n- job_name: queue-proxy\n\
      \  scrape_interval: 3s\n  scrape_timeout: 3s\n  kubernetes_sd_configs:\n  -\
      \ role: pod\n  relabel_configs:\n  # Scrape only the the targets matching the\
      \ following metadata\n  - source_labels: [__meta_kubernetes_pod_label_serving_knative_dev_revision,\
      \ __meta_kubernetes_pod_container_port_name]\n    action: keep\n    regex: .+;user-metrics\n\
      \  # Rename metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Fluentd daemonset\n- job_name: fluentd-ds\n  kubernetes_sd_configs:\n\
      \  - role: endpoints\n  relabel_configs:\n  # Scrape only the the targets matching\
      \ the following metadata\n  - source_labels: [__meta_kubernetes_namespace, __meta_kubernetes_service_label_app,\
      \ __meta_kubernetes_endpoint_port_name]\n    action: keep\n    regex: knative-monitoring;fluentd-ds;prometheus-metrics\n\
      \  # Rename metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Istio mesh\n- job_name: istio-mesh\n  scrape_interval:\
      \ 5s\n  kubernetes_sd_configs:\n  - role: endpoints\n  relabel_configs:\n  #\
      \ Scrape only the the targets matching the following metadata\n  - source_labels:\
      \ [__meta_kubernetes_namespace, __meta_kubernetes_service_name, __meta_kubernetes_endpoint_port_name]\n\
      \    action: keep\n    regex: istio-system;istio-telemetry;prometheus\n  # Rename\
      \ metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Istio Envoy\n# These are very noisy and not enabled\
      \ by default.\n# - job_name: istio-envoy\n#   scrape_interval: 5s\n#   kubernetes_sd_configs:\n\
      #   - role: endpoints\n#   relabel_configs:\n#   # Scrape only the the targets\
      \ matching the following metadata\n#   - source_labels: [__meta_kubernetes_namespace,\
      \ __meta_kubernetes_service_name, __meta_kubernetes_endpoint_port_name]\n# \
      \    action: keep\n#     regex: istio-system;istio-statsd-prom-bridge;statsd-prom\n\
      #   # Rename metadata labels to be reader friendly\n#   - source_labels: [__meta_kubernetes_namespace]\n\
      #     target_label: namespace\n#   - source_labels: [__meta_kubernetes_pod_name]\n\
      #     target_label: pod\n#   - source_labels: [__meta_kubernetes_service_name]\n\
      #     target_label: service\n# Istio policy\n- job_name: istio-policy\n  scrape_interval:\
      \ 5s\n  kubernetes_sd_configs:\n  - role: endpoints\n  relabel_configs:\n  #\
      \ Scrape only the the targets matching the following metadata\n  - source_labels:\
      \ [__meta_kubernetes_namespace, __meta_kubernetes_service_name, __meta_kubernetes_endpoint_port_name]\n\
      \    action: keep\n    regex: istio-system;istio-policy;http-monitoring\n  #\
      \ Rename metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Istio telemetry\n- job_name: istio-telemetry\n\
      \  scrape_interval: 5s\n  kubernetes_sd_configs:\n  - role: endpoints\n  relabel_configs:\n\
      \  # Scrape only the the targets matching the following metadata\n  - source_labels:\
      \ [__meta_kubernetes_namespace, __meta_kubernetes_service_name, __meta_kubernetes_endpoint_port_name]\n\
      \    action: keep\n    regex: istio-system;istio-telemetry;http-monitoring\n\
      \  # Rename metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Istio pilot\n- job_name: istio-pilot\n  scrape_interval:\
      \ 5s\n  kubernetes_sd_configs:\n  - role: endpoints\n  relabel_configs:\n  #\
      \ Scrape only the the targets matching the following metadata\n  - source_labels:\
      \ [__meta_kubernetes_namespace, __meta_kubernetes_service_name, __meta_kubernetes_endpoint_port_name]\n\
      \    action: keep\n    regex: istio-system;istio-pilot;http-monitoring\n  #\
      \ Rename metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Kube API server\n- job_name: kube-apiserver\n\
      \  scheme: https\n  kubernetes_sd_configs:\n  - role: endpoints\n  bearer_token_file:\
      \ /var/run/secrets/kubernetes.io/serviceaccount/token\n  tls_config:\n    ca_file:\
      \ /var/run/secrets/kubernetes.io/serviceaccount/ca.crt\n    server_name: kubernetes\n\
      \    insecure_skip_verify: false\n  relabel_configs:\n  # Scrape only the the\
      \ targets matching the following metadata\n  - source_labels: [__meta_kubernetes_namespace,\
      \ __meta_kubernetes_service_label_component, __meta_kubernetes_service_label_provider,\
      \ __meta_kubernetes_endpoint_port_name]\n    action: keep\n    regex: default;apiserver;kubernetes;https\n\
      \  # Rename metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Kube controller manager\n- job_name: kube-controller-manager\n\
      \  kubernetes_sd_configs:\n  - role: endpoints\n  relabel_configs:\n  # Scrape\
      \ only the the targets matching the following metadata\n  - source_labels: [__meta_kubernetes_namespace,\
      \ __meta_kubernetes_service_label_app, __meta_kubernetes_endpoint_port_name]\n\
      \    action: keep\n    regex: knative-monitoring;kube-controller-manager;http-metrics\n\
      \  # Rename metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Kube scheduler\n- job_name: kube-scheduler\n \
      \ kubernetes_sd_configs:\n  - role: endpoints\n  relabel_configs:\n  # Scrape\
      \ only the the targets matching the following metadata\n  - source_labels: [__meta_kubernetes_namespace,\
      \ __meta_kubernetes_service_label_k8s_app, __meta_kubernetes_endpoint_port_name]\n\
      \    action: keep\n    regex: kube-system;kube-scheduler;http-metrics\n  # Rename\
      \ metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Kube state metrics on https-main port\n- job_name:\
      \ kube-state-metrics-https-main\n  honor_labels: true\n  scheme: https\n  kubernetes_sd_configs:\n\
      \  - role: endpoints\n  bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token\n\
      \  tls_config:\n    insecure_skip_verify: true\n  relabel_configs:\n  # Scrape\
      \ only the the targets matching the following metadata\n  - source_labels: [__meta_kubernetes_namespace,\
      \ __meta_kubernetes_service_label_app, __meta_kubernetes_endpoint_port_name]\n\
      \    action: keep\n    regex: knative-monitoring;kube-state-metrics;https-main\n\
      \  # Rename metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Kube state metrics on https-self port\n- job_name:\
      \ kube-state-metrics-https-self\n  scheme: https\n  kubernetes_sd_configs:\n\
      \  - role: endpoints\n  bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token\n\
      \  tls_config:\n    insecure_skip_verify: true\n  relabel_configs:\n  # Scrape\
      \ only the the targets matching the following metadata\n  - source_labels: [__meta_kubernetes_namespace,\
      \ __meta_kubernetes_service_label_app, __meta_kubernetes_endpoint_port_name]\n\
      \    action: keep\n    regex: knative-monitoring;kube-state-metrics;https-self\n\
      \  # Rename metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Kubelet - nodes\n# Rather than connecting directly\
      \ to the node, the scrape is proxied though the\n# Kubernetes apiserver.  This\
      \ means it will work if Prometheus is running out of\n# cluster, or can't connect\
      \ to nodes for some other reason (e.g. because of\n# firewalling).\n- job_name:\
      \ kubernetes-nodes\n  scheme: https\n  tls_config:\n    ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt\n\
      \  bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token\n\
      \  kubernetes_sd_configs:\n  - role: node\n  relabel_configs:\n  - action: labelmap\n\
      \    regex: __meta_kubernetes_node_label_(.+)\n  - target_label: __address__\n\
      \    replacement: kubernetes.default.svc:443\n  - source_labels: [__meta_kubernetes_node_name]\n\
      \    target_label: __metrics_path__\n    replacement: /api/v1/nodes/${1}/proxy/metrics\n\
      # Kubelet - cAdvisor\n#\n# This is required for Kubernetes 1.7.3 and later,\
      \ where cAdvisor metrics\n# (those whose names begin with 'container_') have\
      \ been removed from the\n# Kubelet metrics endpoint.  This job scrapes the cAdvisor\
      \ endpoint to\n# retrieve those metrics.\n#\n# In Kubernetes 1.7.0-1.7.2, these\
      \ metrics are only exposed on the cAdvisor\n# HTTP endpoint; use \"replacement:\
      \ /api/v1/nodes/${1}:4194/proxy/metrics\"\n# in that case (and ensure cAdvisor's\
      \ HTTP server hasn't been disabled with\n# the --cadvisor-port=0 Kubelet flag).\n\
      - job_name: kubernetes-cadvisor\n  scrape_interval: 15s\n  scheme: https\n \
      \ tls_config:\n    ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt\n\
      \  bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token\n\
      \  kubernetes_sd_configs:\n  - role: node\n  relabel_configs:\n  - action: labelmap\n\
      \    regex: __meta_kubernetes_node_label_(.+)\n  - target_label: __address__\n\
      \    replacement: kubernetes.default.svc:443\n  - source_labels: [__meta_kubernetes_node_name]\n\
      \    target_label: __metrics_path__\n    replacement: /api/v1/nodes/${1}/proxy/metrics/cadvisor\n\
      # Node exporter\n- job_name: node-exporter\n  scheme: https\n  kubernetes_sd_configs:\n\
      \  - role: endpoints\n  bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token\n\
      \  tls_config:\n    insecure_skip_verify: true\n  relabel_configs:\n  # Scrape\
      \ only the the targets matching the following metadata\n  - source_labels: [__meta_kubernetes_namespace,\
      \ __meta_kubernetes_service_label_app, __meta_kubernetes_endpoint_port_name]\n\
      \    action: keep\n    regex: knative-monitoring;node-exporter;https\n  # Rename\
      \ metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Prometheus\n- job_name: prometheus\n  kubernetes_sd_configs:\n\
      \  - role: endpoints\n  relabel_configs:\n  # Scrape only the the targets matching\
      \ the following metadata\n  - source_labels: [__meta_kubernetes_namespace, __meta_kubernetes_service_label_app,\
      \ __meta_kubernetes_endpoint_port_name]\n    action: keep\n    regex: knative-monitoring;prometheus;web\n\
      \  # Rename metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n\n- job_name: kubernetes-service-endpoints\n  kubernetes_sd_configs:\n\
      \  - role: endpoints\n  relabel_configs:\n  - action: keep\n    regex: true\n\
      \    source_labels:\n    - __meta_kubernetes_service_annotation_prometheus_io_scrape\n\
      \  - action: replace\n    regex: ([^:]+)(?::\\d+)?;(\\d+)\n    replacement:\
      \ $1:$2\n    source_labels:\n    - __address__\n    - __meta_kubernetes_service_annotation_prometheus_io_port\n\
      \    target_label: __address__\n  - action: labelmap\n    regex: __meta_kubernetes_service_label_(.+)\n\
      \  - action: replace\n    source_labels:\n    - __meta_kubernetes_namespace\n\
      \    target_label: kubernetes_namespace\n  - action: replace\n    source_labels:\n\
      \    - __meta_kubernetes_service_name\n    target_label: kubernetes_name"
  kind: ConfigMap
  metadata:
    labels:
      name: prometheus-scrape-config
      serving.knative.dev/release: v0.8.0
    name: prometheus-scrape-config
    namespace: knative-monitoring
- apiVersion: v1
  kind: Service
  metadata:
    labels:
      app: kube-controller-manager
      serving.knative.dev/release: v0.8.0
    name: kube-controller-manager
    namespace: knative-monitoring
  spec:
    clusterIP: None
    ports:
    - name: http-metrics
      port: 10252
      protocol: TCP
      targetPort: 10252
    selector:
      k8s-app: kube-controller-manager
    type: ClusterIP
- apiVersion: v1
  kind: Service
  metadata:
    labels:
      app: prometheus
      serving.knative.dev/release: v0.8.0
    name: prometheus-system-discovery
    namespace: knative-monitoring
  spec:
    clusterIP: None
    ports:
    - name: web
      port: 9090
      protocol: TCP
      targetPort: web
    selector:
      app: prometheus
    sessionAffinity: None
    type: ClusterIP
- apiVersion: v1
  kind: ServiceAccount
  metadata:
    labels:
      serving.knative.dev/release: v0.8.0
    name: prometheus-system
    namespace: knative-monitoring
- apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    labels:
      serving.knative.dev/release: v0.8.0
    name: prometheus-system
    namespace: default
  rules:
  - apiGroups:
    - ''
    resources:
    - nodes
    - services
    - endpoints
    - pods
    verbs:
    - get
    - list
    - watch
  - apiGroups:
    - ''
    resources:
    - configmaps
    verbs:
    - get
- apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    labels:
      serving.knative.dev/release: v0.8.0
    name: prometheus-system
    namespace: knative-monitoring
  rules:
  - apiGroups:
    - ''
    resources:
    - nodes
    - services
    - endpoints
    - pods
    verbs:
    - get
    - list
    - watch
  - apiGroups:
    - ''
    resources:
    - configmaps
    verbs:
    - get
- apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    labels:
      serving.knative.dev/release: v0.8.0
    name: prometheus-system
    namespace: kube-system
  rules:
  - apiGroups:
    - ''
    resources:
    - services
    - endpoints
    - pods
    verbs:
    - get
    - list
    - watch
- apiVersion: apps/v1
  kind: StatefulSet
  metadata:
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: elasticsearch-logging
      kubernetes.io/cluster-service: 'true'
      version: v5.6.4
    name: elasticsearch-logging
    namespace: knative-monitoring
  spec:
    replicas: 2
    selector:
      matchLabels:
        app: elasticsearch-logging
        version: v5.6.4
    serviceName: elasticsearch-logging
    template:
      metadata:
        labels:
          app: elasticsearch-logging
          kubernetes.io/cluster-service: 'true'
          version: v5.6.4
      spec:
        containers:
        - env:
          - name: NAMESPACE
            valueFrom:
              fieldRef:
                fieldPath: metadata.namespace
          image: k8s.gcr.io/elasticsearch:v5.6.4
          name: elasticsearch-logging
          ports:
          - containerPort: 9200
            name: db
            protocol: TCP
          - containerPort: 9300
            name: transport
            protocol: TCP
          resources:
            limits:
              cpu: 1000m
            requests:
              cpu: 100m
          volumeMounts:
          - mountPath: /data
            name: elasticsearch-logging
        initContainers:
        - command:
          - /sbin/sysctl
          - -w
          - vm.max_map_count=262144
          image: alpine:3.6
          name: elasticsearch-logging-init
          securityContext:
            privileged: true
        serviceAccountName: elasticsearch-logging
        volumes:
        - emptyDir: {}
          name: elasticsearch-logging
- apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    labels:
      serving.knative.dev/release: v0.8.0
    name: prometheus-system
    namespace: istio-system
  rules:
  - apiGroups:
    - ''
    resources:
    - nodes/metrics
    - nodes
    - services
    - endpoints
    - pods
    verbs:
    - get
    - list
    - watch
  - apiGroups:
    - ''
    resources:
    - configmaps
    verbs:
    - get
- apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRole
  metadata:
    labels:
      serving.knative.dev/release: v0.8.0
    name: prometheus-system
    namespace: knative-monitoring
  rules:
  - apiGroups:
    - ''
    resources:
    - nodes/metrics
    - nodes
    - services
    - endpoints
    - pods
    - nodes/proxy
    verbs:
    - get
    - list
    - watch
  - apiGroups:
    - ''
    resources:
    - configmaps
    verbs:
    - get
  - nonResourceURLs:
    - /metrics
    verbs:
    - get
- apiVersion: rbac.authorization.k8s.io/v1
  kind: RoleBinding
  metadata:
    labels:
      serving.knative.dev/release: v0.8.0
    name: prometheus-system
    namespace: default
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: Role
    name: prometheus-system
  subjects:
  - kind: ServiceAccount
    name: prometheus-system
    namespace: knative-monitoring
- apiVersion: rbac.authorization.k8s.io/v1
  kind: RoleBinding
  metadata:
    labels:
      serving.knative.dev/release: v0.8.0
    name: prometheus-system
    namespace: knative-monitoring
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: Role
    name: prometheus-system
  subjects:
  - kind: ServiceAccount
    name: prometheus-system
    namespace: knative-monitoring
- apiVersion: rbac.authorization.k8s.io/v1
  kind: RoleBinding
  metadata:
    labels:
      serving.knative.dev/release: v0.8.0
    name: prometheus-system
    namespace: kube-system
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: Role
    name: prometheus-system
  subjects:
  - kind: ServiceAccount
    name: prometheus-system
    namespace: knative-monitoring
- apiVersion: rbac.authorization.k8s.io/v1
  kind: RoleBinding
  metadata:
    labels:
      serving.knative.dev/release: v0.8.0
    name: prometheus-system
    namespace: istio-system
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: Role
    name: prometheus-system
  subjects:
  - kind: ServiceAccount
    name: prometheus-system
    namespace: knative-monitoring
- apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRoleBinding
  metadata:
    labels:
      serving.knative.dev/release: v0.8.0
    name: prometheus-system
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: ClusterRole
    name: prometheus-system
  subjects:
  - kind: ServiceAccount
    name: prometheus-system
    namespace: knative-monitoring
- apiVersion: v1
  kind: Service
  metadata:
    labels:
      serving.knative.dev/release: v0.8.0
    name: prometheus-system-np
    namespace: knative-monitoring
  spec:
    ports:
    - port: 8080
      targetPort: 9090
    selector:
      app: prometheus
    type: NodePort
- apiVersion: apps/v1
  kind: StatefulSet
  metadata:
    labels:
      serving.knative.dev/release: v0.8.0
    name: prometheus-system
    namespace: knative-monitoring
  spec:
    podManagementPolicy: Parallel
    replicas: 2
    selector:
      matchLabels:
        app: prometheus
    serviceName: prometheus-system
    template:
      metadata:
        labels:
          app: prometheus
          serving.knative.dev/release: v0.8.0
      spec:
        containers:
        - args:
          - --config.file=/etc/prometheus/prometheus.yml
          - --storage.tsdb.path=/prometheus
          - --storage.tsdb.retention=2d
          - --storage.tsdb.no-lockfile
          - --web.enable-lifecycle
          - --web.route-prefix=/
          image: prom/prometheus:v2.2.1
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 10
            httpGet:
              path: /-/healthy
              port: web
              scheme: HTTP
            initialDelaySeconds: 30
            timeoutSeconds: 3
          name: prometheus
          ports:
          - containerPort: 9090
            name: web
            protocol: TCP
          readinessProbe:
            failureThreshold: 10
            httpGet:
              path: /-/ready
              port: web
              scheme: HTTP
            timeoutSeconds: 3
          resources:
            limits:
              memory: 1000Mi
            requests:
              memory: 400Mi
          terminationMessagePath: /dev/termination-log
          volumeMounts:
          - mountPath: /etc/prometheus
            name: prometheus-config-volume
          - mountPath: /prometheus
            name: prometheus-storage-volume
        serviceAccountName: prometheus-system
        terminationGracePeriodSeconds: 600
        volumes:
        - configMap:
            defaultMode: 420
            name: prometheus-scrape-config
          name: prometheus-config-volume
        - emptyDir: {}
          name: prometheus-storage-volume
    updateStrategy:
      type: RollingUpdate
- apiVersion: v1
  kind: Service
  metadata:
    labels:
      serving.knative.dev/release: v0.8.0
    name: zipkin
    namespace: istio-system
  spec:
    ports:
    - name: http
      port: 9411
    selector:
      app: zipkin
- apiVersion: v1
  kind: Service
  metadata:
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: kibana-logging
      kubernetes.io/cluster-service: 'true'
      kubernetes.io/name: Kibana
    name: kibana-logging
    namespace: knative-monitoring
  spec:
    ports:
    - port: 5601
      protocol: TCP
      targetPort: ui
    selector:
      app: kibana-logging
    type: NodePort
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      serving.knative.dev/release: v0.8.0
    name: zipkin
    namespace: istio-system
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: zipkin
    template:
      metadata:
        annotations:
          sidecar.istio.io/inject: 'false'
        labels:
          app: zipkin
          serving.knative.dev/release: v0.8.0
      spec:
        containers:
        - env:
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: STORAGE_TYPE
            value: elasticsearch
          - name: ES_HOSTS
            value: elasticsearch-logging.knative-monitoring.svc.cluster.local:9200
          - name: ES_INDEX
            value: zipkin
          - name: ZIPKIN_UI_LOGS_URL
            value: http://localhost:8001/api/v1/namespaces/knative-monitoring/services/kibana-logging/proxy/app/kibana#/
          image: docker.io/openzipkin/zipkin:2.13.0
          imagePullPolicy: IfNotPresent
          name: zipkin
          ports:
          - containerPort: 9411
          resources:
            limits:
              memory: 1000Mi
            requests:
              memory: 256Mi
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: kibana-logging
      kubernetes.io/cluster-service: 'true'
    name: kibana-logging
    namespace: knative-monitoring
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: kibana-logging
    template:
      metadata:
        labels:
          app: kibana-logging
      spec:
        containers:
        - env:
          - name: ELASTICSEARCH_URL
            value: http://elasticsearch-logging:9200
          - name: SERVER_BASEPATH
            value: /api/v1/namespaces/knative-monitoring/services/kibana-logging/proxy
          - name: XPACK_MONITORING_ENABLED
            value: 'false'
          - name: XPACK_SECURITY_ENABLED
            value: 'false'
          image: docker.elastic.co/kibana/kibana:5.6.4
          name: kibana-logging
          ports:
          - containerPort: 5601
            name: ui
            protocol: TCP
          resources:
            limits:
              cpu: 1000m
            requests:
              cpu: 100m
- apiVersion: v1
  data:
    100.system.conf: "<system>\n  root_dir /tmp/fluentd-buffers/\n</system>"
    200.containers.input.conf: "# Capture logs from container's stdout/stderr -> Docker\
      \ -> .log in JSON format\n<source>\n  @id containers-stdout-stderr\n  @type\
      \ tail\n  path /var/log/containers/*user-container-*.log,/var/log/containers/*build-step-*.log,/var/log/containers/controller-*controller-*.log,/var/log/containers/webhook-*webhook-*.log,/var/log/containers/*autoscaler-*autoscaler-*.log,/var/log/containers/*queue-proxy-*.log,/var/log/containers/activator-*activator-*.log\n\
      \  pos_file /var/log/containers-stdout-stderr.pos\n  time_format %Y-%m-%dT%H:%M:%S.%NZ\n\
      \  tag raw.kubernetes.*\n  format json\n  read_from_head true\n</source>\n#\
      \ Capture logs from Knative containers' /var/log\n<source>\n  @id containers-var-log\n\
      \  @type tail\n  # **/*/**/* allows path expansion to go through one symlink\
      \ (the one created by the init container)\n  path /var/lib/kubelet/pods/*/volumes/kubernetes.io~empty-dir/knative-internal/**/*/**/*\n\
      \  path_key stream\n  pos_file /var/log/containers-var-log.pos\n  tag raw.kubernetes.*\n\
      \  message_key log\n  read_from_head true\n  <parse>\n    @type multi_format\n\
      \    <pattern>\n      format json\n      time_key fluentd-time # fluentd-time\
      \ is reserved for structured logs\n      time_format %Y-%m-%dT%H:%M:%S.%NZ\n\
      \    </pattern>\n    <pattern>\n      format none\n      message_key log\n \
      \   </pattern>\n  </parse>\n</source>\n# Combine multi line logs which form\
      \ an exception stack trace into a single log entry\n<match raw.kubernetes.**>\n\
      \  @id raw.kubernetes\n  @type detect_exceptions\n  remove_tag_prefix raw\n\
      \  message log\n  stream stream\n  multiline_flush_interval 5\n  max_bytes 500000\n\
      \  max_lines 1000\n</match>\n# Make stream path correct from the container's\
      \ point of view\n<filter kubernetes.var.lib.kubelet.pods.*.volumes.kubernetes.io~empty-dir.knative-internal.*.**>\n\
      \  @type record_transformer\n  enable_ruby true\n  <record>\n    stream /var/log/${record[\"\
      stream\"].scan(/\\/knative-internal\\/[^\\/]+\\/(.*)/).last.last}\n  </record>\n\
      </filter>\n# Add Kubernetes metadata to logs from /var/log/containers\n<filter\
      \ kubernetes.var.log.containers.**>\n  @type kubernetes_metadata\n</filter>\n\
      # Add Kubernetes metadata to logs from /var/lib/kubelet/pods/*/volumes/kubernetes.io~empty-dir/knative-internal/**/*/**/*\n\
      <filter kubernetes.var.lib.kubelet.pods.**>\n  @type kubernetes_metadata\n \
      \ tag_to_kubernetes_name_regexp (?<docker_id>[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12})\\\
      .volumes.kubernetes\\.io~empty-dir\\.knative-internal\\.(?<namespace>[^_]+)_(?<pod_name>[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\\
      .[a-z0-9]([-a-z0-9]*[a-z0-9])?)*)_(?<container_name>user-container)\\..*?$\n\
      </filter>"
    300.forward.input.conf: "# Takes the messages sent over TCP, e.g. request logs\
      \ from Istio\n<source>\n  @type forward\n  port 24224\n</source>"
    900.output.conf: "# Send to Elastic Search\n<match **>\n  @id elasticsearch\n\
      \  @type elasticsearch\n  @log_level info\n  host elasticsearch-logging\n  port\
      \ 9200\n  logstash_format true\n  <buffer>\n    @type file\n    path /var/log/fluentd-buffers/kubernetes.system.buffer\n\
      \    flush_mode interval\n    retry_type exponential_backoff\n    flush_thread_count\
      \ 2\n    flush_interval 5s\n    retry_forever\n    retry_max_interval 30\n \
      \   chunk_limit_size 2M\n    queue_limit_length 8\n    overflow_action block\n\
      \  </buffer>\n</match>"
  kind: ConfigMap
  metadata:
    labels:
      serving.knative.dev/release: v0.8.0
    name: fluentd-ds-config
    namespace: knative-monitoring
- apiVersion: v1
  kind: ServiceAccount
  metadata:
    labels:
      app: fluentd-ds
      serving.knative.dev/release: v0.8.0
    name: fluentd-ds
    namespace: knative-monitoring
kind: List
labels:
