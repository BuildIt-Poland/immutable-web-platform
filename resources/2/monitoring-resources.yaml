apiVersion: v1
items:
- apiVersion: v1
  kind: Namespace
  metadata:
    labels:
      kubenix/project-name: kubenix
    name: knative-monitoring
    namespace: default
- apiVersion: apps/v1beta1
  kind: Deployment
  metadata:
    annotations:
      cloud.weave.works/launcher-info: "{\n  \"server-version\": \"master-4fe8efe\"\
        ,\n  \"original-request\": {\n    \"url\": \"/k8s/v1.7/scope.yaml\"\n  },\n\
        \  \"email-address\": \"support@weave.works\",\n  \"source-app\": \"weave-scope\"\
        ,\n  \"weave-cloud-component\": \"scope\"\n}"
    labels:
      app: weave-scope
      chart: weave-scope-frontend-1.1.2
      component: frontend
      heritage: Tiller
      kubenix/project-name: kubenix
      release: weave-scope
    name: weave-scope-frontend-weave-scope
    namespace: istio-system
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: weave-scope
        component: frontend
        release: weave-scope
    template:
      metadata:
        labels:
          app: weave-scope
          chart: weave-scope-frontend-1.1.2
          component: frontend
          heritage: Tiller
          release: weave-scope
      spec:
        containers:
        - args:
          - --no-probe
          image: weaveworks/scope:1.11.2
          imagePullPolicy: IfNotPresent
          name: weave-scope-frontend
          ports:
          - containerPort: 4040
            name: http
            protocol: TCP
- apiVersion: apps/v1beta2
  kind: Deployment
  metadata:
    labels:
      app: grafana
      chart: grafana-3.8.7
      heritage: Tiller
      kubenix/project-name: kubenix
      release: grafana
    name: grafana
    namespace: knative-monitoring
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: grafana
        release: grafana
    strategy:
      type: RollingUpdate
    template:
      metadata:
        annotations:
          checksum/config: 00957712bb25e533b78dde0c8ac465722519bfe1b2208d49c9c19f0e8b1a1a5f
          checksum/dashboards-json-config: 01ba4719c80b6fe911b091a7c05124b64eeece964e09c058ef8f9805daca546b
          checksum/sc-dashboard-provider-config: 263e72d9991ee094304493e8397218680ed85e034dc2ac173727b7348ce05118
          checksum/secret: 86f66cdb0bb963b8c1eb2911ac2f6bd18d72e679fd5f849a94692fc356a6dc6a
        labels:
          app: grafana
          release: grafana
      spec:
        containers:
        - env:
          - name: GF_SECURITY_ADMIN_PASSWORD
            valueFrom:
              secretKeyRef:
                key: admin-password
                name: grafana
          - name: GF_SECURITY_ADMIN_USER
            valueFrom:
              secretKeyRef:
                key: admin-user
                name: grafana
          image: grafana/grafana:6.3.4
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 10
            httpGet:
              path: /api/health
              port: 3000
            initialDelaySeconds: 60
            timeoutSeconds: 30
          name: grafana
          ports:
          - containerPort: 3000
            name: grafana
            protocol: TCP
          - containerPort: 80
            name: service
            protocol: TCP
          readinessProbe:
            httpGet:
              path: /api/health
              port: 3000
          resources: {}
          volumeMounts:
          - mountPath: /etc/grafana/grafana.ini
            name: config
            subPath: grafana.ini
          - mountPath: /etc/grafana/ldap.toml
            name: ldap
            subPath: ldap.toml
          - mountPath: /etc/grafana/provisioning/dashboards/sc-dashboardproviders.yaml
            name: sc-dashboard-provider
            subPath: provider.yaml
          - mountPath: /etc/grafana/provisioning/datasources
            name: sc-datasources-volume
          - mountPath: /tmp/dashboards
            name: sc-dashboard-volume
          - mountPath: /var/lib/grafana
            name: storage
        - env:
          - name: FOLDER
            value: /tmp/dashboards
          - name: LABEL
            value: grafana_dashboard
          - name: RESOURCE
            value: both
          image: kiwigrid/k8s-sidecar:0.1.20
          imagePullPolicy: IfNotPresent
          name: grafana-sc-dashboard
          resources: {}
          volumeMounts:
          - mountPath: /tmp/dashboards
            name: sc-dashboard-volume
        initContainers:
        - env:
          - name: FOLDER
            value: /etc/grafana/provisioning/datasources
          - name: LABEL
            value: grafana_datasource
          - name: METHOD
            value: LIST
          - name: RESOURCE
            value: both
          image: kiwigrid/k8s-sidecar:0.1.20
          imagePullPolicy: IfNotPresent
          name: grafana-sc-datasources
          resources: {}
          volumeMounts:
          - mountPath: /etc/grafana/provisioning/datasources
            name: sc-datasources-volume
        securityContext:
          fsGroup: 472
          runAsUser: 472
        serviceAccountName: grafana
        volumes:
        - configMap:
            name: grafana
          name: config
        - name: ldap
          secret:
            items:
            - key: ldap-toml
              path: ldap.toml
            secretName: grafana
        - configMap:
            name: grafana-config-dashboards
          name: sc-dashboard-provider
        - emptyDir: {}
          name: sc-dashboard-volume
        - emptyDir: {}
          name: sc-datasources-volume
        - emptyDir: {}
          name: storage
- apiVersion: v1
  data:
    grafana.ini: '[analytics]

      check_for_updates = true

      [grafana_net]

      url = https://grafana.net

      [log]

      mode = console

      [paths]

      data = /var/lib/grafana/data

      logs = /var/log/grafana

      plugins = /var/lib/grafana/plugins

      provisioning = /etc/grafana/provisioning

      '
  kind: ConfigMap
  metadata:
    labels:
      app: grafana
      chart: grafana-3.8.7
      heritage: Tiller
      kubenix/project-name: kubenix
      release: grafana
    name: grafana
    namespace: knative-monitoring
- apiVersion: v1
  data:
    provider.yaml: "apiVersion: 1\nproviders:\n- name: 'sidecarProvider'\n  orgId:\
      \ 1\n  folder: ''\n  type: file\n  disableDeletion: false\n  options:\n    path:\
      \ /tmp/dashboards"
  kind: ConfigMap
  metadata:
    labels:
      app: grafana
      chart: grafana-3.8.7
      heritage: Tiller
      kubenix/project-name: kubenix
      release: grafana
    name: grafana-config-dashboards
    namespace: knative-monitoring
- apiVersion: v1
  data:
    run.sh: "@test \"Test Health\" {\n  url=\"http://grafana/api/health\"\n\n  code=$(curl\
      \ -s -o /dev/null -I -w \"%{http_code}\" $url)\n  [ \"$code\" == \"200\" ]\n\
      }"
  kind: ConfigMap
  metadata:
    labels:
      app: grafana
      chart: grafana-3.8.7
      heritage: Tiller
      kubenix/project-name: kubenix
      release: grafana
    name: grafana-test
    namespace: knative-monitoring
- apiVersion: v1
  data:
    run.sh: "\n@test \"Testing Weave Scope UI is accessible\" {\n  curl --retry 12\
      \ --retry-delay 10 http://weave-scope-app.istio-system.svc:80\n}"
  kind: ConfigMap
  metadata:
    labels:
      app: weave-scope
      chart: weave-scope-1.1.2
      heritage: Tiller
      kubenix/project-name: kubenix
      release: weave-scope
    name: weave-scope-weave-scope-tests
    namespace: istio-system
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      helm.sh/hook: test-success
    labels:
      app: grafana
      chart: grafana-3.8.7
      heritage: Tiller
      kubenix/project-name: kubenix
      release: grafana
    name: grafana-test
    namespace: knative-monitoring
  spec:
    containers:
    - command:
      - /tools/bats/bats
      - -t
      - /tests/run.sh
      image: dduportal/bats:0.4.0
      name: grafana-test
      volumeMounts:
      - mountPath: /tests
        name: tests
        readOnly: true
      - mountPath: /tools
        name: tools
    initContainers:
    - command:
      - bash
      - -c
      - 'set -ex

        # copy bats to tools dir

        cp -R /usr/local/libexec/ /tools/bats/

        '
      image: dduportal/bats:0.4.0
      name: test-framework
      volumeMounts:
      - mountPath: /tools
        name: tools
    restartPolicy: Never
    serviceAccountName: grafana-test
    volumes:
    - configMap:
        name: grafana-test
      name: tests
    - emptyDir: {}
      name: tools
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      helm.sh/hook: test-success
    labels:
      app: weave-scope
      chart: weave-scope-1.1.2
      heritage: Tiller
      kubenix/project-name: kubenix
      release: weave-scope
    name: weave-scope-ui-test-dsmoe
    namespace: istio-system
  spec:
    containers:
    - command:
      - /tools/bats/bats
      - -t
      - /tests/run.sh
      image: dduportal/bats:0.4.0
      name: weave-scope-ui-test
      volumeMounts:
      - mountPath: /tests
        name: tests
        readOnly: true
      - mountPath: /tools
        name: tools
    initContainers:
    - command:
      - bash
      - -c
      - 'set -ex

        # copy bats to tools dir

        cp -R /usr/local/libexec/ /tools/bats/

        '
      image: dduportal/bats:0.4.0
      name: test-framework
      volumeMounts:
      - mountPath: /tools
        name: tools
    restartPolicy: Never
    volumes:
    - configMap:
        name: weave-scope-weave-scope-tests
      name: tests
    - emptyDir: {}
      name: tools
- apiVersion: v1
  data:
    admin-password: bmxsc3BLbXpWaDM1SzNqY1c1dkpBNFNRazExVDVBTjN1ZFQxVktCRw==
    admin-user: YWRtaW4=
    ldap-toml: ''
  kind: Secret
  metadata:
    labels:
      app: grafana
      chart: grafana-3.8.7
      heritage: Tiller
      kubenix/project-name: kubenix
      release: grafana
    name: grafana
    namespace: knative-monitoring
  type: Opaque
- apiVersion: v1
  kind: Service
  metadata:
    labels:
      app: grafana
      chart: grafana-3.8.7
      heritage: Tiller
      kubenix/project-name: kubenix
      release: grafana
    name: grafana
    namespace: knative-monitoring
  spec:
    ports:
    - name: service
      port: 80
      protocol: TCP
      targetPort: 3000
    selector:
      app: grafana
      release: grafana
    type: ClusterIP
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      cloud.weave.works/launcher-info: "{\n  \"server-version\": \"master-4fe8efe\"\
        ,\n  \"original-request\": {\n    \"url\": \"/k8s/v1.7/scope.yaml\"\n  },\n\
        \  \"email-address\": \"support@weave.works\",\n  \"source-app\": \"weave-scope\"\
        ,\n  \"weave-cloud-component\": \"scope\"\n}"
    labels:
      app: weave-scope
      chart: weave-scope-frontend-1.1.2
      component: frontend
      heritage: Tiller
      kubenix/project-name: kubenix
      release: weave-scope
    name: weave-scope-app
    namespace: istio-system
  spec:
    ports:
    - name: http
      port: 80
      protocol: TCP
      targetPort: http
    selector:
      app: weave-scope
      component: frontend
      release: weave-scope
    type: ClusterIP
- apiVersion: v1
  kind: ServiceAccount
  metadata:
    labels:
      app: grafana
      chart: grafana-3.8.7
      heritage: Tiller
      kubenix/project-name: kubenix
      release: grafana
    name: grafana
    namespace: knative-monitoring
- apiVersion: v1
  kind: ServiceAccount
  metadata:
    labels:
      app: grafana
      chart: grafana-3.8.7
      heritage: Tiller
      kubenix/project-name: kubenix
      release: grafana
    name: grafana-test
    namespace: knative-monitoring
- apiVersion: v1
  kind: ServiceAccount
  metadata:
    annotations:
      cloud.weave.works/launcher-info: "{\n  \"server-version\": \"master-4fe8efe\"\
        ,\n  \"original-request\": {\n    \"url\": \"/k8s/v1.7/scope.yaml\"\n  },\n\
        \  \"email-address\": \"support@weave.works\",\n  \"source-app\": \"weave-scope\"\
        ,\n  \"weave-cloud-component\": \"scope\"\n}"
    labels:
      app: weave-scope
      chart: weave-scope-agent-1.1.2
      component: agent
      heritage: Tiller
      kubenix/project-name: kubenix
      release: weave-scope
    name: weave-scope-agent-weave-scope
    namespace: istio-system
- apiVersion: extensions/v1beta1
  kind: DaemonSet
  metadata:
    annotations:
      cloud.weave.works/launcher-info: "{\n  \"server-version\": \"master-4fe8efe\"\
        ,\n  \"original-request\": {\n    \"url\": \"/k8s/v1.7/scope.yaml\"\n  },\n\
        \  \"email-address\": \"support@weave.works\",\n  \"source-app\": \"weave-scope\"\
        ,\n  \"weave-cloud-component\": \"scope\"\n}"
    labels:
      app: weave-scope
      chart: weave-scope-agent-1.1.2
      component: agent
      heritage: Tiller
      kubenix/project-name: kubenix
      release: weave-scope
    name: weave-scope-agent-weave-scope
    namespace: istio-system
  spec:
    selector:
      matchLabels:
        app: weave-scope
        component: agent
        release: weave-scope
    template:
      metadata:
        labels:
          app: weave-scope
          chart: weave-scope-agent-1.1.2
          component: agent
          heritage: Tiller
          release: weave-scope
      spec:
        containers:
        - args:
          - --no-app
          - --probe.docker.bridge=docker0
          - --probe.docker=true
          - --probe.kubernetes=true
          - weave-scope-app.istio-system.svc:80
          image: weaveworks/scope:1.11.2
          imagePullPolicy: IfNotPresent
          name: weave-scope-agent
          securityContext:
            privileged: true
          volumeMounts:
          - mountPath: /sys/kernel/debug
            name: sys-kernel-debug
          - mountPath: /var/run/docker.sock
            name: docker-socket
          - mountPath: /var/run/scope/plugins
            name: scope-plugins
        dnsPolicy: ClusterFirstWithHostNet
        hostNetwork: true
        hostPID: true
        serviceAccountName: weave-scope-agent-weave-scope
        tolerations:
        - effect: NoSchedule
          operator: Exists
        volumes:
        - hostPath:
            path: /var/run/docker.sock
          name: docker-socket
        - hostPath:
            path: /var/run/scope/plugins
          name: scope-plugins
        - hostPath:
            path: /sys/kernel/debug
          name: sys-kernel-debug
    updateStrategy:
      type: RollingUpdate
- apiVersion: extensions/v1beta1
  kind: PodSecurityPolicy
  metadata:
    annotations:
      apparmor.security.beta.kubernetes.io/allowedProfileNames: runtime/default
      apparmor.security.beta.kubernetes.io/defaultProfileName: runtime/default
      seccomp.security.alpha.kubernetes.io/allowedProfileNames: docker/default
      seccomp.security.alpha.kubernetes.io/defaultProfileName: docker/default
    labels:
      app: grafana
      chart: grafana-3.8.7
      heritage: Tiller
      kubenix/project-name: kubenix
      release: grafana
    name: grafana
    namespace: knative-monitoring
  spec:
    allowPrivilegeEscalation: false
    fsGroup:
      rule: RunAsAny
    hostIPC: false
    hostNetwork: false
    hostPID: false
    privileged: false
    readOnlyRootFilesystem: false
    requiredDropCapabilities:
    - FOWNER
    - FSETID
    - KILL
    - SETGID
    - SETUID
    - SETPCAP
    - NET_BIND_SERVICE
    - NET_RAW
    - SYS_CHROOT
    - MKNOD
    - AUDIT_WRITE
    - SETFCAP
    runAsUser:
      rule: RunAsAny
    seLinux:
      rule: RunAsAny
    supplementalGroups:
      rule: RunAsAny
    volumes:
    - configMap
    - emptyDir
    - projected
    - secret
    - downwardAPI
    - persistentVolumeClaim
- apiVersion: extensions/v1beta1
  kind: PodSecurityPolicy
  metadata:
    labels:
      app: grafana
      chart: grafana-3.8.7
      heritage: Tiller
      kubenix/project-name: kubenix
      release: grafana
    name: grafana-test
    namespace: knative-monitoring
  spec:
    allowPrivilegeEscalation: true
    fsGroup:
      rule: RunAsAny
    hostIPC: false
    hostNetwork: false
    hostPID: false
    privileged: false
    runAsUser:
      rule: RunAsAny
    seLinux:
      rule: RunAsAny
    supplementalGroups:
      rule: RunAsAny
    volumes:
    - configMap
    - downwardAPI
    - emptyDir
    - projected
    - secret
- apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRole
  metadata:
    labels:
      app: grafana
      chart: grafana-3.8.7
      heritage: Tiller
      kubenix/project-name: kubenix
      release: grafana
    name: grafana-clusterrole
    namespace: knative-monitoring
  rules:
  - apiGroups:
    - ''
    resources:
    - configmaps
    - secrets
    verbs:
    - get
    - watch
    - list
- apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRoleBinding
  metadata:
    labels:
      app: grafana
      chart: grafana-3.8.7
      heritage: Tiller
      kubenix/project-name: kubenix
      release: grafana
    name: grafana-clusterrolebinding
    namespace: knative-monitoring
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: ClusterRole
    name: grafana-clusterrole
  subjects:
  - kind: ServiceAccount
    name: grafana
    namespace: knative-monitoring
- apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    labels:
      app: grafana
      chart: grafana-3.8.7
      heritage: Tiller
      kubenix/project-name: kubenix
      release: grafana
    name: grafana-test
    namespace: knative-monitoring
  rules:
  - apiGroups:
    - policy
    resourceNames:
    - grafana-test
    resources:
    - podsecuritypolicies
    verbs:
    - use
- apiVersion: rbac.authorization.k8s.io/v1
  kind: RoleBinding
  metadata:
    labels:
      app: grafana
      chart: grafana-3.8.7
      heritage: Tiller
      kubenix/project-name: kubenix
      release: grafana
    name: grafana-test
    namespace: knative-monitoring
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: Role
    name: grafana-test
  subjects:
  - kind: ServiceAccount
    name: grafana-test
    namespace: knative-monitoring
- apiVersion: rbac.authorization.k8s.io/v1beta1
  kind: ClusterRole
  metadata:
    annotations:
      cloud.weave.works/launcher-info: "{\n  \"server-version\": \"master-4fe8efe\"\
        ,\n  \"original-request\": {\n    \"url\": \"/k8s/v1.7/scope.yaml\"\n  },\n\
        \  \"email-address\": \"support@weave.works\",\n  \"source-app\": \"weave-scope\"\
        ,\n  \"weave-cloud-component\": \"scope\"\n}"
    labels:
      app: weave-scope
      chart: weave-scope-agent-1.1.2
      component: agent
      heritage: Tiller
      kubenix/project-name: kubenix
      release: weave-scope
    name: weave-scope-agent-weave-scope
    namespace: istio-system
  rules:
  - apiGroups:
    - '*'
    resources:
    - '*'
    verbs:
    - '*'
  - nonResourceURLs:
    - '*'
    verbs:
    - '*'
- apiVersion: rbac.authorization.k8s.io/v1beta1
  kind: ClusterRoleBinding
  metadata:
    annotations:
      cloud.weave.works/launcher-info: "{\n  \"server-version\": \"master-4fe8efe\"\
        ,\n  \"original-request\": {\n    \"url\": \"/k8s/v1.7/scope.yaml\"\n  },\n\
        \  \"email-address\": \"support@weave.works\",\n  \"source-app\": \"weave-scope\"\
        ,\n  \"weave-cloud-component\": \"scope\"\n}"
    labels:
      app: weave-scope
      chart: weave-scope-agent-1.1.2
      component: agent
      heritage: Tiller
      kubenix/project-name: kubenix
      release: weave-scope
    name: weave-scope-weave-scope
    namespace: istio-system
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: ClusterRole
    name: weave-scope-agent-weave-scope
  subjects:
  - kind: ServiceAccount
    name: weave-scope-agent-weave-scope
    namespace: istio-system
- apiVersion: rbac.authorization.k8s.io/v1beta1
  kind: Role
  metadata:
    labels:
      app: grafana
      chart: grafana-3.8.7
      heritage: Tiller
      kubenix/project-name: kubenix
      release: grafana
    name: grafana
    namespace: knative-monitoring
  rules:
  - apiGroups:
    - extensions
    resourceNames:
    - grafana
    resources:
    - podsecuritypolicies
    verbs:
    - use
- apiVersion: rbac.authorization.k8s.io/v1beta1
  kind: RoleBinding
  metadata:
    labels:
      app: grafana
      chart: grafana-3.8.7
      heritage: Tiller
      kubenix/project-name: kubenix
      release: grafana
    name: grafana
    namespace: knative-monitoring
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: Role
    name: grafana
  subjects:
  - kind: ServiceAccount
    name: grafana
    namespace: knative-monitoring
- apiVersion: v1
  data:
    ceph-cluster-dashboard.json: '{"annotations":{"list":[{"builtIn":1,"datasource":"--
      Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations
      & Alerts","type":"dashboard"}]},"description":"Ceph Cluster overview.\r\n","editable":true,"gnetId":2842,"graphTooltip":0,"id":17,"iteration":1567598882603,"links":[],"panels":[{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":37,"panels":[],"repeat":null,"title":"CLUSTER
      STATE","type":"row"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["rgba(50,
      172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"prometheus-istio","editable":true,"error":false,"format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":4,"w":4,"x":0,"y":1},"id":21,"interval":"1m","links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"ceph_health_status","format":"time_series","interval":"$interval","intervalFactor":1,"refId":"A","step":300}],"thresholds":"1,2","title":"Status","type":"singlestat","valueFontSize":"100%","valueMaps":[{"op":"=","text":"N/A","value":"null"},{"op":"=","text":"WARNING","value":"1"},{"op":"=","text":"HEALTHY","value":"0"},{"op":"=","text":"ERROR","value":"2"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource":"prometheus-istio","editable":true,"error":false,"format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":4,"w":4,"x":4,"y":1},"id":14,"interval":"1m","links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"sum(ceph_mon_quorum_status)","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"","refId":"A","step":300}],"thresholds":"2,3","title":"Monitors
      In Quorum","type":"singlestat","valueFontSize":"100%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource":"prometheus-istio","editable":true,"error":false,"format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":4,"w":4,"x":8,"y":1},"id":22,"interval":"1m","links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":true,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"count(ceph_pool_bytes_used)","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"","refId":"A","step":300}],"thresholds":"","title":"Pools","type":"singlestat","valueFontSize":"100%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(50,
      172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"prometheus-istio","editable":true,"error":false,"format":"bytes","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":4,"w":4,"x":12,"y":1},"id":33,"interval":"1m","links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":true,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"ceph_cluster_total_bytes","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"","refId":"A","step":300}],"thresholds":"0.025,0.1","title":"Cluster
      Capacity","type":"singlestat","valueFontSize":"100%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(50,
      172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"prometheus-istio","editable":true,"error":false,"format":"bytes","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":4,"w":4,"x":16,"y":1},"id":34,"interval":"1m","links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":true,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"ceph_cluster_total_used_bytes","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"","refId":"A","step":300}],"thresholds":"0.025,0.1","title":"Used
      Capacity","type":"singlestat","valueFontSize":"100%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["rgba(50,
      172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"prometheus-istio","decimals":2,"editable":true,"error":false,"format":"percent","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":4,"w":4,"x":20,"y":1},"id":23,"interval":"1m","links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":true,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"((ceph_cluster_total_bytes-ceph_cluster_total_used_bytes)/ceph_cluster_total_bytes)*100","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"","refId":"A","step":300}],"thresholds":"75,90","title":"Available
      Capacity","type":"singlestat","valueFontSize":"70%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":5},"id":38,"panels":[],"repeat":null,"title":"OSD
      STATE","type":"row"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource":"prometheus-istio","editable":true,"error":false,"format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":2,"x":0,"y":6},"id":26,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"sum(ceph_osd_in)","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"","refId":"A","step":300}],"thresholds":"","title":"OSDs
      IN","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":true,"colorValue":false,"colors":["rgba(50,
      172, 45, 0.97)","rgba(237, 40, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"prometheus-istio","editable":true,"error":false,"format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":2,"x":2,"y":6},"id":27,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"count(ceph_osd_up)
      - count(ceph_osd_in)","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"","refId":"A","step":300}],"thresholds":"1,1","title":"OSDs
      OUT","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource":"prometheus-istio","editable":true,"error":false,"format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":2,"x":4,"y":6},"id":28,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"sum(ceph_osd_up)","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"","refId":"A","step":300}],"thresholds":"","title":"OSDs
      UP","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":true,"colorValue":false,"colors":["rgba(50,
      172, 45, 0.97)","rgba(237, 40, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"prometheus-istio","editable":true,"error":false,"format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":2,"x":6,"y":6},"id":29,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"count(ceph_osd_up
      == 0) OR vector(0)","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"","refId":"A","step":300}],"thresholds":"1,1","title":"OSDs
      DOWN","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["rgba(50,
      172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"prometheus-istio","editable":true,"error":false,"format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":8,"y":6},"id":30,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":true,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"avg(ceph_osd_numpg)","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"","refId":"A","step":300}],"thresholds":"250,300","title":"Agerage
      PGs per OSD","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["rgba(50,
      172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"prometheus-istio","editable":true,"error":false,"format":"ms","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":12,"y":6},"id":31,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":true,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"avg(ceph_osd_apply_latency_ms)","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"","refId":"A","step":300}],"thresholds":"10,50","title":"Average
      OSD Apply Latency","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"avg"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["rgba(50,
      172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"prometheus-istio","editable":true,"error":false,"format":"ms","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":16,"y":6},"id":32,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":true,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"avg(ceph_osd_commit_latency_ms)","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"","refId":"A","step":300}],"thresholds":"10,50","title":"Average
      OSD Commit Latency","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"avg"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["rgba(50,
      172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"prometheus-istio","editable":true,"error":false,"format":"s","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":20,"y":6},"id":24,"interval":"1m","links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"repeat":null,"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":true,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"avg(ceph_monitor_latency_seconds)","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"","refId":"A","step":300}],"thresholds":"70,80","title":"Average
      Monitor Latency","type":"singlestat","valueFontSize":"100%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":9},"id":39,"panels":[],"repeat":null,"title":"CLUSTER","type":"row"},{"aliasColors":{"Available":"#EAB839","Total
      Capacity":"#447EBC","Used":"#BF1B00","total_avail":"#6ED0E0","total_space":"#7EB26D","total_used":"#890F02"},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","editable":true,"error":false,"fill":4,"fillGradient":0,"grid":{},"gridPos":{"h":8,"w":8,"x":0,"y":10},"height":"300","id":1,"interval":"$interval","legend":{"alignAsTable":true,"avg":true,"current":true,"max":true,"min":true,"show":true,"total":false,"values":true},"lines":true,"linewidth":0,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"Total
      Capacity","fill":0,"linewidth":3,"stack":false}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"ceph_cluster_total_bytes-ceph_cluster_total_used_bytes","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Available","refId":"A","step":300},{"expr":"ceph_cluster_total_used_bytes","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Used","refId":"B","step":300},{"expr":"ceph_cluster_total_bytes","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Total
      Capacity","refId":"C","step":300}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Capacity","tooltip":{"msResolution":false,"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"bytes","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{"Total
      Capacity":"#7EB26D","Used":"#BF1B00","total_avail":"#6ED0E0","total_space":"#7EB26D","total_used":"#890F02"},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","decimals":0,"editable":true,"error":false,"fill":1,"fillGradient":0,"grid":{},"gridPos":{"h":8,"w":8,"x":8,"y":10},"height":"300","id":3,"interval":"$interval","legend":{"alignAsTable":true,"avg":true,"current":true,"max":true,"min":true,"show":true,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"sum(rate(ceph_osd_op_w[$interval]))","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Write","refId":"A","step":300},{"expr":"sum(rate(ceph_osd_op_r[$interval]))","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Read","refId":"B","step":300}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"IOPS","tooltip":{"msResolution":true,"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"none","label":"","logBase":1,"max":null,"min":0,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":0,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","editable":true,"error":false,"fill":1,"fillGradient":0,"grid":{},"gridPos":{"h":8,"w":8,"x":16,"y":10},"height":"300","id":7,"interval":"$interval","legend":{"alignAsTable":true,"avg":true,"current":true,"max":true,"min":true,"show":true,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"sum(irate(ceph_osd_op_w_in_bytes[$interval]))","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Write","refId":"A","step":300},{"expr":"sum(irate(ceph_osd_op_r_out_bytes[$interval]))","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Read","refId":"B","step":300}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Throughput","tooltip":{"msResolution":false,"shared":true,"sort":2,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"decbytes","label":null,"logBase":1,"max":null,"min":0,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":0,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":18},"id":40,"panels":[],"repeat":null,"title":"LATENCY","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","decimals":null,"fill":1,"fillGradient":0,"gridPos":{"h":7,"w":16,"x":0,"y":19},"id":35,"legend":{"alignAsTable":true,"avg":true,"current":true,"hideEmpty":false,"max":true,"min":false,"rightSide":true,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":1,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"avg(ceph_osd_apply_latency_ms)","format":"time_series","interval":"$interval","intervalFactor":2,"legendFormat":"apply","metric":"ceph_osd_perf_apply_latency_seconds","refId":"A","step":4},{"expr":"avg(ceph_osd_commit_latency_ms)","format":"time_series","interval":"$interval","intervalFactor":2,"legendFormat":"commit","metric":"ceph_osd_perf_commit_latency_seconds","refId":"B","step":4}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"OSD
      Apply + Commit Latency","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"ms","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","decimals":null,"description":"","fill":1,"fillGradient":0,"gridPos":{"h":7,"w":8,"x":16,"y":19},"id":36,"legend":{"alignAsTable":true,"avg":true,"current":true,"hideEmpty":false,"max":true,"min":false,"rightSide":true,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"dataLinks":[]},"percentage":false,"pointradius":1,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"avg(ceph_monitor_latency_seconds)","format":"time_series","interval":"","intervalFactor":2,"legendFormat":"latency","metric":"ceph_monitor_latency_seconds","refId":"A","step":10}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Monitor
      Latency (Currently not available with Ceph MGR)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"s","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":26},"id":41,"panels":[],"repeat":null,"title":"OBJECTS","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","editable":true,"error":false,"fill":1,"fillGradient":0,"grid":{},"gridPos":{"h":4,"w":24,"x":0,"y":27},"id":18,"legend":{"alignAsTable":true,"avg":true,"current":true,"max":false,"min":false,"rightSide":true,"show":true,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^Total.*$/","stack":false}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"ceph_cluster_total_objects","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Total","refId":"A","step":300}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Objects
      in the Cluster","tooltip":{"msResolution":false,"shared":true,"sort":1,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","editable":true,"error":false,"fill":1,"fillGradient":0,"grid":{},"gridPos":{"h":10,"w":24,"x":0,"y":31},"id":19,"legend":{"alignAsTable":true,"avg":true,"current":true,"max":false,"min":false,"rightSide":true,"show":true,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^Total.*$/","stack":false}],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"ceph_pg_active","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Active","refId":"M"},{"expr":"ceph_pg_clean","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Clean","refId":"U"},{"expr":"ceph_pg_peering","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Peering","refId":"I"},{"expr":"ceph_pg_degraded","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Degraded","refId":"B","step":300},{"expr":"ceph_pg_stale","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Stale","refId":"C","step":300},{"expr":"ceph_unclean_pgs","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Unclean","refId":"D","step":300},{"expr":"ceph_pg_undersized","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Undersized","refId":"E","step":300},{"expr":"ceph_pg_incomplete","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Incomplete","refId":"G"},{"expr":"ceph_pg_forced_backfill","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Forced
      Backfill","refId":"H"},{"expr":"ceph_pg_inconsistent","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Inconsistent","refId":"F"},{"expr":"ceph_pg_forced_recovery","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Forced
      Recovery","refId":"J"},{"expr":"ceph_pg_creating","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Creating","refId":"K"},{"expr":"ceph_pg_wait_backfill","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Wait
      Backfill","refId":"L"},{"expr":"ceph_pg_deep","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Deep","refId":"N"},{"expr":"ceph_pg_scrubbing","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Scrubbing","refId":"O"},{"expr":"ceph_pg_recovering","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Recovering","refId":"P"},{"expr":"ceph_pg_repair","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Repair","refId":"Q"},{"expr":"ceph_pg_down","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Down","refId":"R"},{"expr":"ceph_pg_peered","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Peered","refId":"S"},{"expr":"ceph_pg_backfill","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Backfill","refId":"T"},{"expr":"ceph_pg_remapped","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Remapped","refId":"V"},{"expr":"ceph_pg_backfill_toofull","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Backfill
      Toofull","refId":"W"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"PGs","tooltip":{"msResolution":false,"shared":true,"sort":1,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":0,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","editable":true,"error":false,"fill":1,"fillGradient":0,"grid":{},"gridPos":{"h":6,"w":24,"x":0,"y":41},"id":20,"legend":{"alignAsTable":true,"avg":true,"current":true,"max":false,"min":false,"rightSide":true,"show":true,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^Total.*$/","stack":false}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"ceph_pg_degraded","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Degraded","refId":"F","step":300},{"expr":"ceph_pg_stale","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Stale","refId":"A","step":300},{"expr":"ceph_pg_undersized","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Undersized","refId":"B","step":300}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Stuck
      PGs","tooltip":{"msResolution":false,"shared":true,"sort":1,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":0,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":47},"id":42,"panels":[],"repeat":null,"title":"RECOVERY","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","editable":true,"error":false,"fill":1,"grid":{},"gridPos":{"h":4,"w":24,"x":0,"y":48},"id":15,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":2,"links":[],"nullPointMode":"connected","options":{},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(irate(ceph_osd_recovery_ops[$interval]))","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"OPS","refId":"A","step":300}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Operations","tooltip":{"msResolution":false,"shared":true,"sort":0,"value_type":"cumulative"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":0,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}}],"refresh":"10s","schemaVersion":19,"style":"dark","tags":["ceph","cluster"],"templating":{"list":[{"auto":true,"auto_count":10,"auto_min":"1m","current":{"text":"auto","value":"$__auto_interval_interval"},"datasource":"prometheus-istio","hide":0,"includeAll":false,"label":"Interval","multi":false,"name":"interval","options":[{"selected":true,"text":"auto","value":"$__auto_interval_interval"},{"selected":false,"text":"5s","value":"5s"},{"selected":false,"text":"10s","value":"10s"},{"selected":false,"text":"30s","value":"30s"},{"selected":false,"text":"1m","value":"1m"},{"selected":false,"text":"10m","value":"10m"},{"selected":false,"text":"30m","value":"30m"},{"selected":false,"text":"1h","value":"1h"},{"selected":false,"text":"6h","value":"6h"},{"selected":false,"text":"12h","value":"12h"},{"selected":false,"text":"1d","value":"1d"},{"selected":false,"text":"7d","value":"7d"},{"selected":false,"text":"14d","value":"14d"},{"selected":false,"text":"30d","value":"30d"}],"query":"5s,10s,30s,1m,10m,30m,1h,6h,12h,1d,7d,14d,30d","refresh":2,"skipUrlSync":false,"type":"interval"}]},"time":{"from":"now-1h","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"browser","title":"Ceph
      - Cluster","uid":"vwcB0Bzmk","version":1}'
  kind: ConfigMap
  metadata:
    labels:
      grafana_dashboard: '1'
      kubenix/project-name: kubenix
    name: ceph-cluster-dashboard.json
    namespace: knative-monitoring
- apiVersion: v1
  data:
    ceph-osd-dashboard.json: '{"annotations":{"list":[{"$$hashKey":"object:4792","builtIn":1,"datasource":"--
      Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations
      & Alerts","type":"dashboard"}]},"description":"CEPH OSD Status.","editable":true,"gnetId":5336,"graphTooltip":0,"id":18,"iteration":1567587253589,"links":[],"panels":[{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":11,"panels":[],"title":"OSD
      Status / Total OSDs","type":"row"},{"cacheTimeout":null,"colorBackground":true,"colorValue":false,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 40, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource":"prometheus-istio","editable":true,"error":false,"format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":2,"x":0,"y":1},"id":6,"interval":null,"isNew":true,"links":[],"mappingType":2,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"},{"from":"0","text":"DOWN","to":"0.99"},{"from":"0.99","text":"UP","to":"1"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"ceph_osd_up{ceph_daemon=\"$osd\"}","format":"time_series","interval":"$interval","intervalFactor":1,"refId":"A","step":60}],"thresholds":"0,1","timeFrom":null,"title":"Status","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"DOWN","value":"0"},{"op":"=","text":"UP","value":"1"},{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":true,"colorValue":false,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 40, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource":"prometheus-istio","editable":true,"error":false,"format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":2,"x":2,"y":1},"id":8,"interval":null,"isNew":true,"links":[],"mappingType":2,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"},{"from":"0","text":"OUT","to":"0.99"},{"from":"0.99","text":"IN","to":"1"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"ceph_osd_in{ceph_daemon=\"$osd\"}","format":"time_series","interval":"$interval","intervalFactor":1,"refId":"A","step":60}],"thresholds":"0,1","timeFrom":null,"title":"Available","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"DOWN","value":"0"},{"op":"=","text":"UP","value":"1"},{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource":"prometheus-istio","editable":true,"error":false,"format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":2,"x":4,"y":1},"id":10,"interval":null,"isNew":true,"links":[],"mappingType":2,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"count(ceph_osd_up)","format":"time_series","interval":"$interval","intervalFactor":1,"refId":"A","step":60}],"thresholds":"0,1","timeFrom":null,"title":"Total
      OSDs","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"DOWN","value":"0"},{"op":"=","text":"UP","value":"1"},{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":4},"id":12,"panels":[],"title":"OSD:
      $osd","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","decimals":2,"editable":true,"error":false,"fill":1,"grid":{},"gridPos":{"h":7,"w":20,"x":0,"y":5},"id":5,"interval":"$interval","isNew":true,"legend":{"alignAsTable":true,"avg":true,"current":true,"max":true,"min":true,"show":true,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"nullPointMode":"connected","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^Average.*/","fill":0,"stack":false}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"ceph_osd_numpg{ceph_daemon=~\"$osd\"}","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Number
      of PGs - {{ osd }}","refId":"A","step":60},{"expr":"avg(ceph_osd_numpg)","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Average
      Number of PGs in the Cluster","refId":"B","step":60}],"thresholds":[{"colorMode":"custom","line":true,"lineColor":"rgba(216,
      200, 27, 0.27)","op":"gt","value":250},{"colorMode":"custom","line":true,"lineColor":"rgba(234,
      112, 112, 0.22)","op":"gt","value":300}],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"PGs","tooltip":{"msResolution":false,"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":0,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":0,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["rgba(50,
      172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"prometheus-istio","editable":true,"error":false,"format":"percent","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":7,"w":4,"x":20,"y":5},"id":7,"interval":null,"isNew":true,"links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"ceph_osd_stat_bytes_used{ceph_daemon=\"osd.0\"}/ceph_osd_stat_bytes{ceph_daemon=\"osd.0\"}","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"","refId":"A","step":60}],"thresholds":"60,80","timeFrom":null,"title":"Utilization","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":12},"id":13,"panels":[],"title":"Latency,
      Storage, Utilization Varience","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","decimals":2,"editable":true,"error":false,"fill":1,"grid":{},"gridPos":{"h":7,"w":12,"x":0,"y":13},"id":4,"interval":"$interval","isNew":true,"legend":{"alignAsTable":true,"avg":true,"current":true,"max":true,"min":true,"show":true,"total":false,"values":true},"lines":false,"linewidth":2,"links":[],"nullPointMode":"connected","percentage":false,"pointradius":2,"points":true,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"ceph_osd_apply_latency_ms{ceph_daemon=~\"$osd\"}","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Apply
      Latency (s) - {{ osd }}","refId":"A","step":60},{"expr":"ceph_osd_commit_latency_ms{ceph_daemon=~\"$osd\"}","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Commit
      Latency (s) - {{ osd }}","refId":"B","step":60}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Latency","tooltip":{"msResolution":false,"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"ms","label":null,"logBase":1,"max":null,"min":0,"show":true},{"format":"s","label":null,"logBase":1,"max":null,"min":0,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","decimals":2,"editable":true,"error":false,"fill":1,"grid":{},"gridPos":{"h":7,"w":12,"x":12,"y":13},"id":2,"interval":"$interval","isNew":true,"legend":{"alignAsTable":true,"avg":true,"current":true,"max":true,"min":true,"show":true,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"nullPointMode":"connected","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"ceph_osd_stat_bytes{ceph_daemon=\"osd.0\"}-ceph_osd_stat_bytes_used{ceph_daemon=\"osd.0\"}","format":"time_series","hide":false,"interval":"$interval","intervalFactor":1,"legendFormat":"Available
      - {{ osd }}","metric":"ceph_osd_avail_bytes","refId":"A","step":60},{"expr":"ceph_osd_stat_bytes_used{ceph_daemon=~\"$osd\"}","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Used
      - {{ osd }}","metric":"ceph_osd_avail_bytes","refId":"B","step":60}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"OSD
      Storage","tooltip":{"msResolution":false,"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"bytes","label":null,"logBase":1,"max":null,"min":0,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":0,"show":true}],"yaxis":{"align":false,"alignLevel":null}}],"refresh":"15m","schemaVersion":16,"style":"dark","tags":["ceph","osd"],"templating":{"list":[{"auto":true,"auto_count":10,"auto_min":"1m","current":{"text":"auto","value":"$__auto_interval_interval"},"datasource":"prometheus-istio","hide":0,"includeAll":false,"label":"Interval","multi":false,"name":"interval","options":[{"selected":true,"text":"auto","value":"$__auto_interval_interval"},{"selected":false,"text":"10s","value":"10s"},{"selected":false,"text":"30s","value":"30s"},{"selected":false,"text":"1m","value":"1m"},{"selected":false,"text":"10m","value":"10m"},{"selected":false,"text":"30m","value":"30m"},{"selected":false,"text":"1h","value":"1h"},{"selected":false,"text":"6h","value":"6h"},{"selected":false,"text":"12h","value":"12h"},{"selected":false,"text":"1d","value":"1d"},{"selected":false,"text":"7d","value":"7d"},{"selected":false,"text":"14d","value":"14d"},{"selected":false,"text":"30d","value":"30d"}],"query":"10s,30s,1m,10m,30m,1h,6h,12h,1d,7d,14d,30d","refresh":2,"skipUrlSync":false,"type":"interval"},{"allValue":null,"current":{"text":"osd.0","value":"osd.0"},"datasource":"prometheus-istio","definition":"","hide":0,"includeAll":false,"label":"OSD","multi":false,"name":"osd","options":[],"query":"label_values(ceph_osd_up,
      ceph_daemon)","refresh":1,"regex":"","skipUrlSync":false,"sort":0,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false}]},"time":{"from":"now-1h","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"browser","title":"Ceph
      - OSD","uid":"Fj5fAfzik","version":1}'
  kind: ConfigMap
  metadata:
    labels:
      grafana_dashboard: '1'
      kubenix/project-name: kubenix
    name: ceph-osd-dashboard.json
    namespace: knative-monitoring
- apiVersion: v1
  data:
    ceph-pools-dashboard.json: '{"annotations":{"list":[{"builtIn":1,"datasource":"--
      Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations
      & Alerts","type":"dashboard"}]},"description":"Ceph Pools dashboard.","editable":true,"gnetId":5342,"graphTooltip":0,"id":18,"iteration":1567598976258,"links":[],"panels":[{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":11,"panels":[],"title":"Pool:
      $pool","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","decimals":2,"editable":true,"error":false,"fill":4,"fillGradient":0,"grid":{},"gridPos":{"h":7,"w":20,"x":0,"y":1},"height":"","id":2,"interval":"$interval","isNew":true,"legend":{"alignAsTable":true,"avg":true,"current":true,"max":true,"min":true,"rightSide":true,"show":true,"total":false,"values":true},"lines":true,"linewidth":0,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"/^Total.*$/","fill":0,"linewidth":4,"stack":false},{"alias":"/^Raw.*$/","color":"#BF1B00","fill":0,"linewidth":4}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"ceph_pool_max_avail{pool_id=~\"^$pool$\"}","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Avilable
      - {{ pool }}","metric":"ceph_pool_available_bytes","refId":"A","step":60},{"expr":"ceph_pool_bytes_used{pool_id=~\"^$pool$\"}","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Used
      - {{ pool }}","metric":"ceph_pool","refId":"B","step":60},{"expr":"ceph_pool_bytes_used{pool_id=~\"^$pool$\"}
      + ceph_pool_max_avail{pool_id=~\"^$pool$\"}","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Total
      - {{ pool }}","metric":"ceph_pool","refId":"C","step":60},{"expr":"ceph_pool_raw_bytes_used{pool_id=~\"^$pool$\"}","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Raw
      - {{ pool }}","metric":"ceph_pool","refId":"D","step":60}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Pool
      Storage","tooltip":{"msResolution":false,"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"bytes","label":null,"logBase":1,"max":null,"min":0,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":0,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource":"prometheus-istio","decimals":2,"editable":true,"error":false,"format":"percentunit","gauge":{"maxValue":1,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":7,"w":4,"x":20,"y":1},"id":10,"interval":null,"isNew":true,"links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"expr":"ceph_pool_bytes_used{pool_id=\"$pool\"}
      / (ceph_pool_bytes_used{pool_id=\"$pool\"} + ceph_pool_max_avail{pool_id=\"$pool\"})","format":"time_series","interval":"$interval","intervalFactor":1,"refId":"A","step":60}],"thresholds":"","title":"Usage","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":8},"id":12,"panels":[],"title":"Pool
      Info","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","editable":true,"error":false,"fill":1,"fillGradient":0,"grid":{},"gridPos":{"h":7,"w":12,"x":0,"y":9},"height":"","id":7,"isNew":true,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":2,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"ceph_pool_objects{pool_id=~\"$pool\"}","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Objects
      - {{ pool }}","refId":"A","step":60},{"expr":"ceph_pool_dirty{pool_id=~\"$pool\"}","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Dirty
      Objects - {{ pool }}","refId":"B","step":60},{"expr":"ceph_pool_quota_objects{pool_id=~\"$pool\"}","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Quota
      Objects - {{ pool }}","refId":"C"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Objects
      in Pool","tooltip":{"msResolution":false,"shared":true,"sort":0,"value_type":"cumulative"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":0,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":0,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","decimals":2,"editable":true,"error":false,"fill":1,"fillGradient":0,"grid":{},"gridPos":{"h":7,"w":12,"x":12,"y":9},"id":4,"interval":"$interval","isNew":true,"legend":{"alignAsTable":true,"avg":true,"current":true,"max":true,"min":true,"show":true,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"irate(ceph_pool_rd{pool_id=~\"$pool\"}[3m])","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Read
      - {{ pool }}","refId":"B","step":60},{"expr":"irate(ceph_pool_wr{pool_id=~\"$pool\"}[3m])","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Write
      - {{ pool }}","refId":"A","step":60}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"IOPS","tooltip":{"msResolution":false,"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"none","label":"IOPS","logBase":1,"max":null,"min":0,"show":true},{"format":"short","label":"IOPS","logBase":1,"max":null,"min":0,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","decimals":2,"editable":true,"error":false,"fill":1,"fillGradient":0,"grid":{},"gridPos":{"h":7,"w":24,"x":0,"y":16},"id":5,"interval":"$interval","isNew":true,"legend":{"alignAsTable":true,"avg":true,"current":true,"max":true,"min":true,"show":true,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"irate(ceph_pool_rd_bytes{pool_id=\"$pool\"}[$interval])","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Read
      Bytes - {{ pool }}","refId":"A","step":60},{"expr":"irate(ceph_pool_wr_bytes{pool_id=\"$pool\"}[$interval])","format":"time_series","interval":"$interval","intervalFactor":1,"legendFormat":"Written
      Bytes - {{ pool }}","refId":"B","step":60}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Throughput","tooltip":{"msResolution":false,"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"Bps","label":null,"logBase":1,"max":null,"min":0,"show":true},{"format":"Bps","label":null,"logBase":1,"max":null,"min":0,"show":true}],"yaxis":{"align":false,"alignLevel":null}}],"refresh":"1m","schemaVersion":19,"style":"dark","tags":["ceph","pools"],"templating":{"list":[{"auto":true,"auto_count":10,"auto_min":"1m","current":{"text":"auto","value":"$__auto_interval_interval"},"datasource":"prometheus-istio","hide":0,"includeAll":false,"label":"Interval","multi":false,"name":"interval","options":[{"selected":true,"text":"auto","value":"$__auto_interval_interval"},{"selected":false,"text":"10s","value":"10s"},{"selected":false,"text":"30s","value":"30s"},{"selected":false,"text":"1m","value":"1m"},{"selected":false,"text":"10m","value":"10m"},{"selected":false,"text":"30m","value":"30m"},{"selected":false,"text":"1h","value":"1h"},{"selected":false,"text":"6h","value":"6h"},{"selected":false,"text":"12h","value":"12h"},{"selected":false,"text":"1d","value":"1d"},{"selected":false,"text":"7d","value":"7d"},{"selected":false,"text":"14d","value":"14d"},{"selected":false,"text":"30d","value":"30d"}],"query":"10s,30s,1m,10m,30m,1h,6h,12h,1d,7d,14d,30d","refresh":2,"skipUrlSync":false,"type":"interval"},{"allValue":null,"current":{"text":"1","value":"1"},"datasource":"prometheus-istio","definition":"","hide":0,"includeAll":false,"label":"Pool","multi":false,"name":"pool","options":[],"query":"label_values(ceph_pool_metadata,
      pool_id)","refresh":1,"regex":"","skipUrlSync":false,"sort":3,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false}]},"time":{"from":"now-1h","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"browser","title":"Ceph
      - Pools","uid":"-gtf0Bzik","version":1}'
  kind: ConfigMap
  metadata:
    labels:
      grafana_dashboard: '1'
      kubenix/project-name: kubenix
    name: ceph-pools-dashboard.json
    namespace: knative-monitoring
- apiVersion: v1
  data:
    citadel-dashboard.json: '{"annotations":{"list":[{"builtIn":1,"datasource":"--
      Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations
      & Alerts","type":"dashboard"}]},"description":"","editable":true,"gnetId":null,"graphTooltip":0,"links":[],"panels":[{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":8,"panels":[],"title":"Performance","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"description":"CPU
      usage across Citadel instances.","fill":1,"gridPos":{"h":6,"w":8,"x":0,"y":1},"id":10,"legend":{"alignAsTable":false,"avg":false,"current":false,"max":false,"min":false,"rightSide":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(rate(container_cpu_usage_seconds_total{job=\"kubernetes-cadvisor\",container_name=~\"citadel\",
      pod_name=~\"istio-citadel-.*\"}[1m]))","format":"time_series","intervalFactor":1,"legendFormat":"Citadel
      CPU usage rate","refId":"A"},{"expr":"irate(process_cpu_seconds_total{job=\"citadel\"}[1m])","format":"time_series","intervalFactor":1,"legendFormat":"Citadel
      CPU usage irate","refId":"C"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"CPU","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"description":"Citadel
      process memory statistics.","fill":1,"gridPos":{"h":6,"w":8,"x":8,"y":1},"id":12,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"process_virtual_memory_bytes{job=\"citadel\"}","format":"time_series","intervalFactor":1,"legendFormat":"Virtual
      Memory","refId":"A"},{"expr":"process_resident_memory_bytes{job=\"citadel\"}","format":"time_series","intervalFactor":1,"legendFormat":"Resident
      Memory","refId":"B"},{"expr":"go_memstats_heap_sys_bytes{job=\"citadel\"}","format":"time_series","intervalFactor":1,"legendFormat":"Heap
      Memory Total","refId":"C"},{"expr":"go_memstats_alloc_bytes{job=\"citadel\"}","format":"time_series","intervalFactor":1,"legendFormat":"Heap
      Memory Allocated","refId":"E"},{"expr":"go_memstats_heap_inuse_bytes{job=\"citadel\"}","format":"time_series","intervalFactor":1,"legendFormat":"Heap
      Inuse","refId":"F"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Memory","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"fill":1,"gridPos":{"h":6,"w":8,"x":16,"y":1},"id":14,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"go_goroutines{job=\"citadel\"}","format":"time_series","intervalFactor":1,"legendFormat":"Goroutines","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Goroutines","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":7},"id":28,"panels":[],"title":"General","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"description":"Total
      number of CSR requests made to Citadel.","fill":1,"gridPos":{"h":5,"w":12,"x":0,"y":8},"id":30,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"citadel_server_csr_count{job=\"citadel\"}","format":"time_series","intervalFactor":1,"legendFormat":"CSR
      Request Count","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"CSR
      Requests","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"description":"The
      number of certificates issuances that have succeeded.","fill":1,"gridPos":{"h":5,"w":12,"x":12,"y":8},"id":32,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"citadel_server_success_cert_issuance_count{job=\"citadel\"}","format":"time_series","intervalFactor":1,"legendFormat":"Certificates
      Issued","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Certificates
      Issued","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":13},"id":23,"panels":[],"title":"Errors","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"description":"The
      number of errors occurred when creating the CSR.","fill":1,"gridPos":{"h":5,"w":8,"x":0,"y":14},"id":20,"legend":{"alignAsTable":false,"avg":false,"current":false,"max":false,"min":false,"rightSide":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"citadel_secret_controller_csr_err_count{job=\"citadel\"}","format":"time_series","intervalFactor":1,"legendFormat":"CSR
      Creation Error Count","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"CSR
      Creation Errors","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"fill":1,"gridPos":{"h":5,"w":8,"x":8,"y":14},"id":24,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"citadel_server_csr_parsing_err_count{job=\"citadel\"}","format":"time_series","intervalFactor":1,"legendFormat":"CSR
      Parse Error Count","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"CSR
      Parse Errors","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"description":"The
      number of authentication failures.","fill":1,"gridPos":{"h":5,"w":8,"x":16,"y":14},"id":26,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"citadel_server_authentication_failure_count{job=\"citadel\"}","format":"time_series","intervalFactor":1,"legendFormat":"Authentication
      Failure Count","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Authentication
      Failures","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":19},"id":4,"panels":[],"title":"Secret
      Controller","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"description":"The
      number of certificates created due to service account creation.","fill":1,"gridPos":{"h":5,"w":8,"x":0,"y":20},"id":2,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":true,"targets":[{"expr":"citadel_secret_controller_svc_acc_created_cert_count{job=\"citadel\"}","format":"time_series","intervalFactor":1,"legendFormat":"SA
      Secrets Created","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Service
      Account Secrets Created (due to SA creation)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"short","label":"Certs
      Created","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"description":"The
      number of certificates deleted due to service account deletion.","fill":1,"gridPos":{"h":5,"w":8,"x":8,"y":20},"id":16,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":true,"targets":[{"expr":"citadel_secret_controller_svc_acc_deleted_cert_count{job=\"citadel\"}","format":"time_series","intervalFactor":1,"legendFormat":"SA
      Secrets Deleted","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Service
      Account Secrets Deleted (due to SA deletion)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"short","label":"Certs
      Created","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"description":"The
      number of certificates recreated due to secret deletion (service account still
      exists).","fill":1,"gridPos":{"h":5,"w":8,"x":16,"y":20},"id":6,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":true,"targets":[{"expr":"citadel_secret_controller_secret_deleted_cert_count{job=\"citadel\"}","format":"time_series","intervalFactor":1,"legendFormat":"SA
      Secrets Recreated","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Service
      Account Secrets Recreated (due to errant deletion)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"short","label":"Certs
      Created","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}}],"refresh":"5s","schemaVersion":18,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-5m","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"","title":"Istio
      Citadel Dashboard","uid":"OOyOqb4Wz","version":1}'
  kind: ConfigMap
  metadata:
    labels:
      grafana_dashboard: '1'
      kubenix/project-name: kubenix
    name: citadel-dashboard.json
    namespace: knative-monitoring
- apiVersion: v1
  data:
    galley-dashboard.json: '{"__inputs":[{"description":"","label":"Prometheus","name":"DS_PROMETHEUS","pluginId":"prometheus","pluginName":"Prometheus","type":"datasource"}],"annotations":{"list":[{"builtIn":1,"datasource":"--
      Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations
      & Alerts","type":"dashboard"}]},"editable":false,"gnetId":null,"graphTooltip":0,"links":[],"panels":[{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":5,"w":24,"x":0,"y":0},"id":46,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(istio_build{component=\"galley\"})
      by (tag)","format":"time_series","intervalFactor":1,"legendFormat":"{{ tag }}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Galley
      Versions","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":5},"id":40,"panels":[],"title":"Resource
      Usage","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":8,"w":6,"x":0,"y":6},"id":36,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"process_virtual_memory_bytes{job=\"galley\"}","format":"time_series","intervalFactor":2,"legendFormat":"Virtual
      Memory","refId":"A"},{"expr":"process_resident_memory_bytes{job=\"galley\"}","format":"time_series","intervalFactor":2,"legendFormat":"Resident
      Memory","refId":"B"},{"expr":"go_memstats_heap_sys_bytes{job=\"galley\"}","format":"time_series","intervalFactor":2,"legendFormat":"heap
      sys","refId":"C"},{"expr":"go_memstats_heap_alloc_bytes{job=\"galley\"}","format":"time_series","intervalFactor":2,"legendFormat":"heap
      alloc","refId":"D"},{"expr":"go_memstats_alloc_bytes{job=\"galley\"}","format":"time_series","intervalFactor":2,"legendFormat":"Alloc","refId":"F"},{"expr":"go_memstats_heap_inuse_bytes{job=\"galley\"}","format":"time_series","intervalFactor":2,"legendFormat":"Heap
      in-use","refId":"G"},{"expr":"go_memstats_stack_inuse_bytes{job=\"galley\"}","format":"time_series","intervalFactor":2,"legendFormat":"Stack
      in-use","refId":"H"},{"expr":"sum(container_memory_usage_bytes{job=\"kubernetes-cadvisor\",container_name=~\"galley\",
      pod_name=~\"istio-galley-.*\"})","format":"time_series","intervalFactor":1,"legendFormat":"Total
      (kis)","refId":"E"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Memory","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":8,"w":6,"x":6,"y":6},"id":38,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(rate(container_cpu_usage_seconds_total{job=\"kubernetes-cadvisor\",container_name=~\"galley\",
      pod_name=~\"istio-galley-.*\"}[1m]))","format":"time_series","intervalFactor":2,"legendFormat":"Total
      (k8s)","refId":"A"},{"expr":"sum(rate(container_cpu_usage_seconds_total{job=\"kubernetes-cadvisor\",container_name=~\"galley\",
      pod_name=~\"istio-galley-.*\"}[1m])) by (container_name)","format":"time_series","intervalFactor":2,"legendFormat":"{{
      container_name }} (k8s)","refId":"B"},{"expr":"irate(process_cpu_seconds_total{job=\"galley\"}[1m])","format":"time_series","intervalFactor":2,"legendFormat":"galley
      (self-reported)","refId":"C"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"CPU","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":8,"w":6,"x":12,"y":6},"id":42,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"process_open_fds{job=\"galley\"}","format":"time_series","intervalFactor":2,"legendFormat":"Open
      FDs (galley)","refId":"A"},{"expr":"container_fs_usage_bytes{job=\"kubernetes-cadvisor\",container_name=~\"galley\",
      pod_name=~\"istio-galley-.*\"}","format":"time_series","intervalFactor":2,"legendFormat":"{{
      container_name }} ","refId":"B"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Disk","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":8,"w":6,"x":18,"y":6},"id":44,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"go_goroutines{job=\"galley\"}","format":"time_series","intervalFactor":2,"legendFormat":"goroutines_total","refId":"A"},{"expr":"istio_mcp_clients_total{component=\"galley\"}","format":"time_series","intervalFactor":1,"legendFormat":"clients_total","refId":"B"},{"expr":"go_goroutines{job=\"galley\"}/sum(istio_mcp_clients_total{component=\"galley\"})
      without (component)","format":"time_series","intervalFactor":1,"legendFormat":"avg_goroutines_per_client","refId":"C"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Goroutines","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":14},"id":10,"panels":[],"title":"Runtime","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":8,"x":0,"y":15},"id":2,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(rate(galley_runtime_strategy_on_change_total[1m]))
      * 60","format":"time_series","intervalFactor":1,"legendFormat":"Strategy Change
      Events","refId":"A"},{"expr":"sum(rate(galley_runtime_processor_events_processed_total[1m]))
      * 60","format":"time_series","intervalFactor":1,"legendFormat":"Processed Events","refId":"B"},{"expr":"sum(rate(galley_runtime_processor_snapshots_published_total[1m]))
      * 60","format":"time_series","intervalFactor":1,"legendFormat":"Snapshot Published","refId":"C"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Event
      Rates","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Events/min","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":"","logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":8,"x":8,"y":15},"id":4,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(rate(galley_runtime_strategy_timer_max_time_reached_total[1m]))
      * 60","format":"time_series","intervalFactor":1,"legendFormat":"Max Time Reached","refId":"A"},{"expr":"sum(rate(galley_runtime_strategy_timer_quiesce_reached_total[1m]))
      * 60","format":"time_series","intervalFactor":1,"legendFormat":"Quiesce Reached","refId":"B"},{"expr":"sum(rate(galley_runtime_strategy_timer_resets_total[1m]))
      * 60","format":"time_series","intervalFactor":1,"legendFormat":"Timer Resets","refId":"C"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Timer
      Rates","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Events/min","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":8,"x":16,"y":15},"id":8,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":3,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"histogram_quantile(0.50,
      sum by (le) (galley_runtime_processor_snapshot_events_total_bucket))","format":"time_series","intervalFactor":1,"legendFormat":"P50","refId":"A"},{"expr":"histogram_quantile(0.90,
      sum by (le) (galley_runtime_processor_snapshot_events_total_bucket))","format":"time_series","intervalFactor":1,"legendFormat":"P90","refId":"B"},{"expr":"histogram_quantile(0.95,
      sum by (le) (galley_runtime_processor_snapshot_events_total_bucket))","format":"time_series","intervalFactor":1,"legendFormat":"P95","refId":"C"},{"expr":"histogram_quantile(0.99,
      sum by (le) (galley_runtime_processor_snapshot_events_total_bucket))","format":"time_series","intervalFactor":1,"legendFormat":"P99","refId":"D"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Events
      Per Snapshot","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":8,"x":8,"y":21},"id":6,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum
      by (typeURL) (galley_runtime_state_type_instances_total)","format":"time_series","intervalFactor":1,"legendFormat":"{{
      typeURL }}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"State
      Type Instances","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Count","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":27},"id":34,"panels":[],"title":"Validation","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":8,"x":0,"y":28},"id":28,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"galley_validation_cert_key_updates{job=\"galley\"}","format":"time_series","intervalFactor":1,"legendFormat":"Key
      Updates","refId":"A"},{"expr":"galley_validation_cert_key_update_errors{job=\"galley\"}","format":"time_series","intervalFactor":1,"legendFormat":"Key
      Update Errors: {{ error }}","refId":"B"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Validation
      Webhook Certificate","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":8,"x":8,"y":28},"id":30,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(galley_validation_passed{job=\"galley\"})
      by (group, version, resource)","format":"time_series","intervalFactor":1,"legendFormat":"Passed:
      {{ group }}/{{ version }}/{{resource}}","refId":"A"},{"expr":"sum(galley_validation_failed{job=\"galley\"})
      by (group, version, resource, reason)","format":"time_series","intervalFactor":1,"legendFormat":"Failed:
      {{ group }}/{{ version }}/{{resource}} ({{ reason}})","refId":"B"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Resource
      Validation","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":8,"x":16,"y":28},"id":32,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(galley_validation_http_error{job=\"galley\"})
      by (status)","format":"time_series","intervalFactor":1,"legendFormat":"{{ status
      }}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Validation
      HTTP Errors","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":34},"id":12,"panels":[],"title":"Kubernetes
      Source","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":8,"x":0,"y":35},"id":14,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"rate(galley_source_kube_event_success_total[1m])
      * 60","format":"time_series","intervalFactor":1,"legendFormat":"Success","refId":"A"},{"expr":"rate(galley_source_kube_event_error_total[1m])
      * 60","format":"time_series","intervalFactor":1,"legendFormat":"Error","refId":"B"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Source
      Event Rate","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Events/min","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":8,"x":8,"y":35},"id":16,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"rate(galley_source_kube_dynamic_converter_success_total[1m])
      * 60","format":"time_series","intervalFactor":1,"legendFormat":"{apiVersion=\"{{apiVersion}}\",group=\"{{group}}\",kind=\"{{kind}}\"}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Kubernetes
      Object Conversion Successes","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Conversions/min","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":8,"x":16,"y":35},"id":24,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"rate(galley_source_kube_dynamic_converter_failure_total[1m])
      * 60","format":"time_series","intervalFactor":1,"legendFormat":"Error","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Kubernetes
      Object Conversion Failures","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"Failures/min","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":41},"id":18,"panels":[],"title":"Mesh
      Configuration Protocol","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":8,"x":0,"y":42},"id":20,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(istio_mcp_clients_total{component=\"galley\"})","format":"time_series","intervalFactor":1,"legendFormat":"Clients","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Connected
      Clients","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":8,"x":8,"y":42},"id":22,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum
      by(collection)(irate(istio_mcp_request_acks_total{component=\"galley\"}[1m])
      * 60)","format":"time_series","intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Request
      ACKs","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"ACKs/min","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":8,"x":16,"y":42},"id":26,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"rate(istio_mcp_request_nacks_total{component=\"galley\"}[1m])
      * 60","format":"time_series","intervalFactor":1,"refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Request
      NACKs","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"NACKs/min","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}}],"refresh":"5s","schemaVersion":16,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-5m","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"","title":"Istio
      Galley Dashboard","uid":"TSEY6jLmk","version":1}'
  kind: ConfigMap
  metadata:
    labels:
      grafana_dashboard: '1'
      kubenix/project-name: kubenix
    name: galley-dashboard.json
    namespace: knative-monitoring
- apiVersion: v1
  data:
    datasource.yaml: "apiVersion: 1\ndatasources:\n- name: prometheus-istio\n  access:\
      \ proxy\n  type: prometheus\n  org_id: 1\n  url: http://prometheus.istio-system.svc.cluster.local:9090\n"
  kind: ConfigMap
  metadata:
    labels:
      grafana_datasource: '1'
      kubenix/project-name: kubenix
    name: grafana-istio-datasource
    namespace: knative-monitoring
- apiVersion: v1
  data:
    istio-mesh-dashboard.json: '{"annotations":{"list":[{"builtIn":1,"datasource":"--
      Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations
      & Alerts","type":"dashboard"}]},"editable":false,"gnetId":null,"graphTooltip":0,"id":null,"links":[],"panels":[{"content":"<div>\n  <div
      style=\"position: absolute; bottom: 0\">\n    <a href=\"https://istio.io\" target=\"_blank\"
      style=\"font-size: 30px; text-decoration: none; color: inherit\"><img src=\"https://istio.io/img/istio-logo.svg\"
      style=\"height: 50px\"> Istio</a>\n  </div>\n  <div style=\"position: absolute;
      bottom: 0; right: 0; font-size: 15px\">\n    Istio is an <a href=\"https://github.com/istio/istio\"
      target=\"_blank\">open platform</a> that provides a uniform way to connect,\n    <a
      href=\"https://istio.io/docs/concepts/traffic-management/overview.html\" target=\"_blank\">manage</a>,
      and \n    <a href=\"https://istio.io/docs/concepts/network-and-auth/auth.html\"
      target=\"_blank\">secure</a> microservices.\n    <br>\n    Need help? Join the
      <a href=\"https://istio.io/community/\" target=\"_blank\">Istio community</a>.\n  </div>\n</div>","gridPos":{"h":3,"w":24,"x":0,"y":0},"height":"50px","id":13,"links":[],"mode":"html","style":{"font-size":"18pt"},"title":"","transparent":true,"type":"text"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource":"prometheus-istio","format":"ops","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":6,"x":0,"y":3},"id":20,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":true,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"round(sum(irate(istio_requests_total{reporter=\"destination\"}[1m])),
      0.001)","intervalFactor":1,"refId":"A","step":4}],"thresholds":"","title":"Global
      Request Volume","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"avg"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource":"prometheus-istio","format":"percentunit","gauge":{"maxValue":100,"minValue":80,"show":false,"thresholdLabels":false,"thresholdMarkers":false},"gridPos":{"h":3,"w":6,"x":6,"y":3},"id":21,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":true,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(rate(istio_requests_total{reporter=\"destination\",
      response_code!~\"5.*\"}[1m])) / sum(rate(istio_requests_total{reporter=\"destination\"}[1m]))","format":"time_series","intervalFactor":1,"refId":"A","step":4}],"thresholds":"95,
      99, 99.5","title":"Global Success Rate (non-5xx responses)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"avg"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource":"prometheus-istio","format":"ops","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":6,"x":12,"y":3},"id":22,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":true,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(irate(istio_requests_total{reporter=\"destination\",
      response_code=~\"4.*\"}[1m])) ","format":"time_series","intervalFactor":1,"refId":"A","step":4}],"thresholds":"","title":"4xxs","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"avg"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource":"prometheus-istio","format":"ops","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":6,"x":18,"y":3},"id":23,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":true,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(irate(istio_requests_total{reporter=\"destination\",
      response_code=~\"5.*\"}[1m])) ","format":"time_series","intervalFactor":1,"refId":"A","step":4}],"thresholds":"","title":"5xxs","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"avg"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237,
      129, 40, 0.89)","#d44a3a"],"format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":6,"x":0,"y":6},"id":113,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(galley_istio_networking_virtualservices)
      / count(up{job=\"galley\"})","format":"time_series","intervalFactor":1,"refId":"A"}],"thresholds":"","timeFrom":null,"timeShift":null,"title":"Virtual
      Services","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237,
      129, 40, 0.89)","#d44a3a"],"format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":6,"x":6,"y":6},"id":114,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(galley_istio_networking_destinationrules)
      / count(up{job=\"galley\"})","format":"time_series","intervalFactor":1,"refId":"A"}],"thresholds":"","timeFrom":null,"timeShift":null,"title":"Destination
      Rules","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237,
      129, 40, 0.89)","#d44a3a"],"format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":6,"x":12,"y":6},"id":115,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(galley_istio_networking_gateways)
      / count(up{job=\"galley\"})","format":"time_series","intervalFactor":1,"refId":"A"}],"thresholds":"","timeFrom":null,"timeShift":null,"title":"Gateways","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237,
      129, 40, 0.89)","#d44a3a"],"format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":6,"x":18,"y":6},"id":116,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(galley_istio_authentication_meshpolicies)
      / count(up{job=\"galley\"})","format":"time_series","hide":false,"intervalFactor":1,"refId":"A"}],"thresholds":"","timeFrom":null,"timeShift":null,"title":"Authentication
      Mesh Policies","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"columns":[],"datasource":"prometheus-istio","fontSize":"100%","gridPos":{"h":21,"w":24,"x":0,"y":9},"hideTimeOverride":false,"id":73,"links":[],"pageSize":null,"repeat":null,"repeatDirection":"v","scroll":true,"showHeader":true,"sort":{"col":4,"desc":true},"styles":[{"alias":"Workload","colorMode":null,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD
      HH:mm:ss","decimals":2,"link":false,"linkTargetBlank":false,"linkTooltip":"Workload
      dashboard","linkUrl":"/dashboard/db/istio-workload-dashboard?var-namespace=$__cell_2&var-workload=$__cell_","pattern":"destination_workload","preserveFormat":false,"sanitize":false,"thresholds":[],"type":"hidden","unit":"short"},{"alias":"","colorMode":null,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD
      HH:mm:ss","decimals":2,"pattern":"Time","thresholds":[],"type":"hidden","unit":"short"},{"alias":"Requests","colorMode":null,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD
      HH:mm:ss","decimals":2,"pattern":"Value #A","thresholds":[],"type":"number","unit":"ops"},{"alias":"P50
      Latency","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129,
      40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"pattern":"Value
      #B","thresholds":[],"type":"number","unit":"s"},{"alias":"P90 Latency","colorMode":null,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD
      HH:mm:ss","decimals":2,"pattern":"Value #D","thresholds":[],"type":"number","unit":"s"},{"alias":"P99
      Latency","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129,
      40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"pattern":"Value
      #E","thresholds":[],"type":"number","unit":"s"},{"alias":"Success Rate","colorMode":"cell","colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD
      HH:mm:ss","decimals":2,"pattern":"Value #F","thresholds":[".95"," 1.00"],"type":"number","unit":"percentunit"},{"alias":"Workload","colorMode":null,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD
      HH:mm:ss","decimals":2,"link":true,"linkTooltip":"$__cell dashboard","linkUrl":"/dashboard/db/istio-workload-dashboard?var-workload=$__cell_2&var-namespace=$__cell_3","pattern":"destination_workload_var","thresholds":[],"type":"number","unit":"short"},{"alias":"Service","colorMode":null,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD
      HH:mm:ss","decimals":2,"link":true,"linkTooltip":"$__cell dashboard","linkUrl":"/dashboard/db/istio-service-dashboard?var-service=$__cell","pattern":"destination_service","thresholds":[],"type":"string","unit":"short"},{"alias":"","colorMode":null,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD
      HH:mm:ss","decimals":2,"pattern":"destination_workload_namespace","thresholds":[],"type":"hidden","unit":"short"}],"targets":[{"expr":"label_join(sum(rate(istio_requests_total{reporter=\"destination\",
      response_code=\"200\"}[1m])) by (destination_workload, destination_workload_namespace,
      destination_service), \"destination_workload_var\", \".\", \"destination_workload\",
      \"destination_workload_namespace\")","format":"table","hide":false,"instant":true,"intervalFactor":1,"legendFormat":"{{
      destination_workload}}.{{ destination_workload_namespace }}","refId":"A"},{"expr":"label_join(histogram_quantile(0.50,
      sum(rate(istio_request_duration_seconds_bucket{reporter=\"destination\"}[1m]))
      by (le, destination_workload, destination_workload_namespace)), \"destination_workload_var\",
      \".\", \"destination_workload\", \"destination_workload_namespace\")","format":"table","hide":false,"instant":true,"intervalFactor":1,"legendFormat":"{{
      destination_workload}}.{{ destination_workload_namespace }}","refId":"B"},{"expr":"label_join(histogram_quantile(0.90,
      sum(rate(istio_request_duration_seconds_bucket{reporter=\"destination\"}[1m]))
      by (le, destination_workload, destination_workload_namespace)), \"destination_workload_var\",
      \".\", \"destination_workload\", \"destination_workload_namespace\")","format":"table","hide":false,"instant":true,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }}","refId":"D"},{"expr":"label_join(histogram_quantile(0.99,
      sum(rate(istio_request_duration_seconds_bucket{reporter=\"destination\"}[1m]))
      by (le, destination_workload, destination_workload_namespace)), \"destination_workload_var\",
      \".\", \"destination_workload\", \"destination_workload_namespace\")","format":"table","hide":false,"instant":true,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }}","refId":"E"},{"expr":"label_join((sum(rate(istio_requests_total{reporter=\"destination\",
      response_code!~\"5.*\"}[1m])) by (destination_workload, destination_workload_namespace)
      / sum(rate(istio_requests_total{reporter=\"destination\"}[1m])) by (destination_workload,
      destination_workload_namespace)), \"destination_workload_var\", \".\", \"destination_workload\",
      \"destination_workload_namespace\")","format":"table","hide":false,"instant":true,"interval":"","intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }}","refId":"F"}],"timeFrom":null,"title":"HTTP/GRPC
      Workloads","transform":"table","type":"table"},{"columns":[],"datasource":"prometheus-istio","fontSize":"100%","gridPos":{"h":18,"w":24,"x":0,"y":30},"hideTimeOverride":false,"id":109,"links":[],"pageSize":null,"repeatDirection":"v","scroll":true,"showHeader":true,"sort":{"col":2,"desc":true},"styles":[{"alias":"Workload","colorMode":null,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD
      HH:mm:ss","decimals":2,"link":false,"linkTargetBlank":false,"linkTooltip":"$__cell
      dashboard","linkUrl":"/dashboard/db/istio-tcp-workload-dashboard?var-namespace=$__cell_2&&var-workload=$__cell","pattern":"destination_workload","preserveFormat":false,"sanitize":false,"thresholds":[],"type":"hidden","unit":"short"},{"alias":"Bytes
      Sent","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40,
      0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"pattern":"Value
      #A","thresholds":[""],"type":"number","unit":"Bps"},{"alias":"Bytes Received","colorMode":null,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD
      HH:mm:ss","decimals":2,"pattern":"Value #C","thresholds":[],"type":"number","unit":"Bps"},{"alias":"","colorMode":null,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD
      HH:mm:ss","decimals":2,"pattern":"Time","thresholds":[],"type":"hidden","unit":"short"},{"alias":"Workload","colorMode":null,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD
      HH:mm:ss","decimals":2,"link":true,"linkTooltip":"$__cell dashboard","linkUrl":"/dashboard/db/istio-workload-dashboard?var-namespace=$__cell_3&var-workload=$__cell_2","pattern":"destination_workload_var","thresholds":[],"type":"string","unit":"short"},{"alias":"","colorMode":null,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD
      HH:mm:ss","decimals":2,"pattern":"destination_workload_namespace","thresholds":[],"type":"hidden","unit":"short"},{"alias":"Service","colorMode":null,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD
      HH:mm:ss","decimals":2,"link":true,"linkTooltip":"$__cell dashboard","linkUrl":"/dashboard/db/istio-service-dashboard?var-service=$__cell","pattern":"destination_service","thresholds":[],"type":"number","unit":"short"}],"targets":[{"expr":"label_join(sum(rate(istio_tcp_received_bytes_total{reporter=\"source\"}[1m]))
      by (destination_workload, destination_workload_namespace, destination_service),
      \"destination_workload_var\", \".\", \"destination_workload\", \"destination_workload_namespace\")","format":"table","hide":false,"instant":true,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}","refId":"C"},{"expr":"label_join(sum(rate(istio_tcp_sent_bytes_total{reporter=\"source\"}[1m]))
      by (destination_workload, destination_workload_namespace, destination_service),
      \"destination_workload_var\", \".\", \"destination_workload\", \"destination_workload_namespace\")","format":"table","hide":false,"instant":true,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}","refId":"A"}],"timeFrom":null,"title":"TCP Workloads","transform":"table","type":"table"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":9,"w":24,"x":0,"y":48},"id":111,"legend":{"alignAsTable":false,"avg":false,"current":false,"max":false,"min":false,"rightSide":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(istio_build)
      by (component, tag)","format":"time_series","intervalFactor":1,"legendFormat":"{{
      component }}: {{ tag }}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Istio
      Components by Version","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}}],"refresh":"5s","schemaVersion":18,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-5m","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"browser","title":"Istio
      Mesh Dashboard","uid":"G8wLrJIZk","version":5}'
  kind: ConfigMap
  metadata:
    labels:
      grafana_dashboard: '1'
      kubenix/project-name: kubenix
    name: istio-mesh-dashboard.json
    namespace: knative-monitoring
- apiVersion: v1
  data:
    istio-performance-dashboard.json: '{"annotations":{"list":[{"builtIn":1,"datasource":"--
      Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations
      & Alerts","type":"dashboard"}]},"editable":false,"gnetId":null,"graphTooltip":0,"id":9,"links":[],"panels":[{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":21,"panels":[{"content":"The
      charts on this dashboard are intended to show Istio main components cost in
      terms resources utilization under steady load.\n\n- **vCPU/1k rps:** shows vCPU
      utilization by the main Istio components normalized by 1000 requests/second.
      When idle or low traffic, this chart will be blank. The curve for istio-proxy
      refers to the services sidecars only.\n- **vCPU:** vCPU utilization by Istio
      components, not normalized.\n- **Memory:** memory footprint for the components.
      Telemetry and policy are normalized by 1k rps, and no data is shown  when there
      is no traffic. For ingress and istio-proxy, the data is per instance.\n- **Bytes
      transferred/ sec:** shows the number of bytes flowing through each Istio component.\n\n\n","gridPos":{"h":6,"w":24,"x":0,"y":1},"id":19,"links":[],"mode":"markdown","timeFrom":null,"timeShift":null,"title":"Performance
      Dashboard README","transparent":true,"type":"text"}],"title":"Performance Dashboard
      Notes","type":"row"},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":1},"id":6,"panels":[],"title":"vCPU
      Usage","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"fill":1,"gridPos":{"h":8,"w":12,"x":0,"y":2},"id":4,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"(sum(irate(container_cpu_usage_seconds_total{job=\"kubernetes-cadvisor\",pod_name=~\"istio-telemetry-.*\",container_name=~\"mixer|istio-proxy\"}[1m]))/
      (round(sum(irate(istio_requests_total[1m])), 0.001)/1000))/ (sum(irate(istio_requests_total{source_workload=\"istio-ingressgateway\"}[1m]))
      >bool 10)","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"istio-telemetry","refId":"A"},{"expr":"(sum(irate(container_cpu_usage_seconds_total{job=\"kubernetes-cadvisor\",pod_name=~\"istio-ingressgateway-.*\",container_name=\"istio-proxy\"}[1m]))
      / (round(sum(irate(istio_requests_total{source_workload=\"istio-ingressgateway\",
      reporter=\"source\"}[1m])), 0.001)/1000))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"istio-ingressgateway","refId":"B"},{"expr":"(sum(irate(container_cpu_usage_seconds_total{job=\"kubernetes-cadvisor\",namespace!=\"istio-system\",container_name=\"istio-proxy\"}[1m]))/
      (round(sum(irate(istio_requests_total[1m])), 0.001)/1000))/ (sum(irate(istio_requests_total{source_workload=\"istio-ingressgateway\"}[1m]))
      >bool 10)","format":"time_series","intervalFactor":1,"legendFormat":"istio-proxy","refId":"C"},{"expr":"(sum(irate(container_cpu_usage_seconds_total{job=\"kubernetes-cadvisor\",pod_name=~\"istio-policy-.*\",container_name=~\"mixer|istio-proxy\"}[1m]))/
      (round(sum(irate(istio_requests_total[1m])), 0.001)/1000))/ (sum(irate(istio_requests_total{source_workload=\"istio-ingressgateway\"}[1m]))
      >bool 10)","format":"time_series","intervalFactor":1,"legendFormat":"istio-policy","refId":"D"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"vCPU
      / 1k rps","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"fill":1,"gridPos":{"h":8,"w":12,"x":12,"y":2},"id":7,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(rate(container_cpu_usage_seconds_total{job=\"kubernetes-cadvisor\",pod_name=~\"istio-telemetry-.*\",container_name=~\"mixer|istio-proxy\"}[1m]))","format":"time_series","intervalFactor":1,"legendFormat":"istio-telemetry","refId":"A"},{"expr":"sum(rate(container_cpu_usage_seconds_total{job=\"kubernetes-cadvisor\",pod_name=~\"istio-ingressgateway-.*\",container_name=\"istio-proxy\"}[1m]))","format":"time_series","intervalFactor":1,"legendFormat":"istio-ingressgateway","refId":"B"},{"expr":"sum(rate(container_cpu_usage_seconds_total{job=\"kubernetes-cadvisor\",namespace!=\"istio-system\",container_name=\"istio-proxy\"}[1m]))","format":"time_series","intervalFactor":1,"legendFormat":"istio-proxy","refId":"C"},{"expr":"sum(rate(container_cpu_usage_seconds_total{job=\"kubernetes-cadvisor\",pod_name=~\"istio-policy-.*\",container_name=~\"mixer|istio-proxy\"}[1m]))","format":"time_series","intervalFactor":1,"legendFormat":"istio-policy","refId":"D"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"vCPU","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":10},"id":13,"panels":[],"title":"Memory
      and Data Rates","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"fill":1,"gridPos":{"h":8,"w":12,"x":0,"y":11},"id":902,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"(sum(container_memory_usage_bytes{job=\"kubernetes-cadvisor\",pod_name=~\"istio-telemetry-.*\"})
      / (sum(irate(istio_requests_total[1m])) / 1000)) / (sum(irate(istio_requests_total{source_workload=\"istio-ingressgateway\"}[1m]))
      >bool 10)","format":"time_series","intervalFactor":1,"legendFormat":"istio-telemetry
      / 1k rps","refId":"A"},{"expr":"sum(container_memory_usage_bytes{job=\"kubernetes-cadvisor\",pod_name=~\"istio-ingressgateway-.*\"})
      / count(container_memory_usage_bytes{job=\"kubernetes-cadvisor\",pod_name=~\"istio-ingressgateway-.*\",container_name!=\"POD\"})","format":"time_series","intervalFactor":1,"legendFormat":"per
      istio-ingressgateway","refId":"B"},{"expr":"sum(container_memory_usage_bytes{job=\"kubernetes-cadvisor\",namespace!=\"istio-system\",container_name=\"istio-proxy\"})
      / count(container_memory_usage_bytes{job=\"kubernetes-cadvisor\",namespace!=\"istio-system\",container_name=\"istio-proxy\"})","format":"time_series","intervalFactor":1,"legendFormat":"per
      istio proxy","refId":"C"},{"expr":"(sum(container_memory_usage_bytes{job=\"kubernetes-cadvisor\",pod_name=~\"istio-policy-.*\"})
      / (sum(irate(istio_requests_total[1m])) / 1000))/ (sum(irate(istio_requests_total{source_workload=\"istio-ingressgateway\"}[1m]))
      >bool 10)","format":"time_series","intervalFactor":1,"legendFormat":"istio-policy
      / 1k rps","refId":"D"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Memory
      Usage","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"bytes","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"fill":1,"gridPos":{"h":8,"w":12,"x":12,"y":11},"id":11,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(irate(istio_response_bytes_sum{destination_workload=\"istio-telemetry\"}[1m]))
      + sum(irate(istio_request_bytes_sum{destination_workload=\"istio-telemetry\"}[1m]))","format":"time_series","intervalFactor":1,"legendFormat":"istio-telemetry","refId":"A"},{"expr":"sum(irate(istio_response_bytes_sum{source_workload=\"istio-ingressgateway\",
      reporter=\"source\"}[1m]))","format":"time_series","intervalFactor":1,"legendFormat":"istio-ingressgateway","refId":"B"},{"expr":"sum(irate(istio_response_bytes_sum{source_workload_namespace!=\"istio-system\",
      reporter=\"source\"}[1m])) + sum(irate(istio_response_bytes_sum{destination_workload_namespace!=\"istio-system\",
      reporter=\"destination\"}[1m])) + sum(irate(istio_request_bytes_sum{source_workload_namespace!=\"istio-system\",
      reporter=\"source\"}[1m])) + sum(irate(istio_request_bytes_sum{destination_workload_namespace!=\"istio-system\",
      reporter=\"destination\"}[1m]))","format":"time_series","intervalFactor":1,"legendFormat":"istio-proxy","refId":"C"},{"expr":"sum(irate(istio_response_bytes_sum{destination_workload=\"istio-policy\"}[1m]))
      + sum(irate(istio_request_bytes_sum{destination_workload=\"istio-policy\"}[1m]))","format":"time_series","intervalFactor":1,"legendFormat":"istio_policy","refId":"D"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Bytes
      transferred / sec","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"Bps","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":19},"id":17,"panels":[],"title":"Istio
      Component Versions","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"fill":1,"gridPos":{"h":8,"w":24,"x":0,"y":20},"id":15,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(istio_build)
      by (component, tag)","format":"time_series","intervalFactor":1,"legendFormat":"{{
      component }}: {{ tag }}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Istio
      Components by Version","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":31},"id":71,"panels":[],"title":"Proxy
      Resource Usage","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":7,"w":6,"x":0,"y":32},"id":72,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(container_memory_usage_bytes{job=\"kubernetes-cadvisor\",container_name=\"istio-proxy\"})","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"{{
      container_name }} (k8s)","refId":"B","step":2}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Memory","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"bytes","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":7,"w":6,"x":6,"y":32},"id":73,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(rate(container_cpu_usage_seconds_total{job=\"kubernetes-cadvisor\",container_name=\"istio-proxy\"}[1m]))","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"Total
      (k8s)","refId":"A","step":2}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"vCPU","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":7,"w":6,"x":12,"y":32},"id":702,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(container_fs_usage_bytes{job=\"kubernetes-cadvisor\",
      container_name=\"istio-proxy\"})","format":"time_series","intervalFactor":2,"legendFormat":"{{
      container_name }}","refId":"B","step":2}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Disk","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"bytes","label":"","logBase":1,"max":null,"min":null,"show":true},{"decimals":null,"format":"none","label":"","logBase":1024,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":39},"id":69,"panels":[],"title":"Pilot
      Resource Usage","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":7,"w":6,"x":0,"y":40},"id":5,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"process_virtual_memory_bytes{job=\"pilot\"}","format":"time_series","instant":false,"intervalFactor":2,"legendFormat":"Virtual
      Memory","refId":"I","step":2},{"expr":"process_resident_memory_bytes{job=\"pilot\"}","format":"time_series","intervalFactor":2,"legendFormat":"Resident
      Memory","refId":"H","step":2},{"expr":"go_memstats_heap_sys_bytes{job=\"pilot\"}","format":"time_series","hide":true,"intervalFactor":2,"legendFormat":"heap
      sys","refId":"A"},{"expr":"go_memstats_heap_alloc_bytes{job=\"pilot\"}","format":"time_series","hide":true,"intervalFactor":2,"legendFormat":"heap
      alloc","refId":"D"},{"expr":"go_memstats_alloc_bytes{job=\"pilot\"}","format":"time_series","intervalFactor":2,"legendFormat":"Alloc","refId":"F","step":2},{"expr":"go_memstats_heap_inuse_bytes{job=\"pilot\"}","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"Heap
      in-use","refId":"E","step":2},{"expr":"go_memstats_stack_inuse_bytes{job=\"pilot\"}","format":"time_series","intervalFactor":2,"legendFormat":"Stack
      in-use","refId":"G","step":2},{"expr":"sum(container_memory_usage_bytes{job=\"kubernetes-cadvisor\",container_name=~\"discovery|istio-proxy\",
      pod_name=~\"istio-pilot-.*\"})","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"Total
      (k8s)","refId":"C","step":2},{"expr":"container_memory_usage_bytes{job=\"kubernetes-cadvisor\",container_name=~\"discovery|istio-proxy\",
      pod_name=~\"istio-pilot-.*\"}","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"{{
      container_name }} (k8s)","refId":"B","step":2}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Memory","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"bytes","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":7,"w":6,"x":6,"y":40},"id":602,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(rate(container_cpu_usage_seconds_total{job=\"kubernetes-cadvisor\",container_name=~\"discovery|istio-proxy\",
      pod_name=~\"istio-pilot-.*\"}[1m]))","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"Total
      (k8s)","refId":"A","step":2},{"expr":"sum(rate(container_cpu_usage_seconds_total{job=\"kubernetes-cadvisor\",container_name=~\"discovery|istio-proxy\",
      pod_name=~\"istio-pilot-.*\"}[1m])) by (container_name)","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"{{
      container_name }} (k8s)","refId":"B","step":2},{"expr":"irate(process_cpu_seconds_total{job=\"pilot\"}[1m])","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"pilot
      (self-reported)","refId":"C","step":2}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"vCPU","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":7,"w":6,"x":12,"y":40},"id":74,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"process_open_fds{job=\"pilot\"}","format":"time_series","hide":true,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"Open
      FDs (pilot)","refId":"A"},{"expr":"container_fs_usage_bytes{job=\"kubernetes-cadvisor\",
      container_name=~\"discovery|istio-proxy\", pod_name=~\"istio-pilot-.*\"}","format":"time_series","intervalFactor":2,"legendFormat":"{{
      container_name }}","refId":"B","step":2}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Disk","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"bytes","label":"","logBase":1,"max":null,"min":null,"show":true},{"decimals":null,"format":"none","label":"","logBase":1024,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":7,"w":6,"x":18,"y":40},"id":402,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"go_goroutines{job=\"pilot\"}","format":"time_series","intervalFactor":2,"legendFormat":"Number
      of Goroutines","refId":"A","step":2}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Goroutines","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":47},"id":93,"panels":[],"title":"Mixer
      Resource Usage","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":7,"w":6,"x":0,"y":48},"id":94,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"process_virtual_memory_bytes{job=~\"istio-telemetry|istio-policy\"}","format":"time_series","instant":false,"intervalFactor":2,"legendFormat":"Virtual
      Memory","refId":"I","step":2},{"expr":"process_resident_memory_bytes{job=~\"istio-telemetry|istio-policy\"}","format":"time_series","intervalFactor":2,"legendFormat":"Resident
      Memory","refId":"H","step":2},{"expr":"go_memstats_heap_sys_bytes{job=~\"istio-telemetry|istio-policy\"}","format":"time_series","hide":true,"intervalFactor":2,"legendFormat":"heap
      sys","refId":"A"},{"expr":"go_memstats_heap_alloc_bytes{job=~\"istio-telemetry|istio-policy\"}","format":"time_series","hide":true,"intervalFactor":2,"legendFormat":"heap
      alloc","refId":"D"},{"expr":"go_memstats_alloc_bytes{job=~\"istio-telemetry|istio-policy\"}","format":"time_series","intervalFactor":2,"legendFormat":"Alloc","refId":"F","step":2},{"expr":"go_memstats_heap_inuse_bytes{job=~\"istio-telemetry|istio-policy\"}","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"Heap
      in-use","refId":"E","step":2},{"expr":"go_memstats_stack_inuse_bytes{job=~\"istio-policy|istio-telemetry\"}","format":"time_series","intervalFactor":2,"legendFormat":"Stack
      in-use","refId":"G","step":2},{"expr":"sum(container_memory_usage_bytes{job=\"kubernetes-cadvisor\",container_name=~\"mixer|istio-proxy\",
      pod_name=~\"istio-telemetry-.*\"})","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"Total
      (k8s)","refId":"C","step":2},{"expr":"container_memory_usage_bytes{job=\"kubernetes-cadvisor\",container_name=~\"mixer|istio-proxy\",
      pod_name=~\"istio-telemetry-.*\"}","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"{{
      container_name }} (k8s)","refId":"B","step":2}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Memory","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"bytes","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":7,"w":6,"x":6,"y":48},"id":95,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(rate(container_cpu_usage_seconds_total{job=\"kubernetes-cadvisor\",container_name=~\"mixer|istio-proxy\",
      pod_name=~\"istio-telemetry-.*\"}[1m]))","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"Total
      (k8s)","refId":"A","step":2},{"expr":"sum(rate(container_cpu_usage_seconds_total{job=\"kubernetes-cadvisor\",container_name=~\"mixer|istio-proxy\",
      pod_name=~\"istio-telemetry-.*\"}[1m])) by (container_name)","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"{{
      container_name }} (k8s)","refId":"B","step":2},{"expr":"irate(process_cpu_seconds_total{job=~\"istio-policy|istio-telemetry\"}[1m])","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"mixer
      (self-reported)","refId":"C","step":2}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"vCPU","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":7,"w":6,"x":12,"y":48},"id":96,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"process_open_fds{job=~\"istio-policy|istio-telemetry\"}","format":"time_series","hide":true,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"Open
      FDs (pilot)","refId":"A"},{"expr":"container_fs_usage_bytes{job=\"kubernetes-cadvisor\",
      container_name=~\"mixer|istio-proxy\", pod_name=~\"istio-telemetry-.*\"}","format":"time_series","intervalFactor":2,"legendFormat":"{{
      container_name }}","refId":"B","step":2}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Disk","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"bytes","label":"","logBase":1,"max":null,"min":null,"show":true},{"decimals":null,"format":"none","label":"","logBase":1024,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":7,"w":6,"x":18,"y":48},"id":97,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"go_goroutines{job=\"istio-telemetry\"}","format":"time_series","intervalFactor":2,"legendFormat":"Number
      of Goroutines","refId":"A","step":2}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Goroutines","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}}],"refresh":"10s","schemaVersion":18,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-5m","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"","title":"Istio
      Performance Dashboard","uid":"vu8e0VWZk","version":22}'
  kind: ConfigMap
  metadata:
    labels:
      grafana_dashboard: '1'
      kubenix/project-name: kubenix
    name: istio-performance-dashboard.json
    namespace: knative-monitoring
- apiVersion: v1
  data:
    istio-service-dashboard.json: '{"annotations":{"list":[{"builtIn":1,"datasource":"--
      Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations
      & Alerts","type":"dashboard"}]},"editable":false,"gnetId":null,"graphTooltip":0,"iteration":1536442501501,"links":[],"panels":[{"content":"<div
      class=\"dashboard-header text-center\">\n<span>SERVICE: $service</span>\n</div>","gridPos":{"h":3,"w":24,"x":0,"y":0},"id":89,"links":[],"mode":"html","title":"","transparent":true,"type":"text"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource":"prometheus-istio","format":"ops","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":4,"w":6,"x":0,"y":3},"id":12,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":true,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"round(sum(irate(istio_requests_total{reporter=\"source\",destination_service=~\"$service\"}[5m])),
      0.001)","format":"time_series","intervalFactor":1,"refId":"A","step":4}],"thresholds":"","title":"Client
      Request Volume","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(50,
      172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"prometheus-istio","decimals":null,"format":"percentunit","gauge":{"maxValue":100,"minValue":80,"show":false,"thresholdLabels":false,"thresholdMarkers":false},"gridPos":{"h":4,"w":6,"x":6,"y":3},"id":14,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":true,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(irate(istio_requests_total{reporter=\"source\",destination_service=~\"$service\",response_code!~\"5.*\"}[5m]))
      / sum(irate(istio_requests_total{reporter=\"source\",destination_service=~\"$service\"}[5m]))","format":"time_series","intervalFactor":1,"refId":"B"}],"thresholds":"95,
      99, 99.5","title":"Client Success Rate (non-5xx responses)","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"avg"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":4,"w":6,"x":12,"y":3},"id":87,"legend":{"alignAsTable":false,"avg":false,"current":false,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":true,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"histogram_quantile(0.50,
      sum(irate(istio_request_duration_seconds_bucket{reporter=\"source\",destination_service=~\"$service\"}[1m]))
      by (le))","format":"time_series","interval":"","intervalFactor":1,"legendFormat":"P50","refId":"A"},{"expr":"histogram_quantile(0.90,
      sum(irate(istio_request_duration_seconds_bucket{reporter=\"source\",destination_service=~\"$service\"}[1m]))
      by (le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"P90","refId":"B"},{"expr":"histogram_quantile(0.99,
      sum(irate(istio_request_duration_seconds_bucket{reporter=\"source\",destination_service=~\"$service\"}[1m]))
      by (le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"P99","refId":"C"}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Client
      Request Duration","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"s","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237,
      129, 40, 0.89)","#d44a3a"],"datasource":"prometheus-istio","format":"Bps","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":4,"w":6,"x":18,"y":3},"id":84,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":true,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(irate(istio_tcp_received_bytes_total{reporter=\"source\",
      destination_service=~\"$service\"}[1m]))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"","title":"TCP
      Received Bytes","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"avg"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource":"prometheus-istio","format":"ops","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":4,"w":6,"x":0,"y":7},"id":97,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":true,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"round(sum(irate(istio_requests_total{reporter=\"destination\",destination_service=~\"$service\"}[5m])),
      0.001)","format":"time_series","intervalFactor":1,"refId":"A","step":4}],"thresholds":"","title":"Server
      Request Volume","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(50,
      172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"prometheus-istio","decimals":null,"format":"percentunit","gauge":{"maxValue":100,"minValue":80,"show":false,"thresholdLabels":false,"thresholdMarkers":false},"gridPos":{"h":4,"w":6,"x":6,"y":7},"id":98,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":true,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(irate(istio_requests_total{reporter=\"destination\",destination_service=~\"$service\",response_code!~\"5.*\"}[5m]))
      / sum(irate(istio_requests_total{reporter=\"destination\",destination_service=~\"$service\"}[5m]))","format":"time_series","intervalFactor":1,"refId":"B"}],"thresholds":"95,
      99, 99.5","title":"Server Success Rate (non-5xx responses)","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"avg"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":4,"w":6,"x":12,"y":7},"id":99,"legend":{"alignAsTable":false,"avg":false,"current":false,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":true,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"histogram_quantile(0.50,
      sum(irate(istio_request_duration_seconds_bucket{reporter=\"destination\",destination_service=~\"$service\"}[1m]))
      by (le))","format":"time_series","interval":"","intervalFactor":1,"legendFormat":"P50","refId":"A"},{"expr":"histogram_quantile(0.90,
      sum(irate(istio_request_duration_seconds_bucket{reporter=\"destination\",destination_service=~\"$service\"}[1m]))
      by (le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"P90","refId":"B"},{"expr":"histogram_quantile(0.99,
      sum(irate(istio_request_duration_seconds_bucket{reporter=\"destination\",destination_service=~\"$service\"}[1m]))
      by (le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"P99","refId":"C"}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Server
      Request Duration","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"s","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237,
      129, 40, 0.89)","#d44a3a"],"datasource":"prometheus-istio","format":"Bps","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":4,"w":6,"x":18,"y":7},"id":100,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":true,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(irate(istio_tcp_sent_bytes_total{reporter=\"source\",
      destination_service=~\"$service\"}[1m])) ","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"","title":"TCP
      Sent Bytes","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"avg"},{"content":"<div
      class=\"dashboard-header text-center\">\n<span>CLIENT WORKLOADS</span>\n</div>","gridPos":{"h":3,"w":24,"x":0,"y":11},"id":45,"links":[],"mode":"html","title":"","transparent":true,"type":"text"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":0,"gridPos":{"h":6,"w":12,"x":0,"y":14},"id":25,"legend":{"avg":false,"current":false,"hideEmpty":true,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null
      as zero","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"round(sum(irate(istio_requests_total{connection_security_policy=\"mutual_tls\",destination_service=~\"$service\",reporter=\"source\",source_workload=~\"$srcwl\",source_workload_namespace=~\"$srcns\"}[5m]))
      by (source_workload, source_workload_namespace, response_code), 0.001)","format":"time_series","intervalFactor":1,"legendFormat":"{{
      source_workload }}.{{ source_workload_namespace }} : {{ response_code }} (mTLS)","refId":"B","step":2},{"expr":"round(sum(irate(istio_requests_total{connection_security_policy!=\"mutual_tls\",
      destination_service=~\"$service\", reporter=\"source\", source_workload=~\"$srcwl\",
      source_workload_namespace=~\"$srcns\"}[5m])) by (source_workload, source_workload_namespace,
      response_code), 0.001)","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      source_workload }}.{{ source_workload_namespace }} : {{ response_code }}","refId":"A","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Incoming
      Requests by Source And Response Code","tooltip":{"shared":false,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":["total"]},"yaxes":[{"format":"ops","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":12,"x":12,"y":14},"id":26,"legend":{"avg":false,"current":false,"hideEmpty":true,"hideZero":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(irate(istio_requests_total{reporter=\"source\",
      connection_security_policy=\"mutual_tls\", destination_service=~\"$service\",response_code!~\"5.*\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[5m])) by
      (source_workload, source_workload_namespace) / sum(irate(istio_requests_total{reporter=\"source\",
      connection_security_policy=\"mutual_tls\", destination_service=~\"$service\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[5m])) by
      (source_workload, source_workload_namespace)","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      source_workload }}.{{ source_workload_namespace }} (mTLS)","refId":"A","step":2},{"expr":"sum(irate(istio_requests_total{reporter=\"source\",
      connection_security_policy!=\"mutual_tls\", destination_service=~\"$service\",response_code!~\"5.*\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[5m])) by
      (source_workload, source_workload_namespace) / sum(irate(istio_requests_total{reporter=\"source\",
      connection_security_policy!=\"mutual_tls\", destination_service=~\"$service\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[5m])) by
      (source_workload, source_workload_namespace)","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      source_workload }}.{{ source_workload_namespace }}","refId":"B","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Incoming
      Success Rate (non-5xx responses) By Source","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percentunit","label":null,"logBase":1,"max":"1.01","min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","description":"","fill":1,"gridPos":{"h":6,"w":8,"x":0,"y":20},"id":27,"legend":{"alignAsTable":false,"avg":false,"current":false,"hideEmpty":true,"hideZero":false,"max":false,"min":false,"rightSide":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"histogram_quantile(0.50,
      sum(irate(istio_request_duration_seconds_bucket{reporter=\"source\", connection_security_policy=\"mutual_tls\",
      destination_service=~\"$service\", source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m]))
      by (source_workload, source_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P50 (mTLS)","refId":"D","step":2},{"expr":"histogram_quantile(0.90, sum(irate(istio_request_duration_seconds_bucket{reporter=\"source\",
      connection_security_policy=\"mutual_tls\", destination_service=~\"$service\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m])) by
      (source_workload, source_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P90 (mTLS)","refId":"A","step":2},{"expr":"histogram_quantile(0.95, sum(irate(istio_request_duration_seconds_bucket{reporter=\"source\",
      connection_security_policy=\"mutual_tls\", destination_service=~\"$service\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m])) by
      (source_workload, source_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P95 (mTLS)","refId":"B","step":2},{"expr":"histogram_quantile(0.99, sum(irate(istio_request_duration_seconds_bucket{reporter=\"source\",
      connection_security_policy=\"mutual_tls\", destination_service=~\"$service\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m])) by
      (source_workload, source_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P99 (mTLS)","refId":"C","step":2},{"expr":"histogram_quantile(0.50, sum(irate(istio_request_duration_seconds_bucket{reporter=\"source\",
      connection_security_policy!=\"mutual_tls\", destination_service=~\"$service\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m])) by
      (source_workload, source_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P50","refId":"E","step":2},{"expr":"histogram_quantile(0.90, sum(irate(istio_request_duration_seconds_bucket{reporter=\"source\",
      connection_security_policy!=\"mutual_tls\", destination_service=~\"$service\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m])) by
      (source_workload, source_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P90","refId":"F","step":2},{"expr":"histogram_quantile(0.95, sum(irate(istio_request_duration_seconds_bucket{reporter=\"source\",
      connection_security_policy!=\"mutual_tls\", destination_service=~\"$service\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m])) by
      (source_workload, source_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P95","refId":"G","step":2},{"expr":"histogram_quantile(0.99, sum(irate(istio_request_duration_seconds_bucket{reporter=\"source\",
      connection_security_policy!=\"mutual_tls\", destination_service=~\"$service\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m])) by
      (source_workload, source_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P99","refId":"H","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Incoming
      Request Duration by Source","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"s","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":8,"x":8,"y":20},"id":28,"legend":{"alignAsTable":false,"avg":false,"current":false,"hideEmpty":true,"max":false,"min":false,"rightSide":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"histogram_quantile(0.50,
      sum(irate(istio_request_bytes_bucket{reporter=\"source\", connection_security_policy=\"mutual_tls\",
      destination_service=~\"$service\", source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m]))
      by (source_workload, source_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P50 (mTLS)","refId":"D","step":2},{"expr":"histogram_quantile(0.90, sum(irate(istio_request_bytes_bucket{reporter=\"source\",
      connection_security_policy=\"mutual_tls\", destination_service=~\"$service\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m])) by
      (source_workload, source_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}  P90
      (mTLS)","refId":"A","step":2},{"expr":"histogram_quantile(0.95, sum(irate(istio_request_bytes_bucket{reporter=\"source\",
      connection_security_policy=\"mutual_tls\", destination_service=~\"$service\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m])) by
      (source_workload, source_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P95 (mTLS)","refId":"B","step":2},{"expr":"histogram_quantile(0.99, sum(irate(istio_request_bytes_bucket{reporter=\"source\",
      connection_security_policy=\"mutual_tls\", destination_service=~\"$service\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m])) by
      (source_workload, source_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}  P99
      (mTLS)","refId":"C","step":2},{"expr":"histogram_quantile(0.50, sum(irate(istio_request_bytes_bucket{reporter=\"source\",
      connection_security_policy!=\"mutual_tls\", destination_service=~\"$service\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m])) by
      (source_workload, source_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P50","refId":"E","step":2},{"expr":"histogram_quantile(0.90, sum(irate(istio_request_bytes_bucket{reporter=\"source\",
      connection_security_policy!=\"mutual_tls\", destination_service=~\"$service\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m])) by
      (source_workload, source_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P90","refId":"F","step":2},{"expr":"histogram_quantile(0.95, sum(irate(istio_request_bytes_bucket{reporter=\"source\",
      connection_security_policy!=\"mutual_tls\", destination_service=~\"$service\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m])) by
      (source_workload, source_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P95","refId":"G","step":2},{"expr":"histogram_quantile(0.99, sum(irate(istio_request_bytes_bucket{reporter=\"source\",
      connection_security_policy!=\"mutual_tls\", destination_service=~\"$service\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m])) by
      (source_workload, source_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P99","refId":"H","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Incoming
      Request Size By Source","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"decbytes","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":8,"x":16,"y":20},"id":68,"legend":{"alignAsTable":false,"avg":false,"current":false,"hideEmpty":true,"max":false,"min":false,"rightSide":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"histogram_quantile(0.50,
      sum(irate(istio_response_bytes_bucket{reporter=\"source\", connection_security_policy=\"mutual_tls\",
      destination_service=~\"$service\", source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m]))
      by (source_workload, source_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P50 (mTLS)","refId":"D","step":2},{"expr":"histogram_quantile(0.90, sum(irate(istio_response_bytes_bucket{reporter=\"source\",
      connection_security_policy=\"mutual_tls\", destination_service=~\"$service\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m])) by
      (source_workload, source_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}  P90
      (mTLS)","refId":"A","step":2},{"expr":"histogram_quantile(0.95, sum(irate(istio_response_bytes_bucket{reporter=\"source\",
      connection_security_policy=\"mutual_tls\", destination_service=~\"$service\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m])) by
      (source_workload, source_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P95 (mTLS)","refId":"B","step":2},{"expr":"histogram_quantile(0.99, sum(irate(istio_response_bytes_bucket{reporter=\"source\",
      connection_security_policy=\"mutual_tls\", destination_service=~\"$service\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m])) by
      (source_workload, source_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}  P99
      (mTLS)","refId":"C","step":2},{"expr":"histogram_quantile(0.50, sum(irate(istio_response_bytes_bucket{reporter=\"source\",
      connection_security_policy!=\"mutual_tls\", destination_service=~\"$service\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m])) by
      (source_workload, source_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P50","refId":"E","step":2},{"expr":"histogram_quantile(0.90, sum(irate(istio_response_bytes_bucket{reporter=\"source\",
      connection_security_policy!=\"mutual_tls\", destination_service=~\"$service\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m])) by
      (source_workload, source_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P90","refId":"F","step":2},{"expr":"histogram_quantile(0.95, sum(irate(istio_response_bytes_bucket{reporter=\"source\",
      connection_security_policy!=\"mutual_tls\", destination_service=~\"$service\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m])) by
      (source_workload, source_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P95","refId":"G","step":2},{"expr":"histogram_quantile(0.99, sum(irate(istio_response_bytes_bucket{reporter=\"source\",
      connection_security_policy!=\"mutual_tls\", destination_service=~\"$service\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m])) by
      (source_workload, source_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P99","refId":"H","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Response
      Size By Source","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"decbytes","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":12,"x":0,"y":26},"id":80,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"round(sum(irate(istio_tcp_received_bytes_total{reporter=\"source\",
      connection_security_policy=\"mutual_tls\", destination_service=~\"$service\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m])) by
      (source_workload, source_workload_namespace), 0.001)","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      source_workload }}.{{ source_workload_namespace}} (mTLS)","refId":"A","step":2},{"expr":"round(sum(irate(istio_tcp_received_bytes_total{reporter=\"source\",
      connection_security_policy!=\"mutual_tls\", destination_service=~\"$service\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m])) by
      (source_workload, source_workload_namespace), 0.001)","format":"time_series","intervalFactor":1,"legendFormat":"{{
      source_workload }}.{{ source_workload_namespace}}","refId":"B","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Bytes
      Received from Incoming TCP Connection","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"Bps","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":12,"x":12,"y":26},"id":82,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"round(sum(irate(istio_tcp_sent_bytes_total{connection_security_policy=\"mutual_tls\",
      reporter=\"source\", destination_service=~\"$service\", source_workload=~\"$srcwl\",
      source_workload_namespace=~\"$srcns\"}[1m])) by (source_workload, source_workload_namespace),
      0.001)","format":"time_series","intervalFactor":1,"legendFormat":"{{ source_workload
      }}.{{ source_workload_namespace}} (mTLS)","refId":"A","step":2},{"expr":"round(sum(irate(istio_tcp_sent_bytes_total{connection_security_policy!=\"mutual_tls\",
      reporter=\"source\", destination_service=~\"$service\", source_workload=~\"$srcwl\",
      source_workload_namespace=~\"$srcns\"}[1m])) by (source_workload, source_workload_namespace),
      0.001)","format":"time_series","intervalFactor":1,"legendFormat":"{{ source_workload
      }}.{{ source_workload_namespace}}","refId":"B","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Bytes
      Sent to Incoming TCP Connection","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"Bps","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"content":"<div
      class=\"dashboard-header text-center\">\n<span>SERVICE WORKLOADS</span>\n</div>","gridPos":{"h":3,"w":24,"x":0,"y":32},"id":69,"links":[],"mode":"html","title":"","transparent":true,"type":"text"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":0,"gridPos":{"h":6,"w":12,"x":0,"y":35},"id":90,"legend":{"avg":false,"current":false,"hideEmpty":true,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null
      as zero","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"round(sum(irate(istio_requests_total{connection_security_policy=\"mutual_tls\",destination_service=~\"$service\",reporter=\"destination\",destination_workload=~\"$dstwl\",destination_workload_namespace=~\"$dstns\"}[5m]))
      by (destination_workload, destination_workload_namespace, response_code), 0.001)","format":"time_series","intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }} : {{ response_code
      }} (mTLS)","refId":"B","step":2},{"expr":"round(sum(irate(istio_requests_total{connection_security_policy!=\"mutual_tls\",
      destination_service=~\"$service\", reporter=\"destination\", destination_workload=~\"$dstwl\",
      destination_workload_namespace=~\"$dstns\"}[5m])) by (destination_workload,
      destination_workload_namespace, response_code), 0.001)","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }} : {{ response_code
      }}","refId":"A","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Incoming
      Requests by Destination And Response Code","tooltip":{"shared":false,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":["total"]},"yaxes":[{"format":"ops","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":12,"x":12,"y":35},"id":91,"legend":{"avg":false,"current":false,"hideEmpty":true,"hideZero":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(irate(istio_requests_total{reporter=\"destination\",
      connection_security_policy=\"mutual_tls\", destination_service=~\"$service\",response_code!~\"5.*\",
      destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[5m]))
      by (destination_workload, destination_workload_namespace) / sum(irate(istio_requests_total{reporter=\"destination\",
      connection_security_policy=\"mutual_tls\", destination_service=~\"$service\",
      destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[5m]))
      by (destination_workload, destination_workload_namespace)","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }} (mTLS)","refId":"A","step":2},{"expr":"sum(irate(istio_requests_total{reporter=\"destination\",
      connection_security_policy!=\"mutual_tls\", destination_service=~\"$service\",response_code!~\"5.*\",
      destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[5m]))
      by (destination_workload, destination_workload_namespace) / sum(irate(istio_requests_total{reporter=\"destination\",
      connection_security_policy!=\"mutual_tls\", destination_service=~\"$service\",
      destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[5m]))
      by (destination_workload, destination_workload_namespace)","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }}","refId":"B","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Incoming
      Success Rate (non-5xx responses) By Source","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percentunit","label":null,"logBase":1,"max":"1.01","min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","description":"","fill":1,"gridPos":{"h":6,"w":8,"x":0,"y":41},"id":94,"legend":{"alignAsTable":false,"avg":false,"current":false,"hideEmpty":true,"hideZero":false,"max":false,"min":false,"rightSide":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"histogram_quantile(0.50,
      sum(irate(istio_request_duration_seconds_bucket{reporter=\"destination\", connection_security_policy=\"mutual_tls\",
      destination_service=~\"$service\", destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[1m]))
      by (destination_workload, destination_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }} P50 (mTLS)","refId":"D","step":2},{"expr":"histogram_quantile(0.90,
      sum(irate(istio_request_duration_seconds_bucket{reporter=\"destination\", connection_security_policy=\"mutual_tls\",
      destination_service=~\"$service\", destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[1m]))
      by (destination_workload, destination_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }} P90 (mTLS)","refId":"A","step":2},{"expr":"histogram_quantile(0.95,
      sum(irate(istio_request_duration_seconds_bucket{reporter=\"destination\", connection_security_policy=\"mutual_tls\",
      destination_service=~\"$service\", destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[1m]))
      by (destination_workload, destination_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }} P95 (mTLS)","refId":"B","step":2},{"expr":"histogram_quantile(0.99,
      sum(irate(istio_request_duration_seconds_bucket{reporter=\"destination\", connection_security_policy=\"mutual_tls\",
      destination_service=~\"$service\", destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[1m]))
      by (destination_workload, destination_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }} P99 (mTLS)","refId":"C","step":2},{"expr":"histogram_quantile(0.50,
      sum(irate(istio_request_duration_seconds_bucket{reporter=\"destination\", connection_security_policy!=\"mutual_tls\",
      destination_service=~\"$service\", destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[1m]))
      by (destination_workload, destination_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }} P50","refId":"E","step":2},{"expr":"histogram_quantile(0.90,
      sum(irate(istio_request_duration_seconds_bucket{reporter=\"destination\", connection_security_policy!=\"mutual_tls\",
      destination_service=~\"$service\", destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[1m]))
      by (destination_workload, destination_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }} P90","refId":"F","step":2},{"expr":"histogram_quantile(0.95,
      sum(irate(istio_request_duration_seconds_bucket{reporter=\"destination\", connection_security_policy!=\"mutual_tls\",
      destination_service=~\"$service\", destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[1m]))
      by (destination_workload, destination_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }} P95","refId":"G","step":2},{"expr":"histogram_quantile(0.99,
      sum(irate(istio_request_duration_seconds_bucket{reporter=\"destination\", connection_security_policy!=\"mutual_tls\",
      destination_service=~\"$service\", destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[1m]))
      by (destination_workload, destination_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }} P99","refId":"H","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Incoming
      Request Duration by Source","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"s","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":8,"x":8,"y":41},"id":95,"legend":{"alignAsTable":false,"avg":false,"current":false,"hideEmpty":true,"max":false,"min":false,"rightSide":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"histogram_quantile(0.50,
      sum(irate(istio_request_bytes_bucket{reporter=\"destination\", connection_security_policy=\"mutual_tls\",
      destination_service=~\"$service\", destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[1m]))
      by (destination_workload, destination_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }} P50 (mTLS)","refId":"D","step":2},{"expr":"histogram_quantile(0.90,
      sum(irate(istio_request_bytes_bucket{reporter=\"destination\", connection_security_policy=\"mutual_tls\",
      destination_service=~\"$service\", destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[1m]))
      by (destination_workload, destination_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }}  P90 (mTLS)","refId":"A","step":2},{"expr":"histogram_quantile(0.95,
      sum(irate(istio_request_bytes_bucket{reporter=\"destination\", connection_security_policy=\"mutual_tls\",
      destination_service=~\"$service\", destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[1m]))
      by (destination_workload, destination_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }} P95 (mTLS)","refId":"B","step":2},{"expr":"histogram_quantile(0.99,
      sum(irate(istio_request_bytes_bucket{reporter=\"destination\", connection_security_policy=\"mutual_tls\",
      destination_service=~\"$service\", destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[1m]))
      by (destination_workload, destination_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }}  P99 (mTLS)","refId":"C","step":2},{"expr":"histogram_quantile(0.50,
      sum(irate(istio_request_bytes_bucket{reporter=\"destination\", connection_security_policy!=\"mutual_tls\",
      destination_service=~\"$service\", destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[1m]))
      by (destination_workload, destination_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }} P50","refId":"E","step":2},{"expr":"histogram_quantile(0.90,
      sum(irate(istio_request_bytes_bucket{reporter=\"destination\", connection_security_policy!=\"mutual_tls\",
      destination_service=~\"$service\", destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[1m]))
      by (destination_workload, destination_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }} P90","refId":"F","step":2},{"expr":"histogram_quantile(0.95,
      sum(irate(istio_request_bytes_bucket{reporter=\"destination\", connection_security_policy!=\"mutual_tls\",
      destination_service=~\"$service\", destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[1m]))
      by (destination_workload, destination_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }} P95","refId":"G","step":2},{"expr":"histogram_quantile(0.99,
      sum(irate(istio_request_bytes_bucket{reporter=\"destination\", connection_security_policy!=\"mutual_tls\",
      destination_service=~\"$service\", destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[1m]))
      by (destination_workload, destination_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }} P99","refId":"H","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Incoming
      Request Size By Source","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"decbytes","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":8,"x":16,"y":41},"id":96,"legend":{"alignAsTable":false,"avg":false,"current":false,"hideEmpty":true,"max":false,"min":false,"rightSide":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"histogram_quantile(0.50,
      sum(irate(istio_response_bytes_bucket{reporter=\"destination\", connection_security_policy=\"mutual_tls\",
      destination_service=~\"$service\", destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[1m]))
      by (destination_workload, destination_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }} P50 (mTLS)","refId":"D","step":2},{"expr":"histogram_quantile(0.90,
      sum(irate(istio_response_bytes_bucket{reporter=\"destination\", connection_security_policy=\"mutual_tls\",
      destination_service=~\"$service\", destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[1m]))
      by (destination_workload, destination_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }}  P90 (mTLS)","refId":"A","step":2},{"expr":"histogram_quantile(0.95,
      sum(irate(istio_response_bytes_bucket{reporter=\"destination\", connection_security_policy=\"mutual_tls\",
      destination_service=~\"$service\", destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[1m]))
      by (destination_workload, destination_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }} P95 (mTLS)","refId":"B","step":2},{"expr":"histogram_quantile(0.99,
      sum(irate(istio_response_bytes_bucket{reporter=\"destination\", connection_security_policy=\"mutual_tls\",
      destination_service=~\"$service\", destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[1m]))
      by (destination_workload, destination_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }}  P99 (mTLS)","refId":"C","step":2},{"expr":"histogram_quantile(0.50,
      sum(irate(istio_response_bytes_bucket{reporter=\"destination\", connection_security_policy!=\"mutual_tls\",
      destination_service=~\"$service\", destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[1m]))
      by (destination_workload, destination_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }} P50","refId":"E","step":2},{"expr":"histogram_quantile(0.90,
      sum(irate(istio_response_bytes_bucket{reporter=\"destination\", connection_security_policy!=\"mutual_tls\",
      destination_service=~\"$service\", destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[1m]))
      by (destination_workload, destination_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }} P90","refId":"F","step":2},{"expr":"histogram_quantile(0.95,
      sum(irate(istio_response_bytes_bucket{reporter=\"destination\", connection_security_policy!=\"mutual_tls\",
      destination_service=~\"$service\", destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[1m]))
      by (destination_workload, destination_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }} P95","refId":"G","step":2},{"expr":"histogram_quantile(0.99,
      sum(irate(istio_response_bytes_bucket{reporter=\"destination\", connection_security_policy!=\"mutual_tls\",
      destination_service=~\"$service\", destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[1m]))
      by (destination_workload, destination_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace }} P99","refId":"H","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Response
      Size By Source","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"decbytes","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":12,"x":0,"y":47},"id":92,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"round(sum(irate(istio_tcp_received_bytes_total{reporter=\"source\",
      connection_security_policy=\"mutual_tls\", destination_service=~\"$service\",
      destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[1m]))
      by (destination_workload, destination_workload_namespace), 0.001)","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace}} (mTLS)","refId":"A","step":2},{"expr":"round(sum(irate(istio_tcp_received_bytes_total{reporter=\"source\",
      connection_security_policy!=\"mutual_tls\", destination_service=~\"$service\",
      destination_workload=~\"$dstwl\", destination_workload_namespace=~\"$dstns\"}[1m]))
      by (destination_workload, destination_workload_namespace), 0.001)","format":"time_series","intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{ destination_workload_namespace}}","refId":"B","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Bytes
      Received from Incoming TCP Connection","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"Bps","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":12,"x":12,"y":47},"id":93,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"round(sum(irate(istio_tcp_sent_bytes_total{connection_security_policy=\"mutual_tls\",
      reporter=\"source\", destination_service=~\"$service\", destination_workload=~\"$dstwl\",
      destination_workload_namespace=~\"$dstns\"}[1m])) by (destination_workload,
      destination_workload_namespace), 0.001)","format":"time_series","intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{destination_workload_namespace }} (mTLS)","refId":"A","step":2},{"expr":"round(sum(irate(istio_tcp_sent_bytes_total{connection_security_policy!=\"mutual_tls\",
      reporter=\"source\", destination_service=~\"$service\", destination_workload=~\"$dstwl\",
      destination_workload_namespace=~\"$dstns\"}[1m])) by (destination_workload,
      destination_workload_namespace), 0.001)","format":"time_series","intervalFactor":1,"legendFormat":"{{
      destination_workload }}.{{destination_workload_namespace }}","refId":"B","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Bytes
      Sent to Incoming TCP Connection","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"Bps","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}}],"refresh":"10s","schemaVersion":16,"style":"dark","tags":[],"templating":{"list":[{"allValue":null,"datasource":"prometheus-istio","hide":0,"includeAll":false,"label":"Service","multi":false,"name":"service","options":[],"query":"label_values(destination_service)","refresh":1,"regex":"","sort":0,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false},{"allValue":null,"current":{"text":"All","value":"$__all"},"datasource":"prometheus-istio","hide":0,"includeAll":true,"label":"Client
      Workload Namespace","multi":true,"name":"srcns","options":[],"query":"query_result(
      sum(istio_requests_total{reporter=\"destination\", destination_service=\"$service\"})
      by (source_workload_namespace) or sum(istio_tcp_sent_bytes_total{reporter=\"destination\",
      destination_service=~\"$service\"}) by (source_workload_namespace))","refresh":1,"regex":"/.*namespace=\"([^\"]*).*/","sort":2,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false},{"allValue":null,"current":{"text":"All","value":"$__all"},"datasource":"prometheus-istio","hide":0,"includeAll":true,"label":"Client
      Workload","multi":true,"name":"srcwl","options":[],"query":"query_result( sum(istio_requests_total{reporter=\"destination\",
      destination_service=~\"$service\", source_workload_namespace=~\"$srcns\"}) by
      (source_workload) or sum(istio_tcp_sent_bytes_total{reporter=\"destination\",
      destination_service=~\"$service\", source_workload_namespace=~\"$srcns\"}) by
      (source_workload))","refresh":1,"regex":"/.*workload=\"([^\"]*).*/","sort":3,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false},{"allValue":null,"current":{"text":"All","value":"$__all"},"datasource":"prometheus-istio","hide":0,"includeAll":true,"label":"Service
      Workload Namespace","multi":true,"name":"dstns","options":[],"query":"query_result(
      sum(istio_requests_total{reporter=\"destination\", destination_service=\"$service\"})
      by (destination_workload_namespace) or sum(istio_tcp_sent_bytes_total{reporter=\"destination\",
      destination_service=~\"$service\"}) by (destination_workload_namespace))","refresh":1,"regex":"/.*namespace=\"([^\"]*).*/","sort":2,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false},{"allValue":null,"current":{"text":"All","value":"$__all"},"datasource":"prometheus-istio","hide":0,"includeAll":true,"label":"Service
      Workload","multi":true,"name":"dstwl","options":[],"query":"query_result( sum(istio_requests_total{reporter=\"destination\",
      destination_service=~\"$service\", destination_workload_namespace=~\"$dstns\"})
      by (destination_workload) or sum(istio_tcp_sent_bytes_total{reporter=\"destination\",
      destination_service=~\"$service\", destination_workload_namespace=~\"$dstns\"})
      by (destination_workload))","refresh":1,"regex":"/.*workload=\"([^\"]*).*/","sort":3,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false}]},"time":{"from":"now-5m","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"","title":"Istio
      Service Dashboard","uid":"LJ_uJAvmk","version":1}'
  kind: ConfigMap
  metadata:
    labels:
      grafana_dashboard: '1'
      kubenix/project-name: kubenix
    name: istio-service-dashboard.json
    namespace: knative-monitoring
- apiVersion: v1
  data:
    istio-workload-dashboard.json: '{"__inputs":[{"description":"","label":"Prometheus","name":"DS_PROMETHEUS","pluginId":"prometheus","pluginName":"Prometheus","type":"datasource"}],"__requires":[{"id":"grafana","name":"Grafana","type":"grafana","version":"5.0.4"},{"id":"graph","name":"Graph","type":"panel","version":"5.0.0"},{"id":"prometheus","name":"Prometheus","type":"datasource","version":"5.0.0"},{"id":"singlestat","name":"Singlestat","type":"panel","version":"5.0.0"},{"id":"text","name":"Text","type":"panel","version":"5.0.0"}],"annotations":{"list":[{"builtIn":1,"datasource":"--
      Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations
      & Alerts","type":"dashboard"}]},"editable":false,"gnetId":null,"graphTooltip":0,"id":null,"iteration":1531345461465,"links":[],"panels":[{"content":"<div
      class=\"dashboard-header text-center\">\n<span>WORKLOAD: $workload.$namespace</span>\n</div>","gridPos":{"h":3,"w":24,"x":0,"y":0},"id":89,"links":[],"mode":"html","title":"","transparent":true,"type":"text"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource":"prometheus-istio","format":"ops","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":4,"w":8,"x":0,"y":3},"id":12,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":true,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"round(sum(irate(istio_requests_total{reporter=\"destination\",destination_workload_namespace=~\"$namespace\",destination_workload=~\"$workload\"}[5m])),
      0.001)","format":"time_series","intervalFactor":1,"refId":"A","step":4}],"thresholds":"","title":"Incoming
      Request Volume","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(50,
      172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"prometheus-istio","decimals":null,"format":"percentunit","gauge":{"maxValue":100,"minValue":80,"show":false,"thresholdLabels":false,"thresholdMarkers":false},"gridPos":{"h":4,"w":8,"x":8,"y":3},"id":14,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":true,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(irate(istio_requests_total{reporter=\"destination\",destination_workload_namespace=~\"$namespace\",destination_workload=~\"$workload\",response_code!~\"5.*\"}[5m]))
      / sum(irate(istio_requests_total{reporter=\"destination\",destination_workload_namespace=~\"$namespace\",destination_workload=~\"$workload\"}[5m]))","format":"time_series","intervalFactor":1,"refId":"B"}],"thresholds":"95,
      99, 99.5","title":"Incoming Success Rate (non-5xx responses)","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"avg"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":4,"w":8,"x":16,"y":3},"id":87,"legend":{"alignAsTable":false,"avg":false,"current":false,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":true,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"histogram_quantile(0.50,
      sum(irate(istio_request_duration_seconds_bucket{reporter=\"destination\",destination_workload=~\"$workload\",
      destination_workload_namespace=~\"$namespace\"}[1m])) by (le))","format":"time_series","interval":"","intervalFactor":1,"legendFormat":"P50","refId":"A"},{"expr":"histogram_quantile(0.90,
      sum(irate(istio_request_duration_seconds_bucket{reporter=\"destination\",destination_workload=~\"$workload\",
      destination_workload_namespace=~\"$namespace\"}[1m])) by (le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"P90","refId":"B"},{"expr":"histogram_quantile(0.99,
      sum(irate(istio_request_duration_seconds_bucket{reporter=\"destination\",destination_workload=~\"$workload\",
      destination_workload_namespace=~\"$namespace\"}[1m])) by (le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"P99","refId":"C"}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Request
      Duration","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"s","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}]},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237,
      129, 40, 0.89)","#d44a3a"],"datasource":"prometheus-istio","format":"Bps","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":4,"w":12,"x":0,"y":7},"id":84,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":true,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(irate(istio_tcp_sent_bytes_total{reporter=\"destination\",
      destination_workload_namespace=~\"$namespace\", destination_workload=~\"$workload\"}[1m]))
      + sum(irate(istio_tcp_received_bytes_total{reporter=\"destination\", destination_workload_namespace=~\"$namespace\",
      destination_workload=~\"$workload\"}[1m]))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"","title":"TCP
      Server Traffic","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"avg"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237,
      129, 40, 0.89)","#d44a3a"],"datasource":"prometheus-istio","format":"Bps","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":4,"w":12,"x":12,"y":7},"id":85,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value
      to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31,
      118, 189, 0.18)","full":true,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"expr":"sum(irate(istio_tcp_sent_bytes_total{reporter=\"source\",
      source_workload_namespace=~\"$namespace\", source_workload=~\"$workload\"}[1m]))
      + sum(irate(istio_tcp_received_bytes_total{reporter=\"source\", source_workload_namespace=~\"$namespace\",
      source_workload=~\"$workload\"}[1m]))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"","refId":"A"}],"thresholds":"","title":"TCP
      Client Traffic","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"N/A","value":"null"}],"valueName":"avg"},{"content":"<div
      class=\"dashboard-header text-center\">\n<span>INBOUND WORKLOADS</span>\n</div>","gridPos":{"h":3,"w":24,"x":0,"y":11},"id":45,"links":[],"mode":"html","title":"","transparent":true,"type":"text"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":0,"gridPos":{"h":6,"w":12,"x":0,"y":14},"id":25,"legend":{"avg":false,"current":false,"hideEmpty":true,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null
      as zero","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"round(sum(irate(istio_requests_total{connection_security_policy=\"mutual_tls\",
      destination_workload_namespace=~\"$namespace\", destination_workload=~\"$workload\",
      reporter=\"destination\", source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[5m]))
      by (source_workload, source_workload_namespace, response_code), 0.001)","format":"time_series","intervalFactor":1,"legendFormat":"{{
      source_workload }}.{{ source_workload_namespace }} : {{ response_code }} (mTLS)","refId":"B","step":2},{"expr":"round(sum(irate(istio_requests_total{connection_security_policy!=\"mutual_tls\",
      destination_workload_namespace=~\"$namespace\", destination_workload=~\"$workload\",
      reporter=\"destination\", source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[5m]))
      by (source_workload, source_workload_namespace, response_code), 0.001)","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      source_workload }}.{{ source_workload_namespace }} : {{ response_code }}","refId":"A","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Incoming
      Requests by Source And Response Code","tooltip":{"shared":false,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":["total"]},"yaxes":[{"format":"ops","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":12,"x":12,"y":14},"id":26,"legend":{"avg":false,"current":false,"hideEmpty":true,"hideZero":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(irate(istio_requests_total{reporter=\"destination\",
      connection_security_policy=\"mutual_tls\", destination_workload_namespace=~\"$namespace\",
      destination_workload=~\"$workload\",response_code!~\"5.*\", source_workload=~\"$srcwl\",
      source_workload_namespace=~\"$srcns\"}[5m])) by (source_workload, source_workload_namespace)
      / sum(irate(istio_requests_total{reporter=\"destination\", connection_security_policy=\"mutual_tls\",
      destination_workload_namespace=~\"$namespace\", destination_workload=~\"$workload\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[5m])) by
      (source_workload, source_workload_namespace)","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      source_workload }}.{{ source_workload_namespace }} (mTLS)","refId":"A","step":2},{"expr":"sum(irate(istio_requests_total{reporter=\"destination\",
      connection_security_policy!=\"mutual_tls\", destination_workload_namespace=~\"$namespace\",
      destination_workload=~\"$workload\",response_code!~\"5.*\", source_workload=~\"$srcwl\",
      source_workload_namespace=~\"$srcns\"}[5m])) by (source_workload, source_workload_namespace)
      / sum(irate(istio_requests_total{reporter=\"destination\", connection_security_policy!=\"mutual_tls\",
      destination_workload_namespace=~\"$namespace\", destination_workload=~\"$workload\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[5m])) by
      (source_workload, source_workload_namespace)","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      source_workload }}.{{ source_workload_namespace }}","refId":"B","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Incoming
      Success Rate (non-5xx responses) By Source","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percentunit","label":null,"logBase":1,"max":"1.01","min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","description":"","fill":1,"gridPos":{"h":6,"w":8,"x":0,"y":20},"id":27,"legend":{"alignAsTable":false,"avg":false,"current":false,"hideEmpty":true,"hideZero":false,"max":false,"min":false,"rightSide":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"histogram_quantile(0.50,
      sum(irate(istio_request_duration_seconds_bucket{reporter=\"destination\", connection_security_policy=\"mutual_tls\",
      destination_workload=~\"$workload\", destination_workload_namespace=~\"$namespace\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m])) by
      (source_workload, source_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P50 (mTLS)","refId":"D","step":2},{"expr":"histogram_quantile(0.90, sum(irate(istio_request_duration_seconds_bucket{reporter=\"destination\",
      connection_security_policy=\"mutual_tls\", destination_workload=~\"$workload\",
      destination_workload_namespace=~\"$namespace\", source_workload=~\"$srcwl\",
      source_workload_namespace=~\"$srcns\"}[1m])) by (source_workload, source_workload_namespace,
      le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P90 (mTLS)","refId":"A","step":2},{"expr":"histogram_quantile(0.95, sum(irate(istio_request_duration_seconds_bucket{reporter=\"destination\",
      connection_security_policy=\"mutual_tls\", destination_workload=~\"$workload\",
      destination_workload_namespace=~\"$namespace\", source_workload=~\"$srcwl\",
      source_workload_namespace=~\"$srcns\"}[1m])) by (source_workload, source_workload_namespace,
      le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P95 (mTLS)","refId":"B","step":2},{"expr":"histogram_quantile(0.99, sum(irate(istio_request_duration_seconds_bucket{reporter=\"destination\",
      connection_security_policy=\"mutual_tls\", destination_workload=~\"$workload\",
      destination_workload_namespace=~\"$namespace\", source_workload=~\"$srcwl\",
      source_workload_namespace=~\"$srcns\"}[1m])) by (source_workload, source_workload_namespace,
      le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P99 (mTLS)","refId":"C","step":2},{"expr":"histogram_quantile(0.50, sum(irate(istio_request_duration_seconds_bucket{reporter=\"destination\",
      connection_security_policy!=\"mutual_tls\", destination_workload=~\"$workload\",
      destination_workload_namespace=~\"$namespace\", source_workload=~\"$srcwl\",
      source_workload_namespace=~\"$srcns\"}[1m])) by (source_workload, source_workload_namespace,
      le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P50","refId":"E","step":2},{"expr":"histogram_quantile(0.90, sum(irate(istio_request_duration_seconds_bucket{reporter=\"destination\",
      connection_security_policy!=\"mutual_tls\", destination_workload=~\"$workload\",
      destination_workload_namespace=~\"$namespace\", source_workload=~\"$srcwl\",
      source_workload_namespace=~\"$srcns\"}[1m])) by (source_workload, source_workload_namespace,
      le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P90","refId":"F","step":2},{"expr":"histogram_quantile(0.95, sum(irate(istio_request_duration_seconds_bucket{reporter=\"destination\",
      connection_security_policy!=\"mutual_tls\", destination_workload=~\"$workload\",
      destination_workload_namespace=~\"$namespace\", source_workload=~\"$srcwl\",
      source_workload_namespace=~\"$srcns\"}[1m])) by (source_workload, source_workload_namespace,
      le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P95","refId":"G","step":2},{"expr":"histogram_quantile(0.99, sum(irate(istio_request_duration_seconds_bucket{reporter=\"destination\",
      connection_security_policy!=\"mutual_tls\", destination_workload=~\"$workload\",
      destination_workload_namespace=~\"$namespace\", source_workload=~\"$srcwl\",
      source_workload_namespace=~\"$srcns\"}[1m])) by (source_workload, source_workload_namespace,
      le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P99","refId":"H","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Incoming
      Request Duration by Source","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"s","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":8,"x":8,"y":20},"id":28,"legend":{"alignAsTable":false,"avg":false,"current":false,"hideEmpty":true,"max":false,"min":false,"rightSide":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"histogram_quantile(0.50,
      sum(irate(istio_request_bytes_bucket{reporter=\"destination\", connection_security_policy=\"mutual_tls\",
      destination_workload=~\"$workload\", destination_workload_namespace=~\"$namespace\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m])) by
      (source_workload, source_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P50 (mTLS)","refId":"D","step":2},{"expr":"histogram_quantile(0.90, sum(irate(istio_request_bytes_bucket{reporter=\"destination\",
      connection_security_policy=\"mutual_tls\", destination_workload=~\"$workload\",
      destination_workload_namespace=~\"$namespace\", source_workload=~\"$srcwl\",
      source_workload_namespace=~\"$srcns\"}[1m])) by (source_workload, source_workload_namespace,
      le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}  P90
      (mTLS)","refId":"A","step":2},{"expr":"histogram_quantile(0.95, sum(irate(istio_request_bytes_bucket{reporter=\"destination\",
      connection_security_policy=\"mutual_tls\", destination_workload=~\"$workload\",
      destination_workload_namespace=~\"$namespace\", source_workload=~\"$srcwl\",
      source_workload_namespace=~\"$srcns\"}[1m])) by (source_workload, source_workload_namespace,
      le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P95 (mTLS)","refId":"B","step":2},{"expr":"histogram_quantile(0.99, sum(irate(istio_request_bytes_bucket{reporter=\"destination\",
      connection_security_policy=\"mutual_tls\", destination_workload=~\"$workload\",
      destination_workload_namespace=~\"$namespace\", source_workload=~\"$srcwl\",
      source_workload_namespace=~\"$srcns\"}[1m])) by (source_workload, source_workload_namespace,
      le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}  P99
      (mTLS)","refId":"C","step":2},{"expr":"histogram_quantile(0.50, sum(irate(istio_request_bytes_bucket{reporter=\"destination\",
      connection_security_policy!=\"mutual_tls\", destination_workload=~\"$workload\",
      destination_workload_namespace=~\"$namespace\", source_workload=~\"$srcwl\",
      source_workload_namespace=~\"$srcns\"}[1m])) by (source_workload, source_workload_namespace,
      le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P50","refId":"E","step":2},{"expr":"histogram_quantile(0.90, sum(irate(istio_request_bytes_bucket{reporter=\"destination\",
      connection_security_policy!=\"mutual_tls\", destination_workload=~\"$workload\",
      destination_workload_namespace=~\"$namespace\", source_workload=~\"$srcwl\",
      source_workload_namespace=~\"$srcns\"}[1m])) by (source_workload, source_workload_namespace,
      le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P90","refId":"F","step":2},{"expr":"histogram_quantile(0.95, sum(irate(istio_request_bytes_bucket{reporter=\"destination\",
      connection_security_policy!=\"mutual_tls\", destination_workload=~\"$workload\",
      destination_workload_namespace=~\"$namespace\", source_workload=~\"$srcwl\",
      source_workload_namespace=~\"$srcns\"}[1m])) by (source_workload, source_workload_namespace,
      le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P95","refId":"G","step":2},{"expr":"histogram_quantile(0.99, sum(irate(istio_request_bytes_bucket{reporter=\"destination\",
      connection_security_policy!=\"mutual_tls\", destination_workload=~\"$workload\",
      destination_workload_namespace=~\"$namespace\", source_workload=~\"$srcwl\",
      source_workload_namespace=~\"$srcns\"}[1m])) by (source_workload, source_workload_namespace,
      le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P99","refId":"H","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Incoming
      Request Size By Source","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"decbytes","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":8,"x":16,"y":20},"id":68,"legend":{"alignAsTable":false,"avg":false,"current":false,"hideEmpty":true,"max":false,"min":false,"rightSide":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"histogram_quantile(0.50,
      sum(irate(istio_response_bytes_bucket{reporter=\"destination\", connection_security_policy=\"mutual_tls\",
      destination_workload=~\"$workload\", destination_workload_namespace=~\"$namespace\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m])) by
      (source_workload, source_workload_namespace, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P50 (mTLS)","refId":"D","step":2},{"expr":"histogram_quantile(0.90, sum(irate(istio_response_bytes_bucket{reporter=\"destination\",
      connection_security_policy=\"mutual_tls\", destination_workload=~\"$workload\",
      destination_workload_namespace=~\"$namespace\", source_workload=~\"$srcwl\",
      source_workload_namespace=~\"$srcns\"}[1m])) by (source_workload, source_workload_namespace,
      le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}  P90
      (mTLS)","refId":"A","step":2},{"expr":"histogram_quantile(0.95, sum(irate(istio_response_bytes_bucket{reporter=\"destination\",
      connection_security_policy=\"mutual_tls\", destination_workload=~\"$workload\",
      destination_workload_namespace=~\"$namespace\", source_workload=~\"$srcwl\",
      source_workload_namespace=~\"$srcns\"}[1m])) by (source_workload, source_workload_namespace,
      le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P95 (mTLS)","refId":"B","step":2},{"expr":"histogram_quantile(0.99, sum(irate(istio_response_bytes_bucket{reporter=\"destination\",
      connection_security_policy=\"mutual_tls\", destination_workload=~\"$workload\",
      destination_workload_namespace=~\"$namespace\", source_workload=~\"$srcwl\",
      source_workload_namespace=~\"$srcns\"}[1m])) by (source_workload, source_workload_namespace,
      le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}  P99
      (mTLS)","refId":"C","step":2},{"expr":"histogram_quantile(0.50, sum(irate(istio_response_bytes_bucket{reporter=\"destination\",
      connection_security_policy!=\"mutual_tls\", destination_workload=~\"$workload\",
      destination_workload_namespace=~\"$namespace\", source_workload=~\"$srcwl\",
      source_workload_namespace=~\"$srcns\"}[1m])) by (source_workload, source_workload_namespace,
      le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P50","refId":"E","step":2},{"expr":"histogram_quantile(0.90, sum(irate(istio_response_bytes_bucket{reporter=\"destination\",
      connection_security_policy!=\"mutual_tls\", destination_workload=~\"$workload\",
      destination_workload_namespace=~\"$namespace\", source_workload=~\"$srcwl\",
      source_workload_namespace=~\"$srcns\"}[1m])) by (source_workload, source_workload_namespace,
      le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P90","refId":"F","step":2},{"expr":"histogram_quantile(0.95, sum(irate(istio_response_bytes_bucket{reporter=\"destination\",
      connection_security_policy!=\"mutual_tls\", destination_workload=~\"$workload\",
      destination_workload_namespace=~\"$namespace\", source_workload=~\"$srcwl\",
      source_workload_namespace=~\"$srcns\"}[1m])) by (source_workload, source_workload_namespace,
      le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P95","refId":"G","step":2},{"expr":"histogram_quantile(0.99, sum(irate(istio_response_bytes_bucket{reporter=\"destination\",
      connection_security_policy!=\"mutual_tls\", destination_workload=~\"$workload\",
      destination_workload_namespace=~\"$namespace\", source_workload=~\"$srcwl\",
      source_workload_namespace=~\"$srcns\"}[1m])) by (source_workload, source_workload_namespace,
      le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{source_workload}}.{{source_workload_namespace}}
      P99","refId":"H","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Response
      Size By Source","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"decbytes","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":12,"x":0,"y":26},"id":80,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"round(sum(irate(istio_tcp_received_bytes_total{reporter=\"destination\",
      connection_security_policy=\"mutual_tls\", destination_workload_namespace=~\"$namespace\",
      destination_workload=~\"$workload\", source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m]))
      by (source_workload, source_workload_namespace), 0.001)","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      source_workload }}.{{ source_workload_namespace}} (mTLS)","refId":"A","step":2},{"expr":"round(sum(irate(istio_tcp_received_bytes_total{reporter=\"destination\",
      connection_security_policy!=\"mutual_tls\", destination_workload_namespace=~\"$namespace\",
      destination_workload=~\"$workload\", source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m]))
      by (source_workload, source_workload_namespace), 0.001)","format":"time_series","intervalFactor":1,"legendFormat":"{{
      source_workload }}.{{ source_workload_namespace}}","refId":"B","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Bytes
      Received from Incoming TCP Connection","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"Bps","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":12,"x":12,"y":26},"id":82,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"round(sum(irate(istio_tcp_sent_bytes_total{connection_security_policy=\"mutual_tls\",
      reporter=\"destination\", destination_workload_namespace=~\"$namespace\", destination_workload=~\"$workload\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m])) by
      (source_workload, source_workload_namespace), 0.001)","format":"time_series","intervalFactor":1,"legendFormat":"{{
      source_workload }}.{{ source_workload_namespace}} (mTLS)","refId":"A","step":2},{"expr":"round(sum(irate(istio_tcp_sent_bytes_total{connection_security_policy!=\"mutual_tls\",
      reporter=\"destination\", destination_workload_namespace=~\"$namespace\", destination_workload=~\"$workload\",
      source_workload=~\"$srcwl\", source_workload_namespace=~\"$srcns\"}[1m])) by
      (source_workload, source_workload_namespace), 0.001)","format":"time_series","intervalFactor":1,"legendFormat":"{{
      source_workload }}.{{ source_workload_namespace}}","refId":"B","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Bytes
      Sent to Incoming TCP Connection","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"Bps","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"content":"<div
      class=\"dashboard-header text-center\">\n<span>OUTBOUND SERVICES</span>\n</div>","gridPos":{"h":3,"w":24,"x":0,"y":32},"id":69,"links":[],"mode":"html","title":"","transparent":true,"type":"text"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":0,"gridPos":{"h":6,"w":12,"x":0,"y":35},"id":70,"legend":{"avg":false,"current":false,"hideEmpty":true,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null
      as zero","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"round(sum(irate(istio_requests_total{connection_security_policy=\"mutual_tls\",
      source_workload_namespace=~\"$namespace\", source_workload=~\"$workload\", reporter=\"source\",
      destination_service=~\"$dstsvc\"}[5m])) by (destination_service, response_code),
      0.001)","format":"time_series","intervalFactor":1,"legendFormat":"{{ destination_service
      }} : {{ response_code }} (mTLS)","refId":"B","step":2},{"expr":"round(sum(irate(istio_requests_total{connection_security_policy!=\"mutual_tls\",
      source_workload_namespace=~\"$namespace\", source_workload=~\"$workload\", reporter=\"source\",
      destination_service=~\"$dstsvc\"}[5m])) by (destination_service, response_code),
      0.001)","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_service }} : {{ response_code }}","refId":"A","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Outgoing
      Requests by Destination And Response Code","tooltip":{"shared":false,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":["total"]},"yaxes":[{"format":"ops","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":12,"x":12,"y":35},"id":71,"legend":{"avg":false,"current":false,"hideEmpty":true,"hideZero":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(irate(istio_requests_total{reporter=\"source\",
      connection_security_policy=\"mutual_tls\", source_workload_namespace=~\"$namespace\",
      source_workload=~\"$workload\",response_code!~\"5.*\", destination_service=~\"$dstsvc\"}[5m]))
      by (destination_service) / sum(irate(istio_requests_total{reporter=\"source\",
      connection_security_policy=\"mutual_tls\", source_workload_namespace=~\"$namespace\",
      source_workload=~\"$workload\", destination_service=~\"$dstsvc\"}[5m])) by (destination_service)","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_service }} (mTLS)","refId":"A","step":2},{"expr":"sum(irate(istio_requests_total{reporter=\"source\",
      connection_security_policy!=\"mutual_tls\", source_workload_namespace=~\"$namespace\",
      source_workload=~\"$workload\",response_code!~\"5.*\", destination_service=~\"$dstsvc\"}[5m]))
      by (destination_service) / sum(irate(istio_requests_total{reporter=\"source\",
      connection_security_policy!=\"mutual_tls\", source_workload_namespace=~\"$namespace\",
      source_workload=~\"$workload\", destination_service=~\"$dstsvc\"}[5m])) by (destination_service)","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{destination_service
      }}","refId":"B","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Outgoing
      Success Rate (non-5xx responses) By Destination","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"percentunit","label":null,"logBase":1,"max":"1.01","min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","description":"","fill":1,"gridPos":{"h":6,"w":8,"x":0,"y":41},"id":72,"legend":{"alignAsTable":false,"avg":false,"current":false,"hideEmpty":true,"hideZero":false,"max":false,"min":false,"rightSide":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"histogram_quantile(0.50,
      sum(irate(istio_request_duration_seconds_bucket{reporter=\"source\", connection_security_policy=\"mutual_tls\",
      source_workload=~\"$workload\", source_workload_namespace=~\"$namespace\", destination_service=~\"$dstsvc\"}[1m]))
      by (destination_service, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_service }} P50 (mTLS)","refId":"D","step":2},{"expr":"histogram_quantile(0.90,
      sum(irate(istio_request_duration_seconds_bucket{reporter=\"source\", connection_security_policy=\"mutual_tls\",
      source_workload=~\"$workload\", source_workload_namespace=~\"$namespace\", destination_service=~\"$dstsvc\"}[1m]))
      by (destination_service, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_service }} P90 (mTLS)","refId":"A","step":2},{"expr":"histogram_quantile(0.95,
      sum(irate(istio_request_duration_seconds_bucket{reporter=\"source\", connection_security_policy=\"mutual_tls\",
      source_workload=~\"$workload\", source_workload_namespace=~\"$namespace\", destination_service=~\"$dstsvc\"}[1m]))
      by (destination_service, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_service }} P95 (mTLS)","refId":"B","step":2},{"expr":"histogram_quantile(0.99,
      sum(irate(istio_request_duration_seconds_bucket{reporter=\"source\", connection_security_policy=\"mutual_tls\",
      source_workload=~\"$workload\", source_workload_namespace=~\"$namespace\", destination_service=~\"$dstsvc\"}[1m]))
      by (destination_service, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_service }} P99 (mTLS)","refId":"C","step":2},{"expr":"histogram_quantile(0.50,
      sum(irate(istio_request_duration_seconds_bucket{reporter=\"source\", connection_security_policy!=\"mutual_tls\",
      source_workload=~\"$workload\", source_workload_namespace=~\"$namespace\", destination_service=~\"$dstsvc\"}[1m]))
      by (destination_service, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_service }} P50","refId":"E","step":2},{"expr":"histogram_quantile(0.90,
      sum(irate(istio_request_duration_seconds_bucket{reporter=\"source\", connection_security_policy!=\"mutual_tls\",
      source_workload=~\"$workload\", source_workload_namespace=~\"$namespace\", destination_service=~\"$dstsvc\"}[1m]))
      by (destination_service, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_service }} P90","refId":"F","step":2},{"expr":"histogram_quantile(0.95,
      sum(irate(istio_request_duration_seconds_bucket{reporter=\"source\", connection_security_policy!=\"mutual_tls\",
      source_workload=~\"$workload\", source_workload_namespace=~\"$namespace\", destination_service=~\"$dstsvc\"}[1m]))
      by (destination_service, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_service }} P95","refId":"G","step":2},{"expr":"histogram_quantile(0.99,
      sum(irate(istio_request_duration_seconds_bucket{reporter=\"source\", connection_security_policy!=\"mutual_tls\",
      source_workload=~\"$workload\", source_workload_namespace=~\"$namespace\", destination_service=~\"$dstsvc\"}[1m]))
      by (destination_service, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_service }} P99","refId":"H","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Outgoing
      Request Duration by Destination","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"s","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":8,"x":8,"y":41},"id":73,"legend":{"alignAsTable":false,"avg":false,"current":false,"hideEmpty":true,"max":false,"min":false,"rightSide":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"histogram_quantile(0.50,
      sum(irate(istio_request_bytes_bucket{reporter=\"source\", connection_security_policy=\"mutual_tls\",
      source_workload=~\"$workload\", source_workload_namespace=~\"$namespace\", destination_service=~\"$dstsvc\"}[1m]))
      by (destination_service, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_service }} P50 (mTLS)","refId":"D","step":2},{"expr":"histogram_quantile(0.90,
      sum(irate(istio_request_bytes_bucket{reporter=\"source\", connection_security_policy=\"mutual_tls\",
      source_workload=~\"$workload\", source_workload_namespace=~\"$namespace\", destination_service=~\"$dstsvc\"}[1m]))
      by (destination_service, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_service }} P90 (mTLS)","refId":"A","step":2},{"expr":"histogram_quantile(0.95,
      sum(irate(istio_request_bytes_bucket{reporter=\"source\", connection_security_policy=\"mutual_tls\",
      source_workload=~\"$workload\", source_workload_namespace=~\"$namespace\", destination_service=~\"$dstsvc\"}[1m]))
      by (destination_service, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_service }} P95 (mTLS)","refId":"B","step":2},{"expr":"histogram_quantile(0.99,
      sum(irate(istio_request_bytes_bucket{reporter=\"source\", connection_security_policy=\"mutual_tls\",
      source_workload=~\"$workload\", source_workload_namespace=~\"$namespace\", destination_service=~\"$dstsvc\"}[1m]))
      by (destination_service, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_service }} P99 (mTLS)","refId":"C","step":2},{"expr":"histogram_quantile(0.50,
      sum(irate(istio_request_bytes_bucket{reporter=\"source\", connection_security_policy!=\"mutual_tls\",
      source_workload=~\"$workload\", source_workload_namespace=~\"$namespace\", destination_service=~\"$dstsvc\"}[1m]))
      by (destination_service, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_service }} P50","refId":"E","step":2},{"expr":"histogram_quantile(0.90,
      sum(irate(istio_request_bytes_bucket{reporter=\"source\", connection_security_policy!=\"mutual_tls\",
      source_workload=~\"$workload\", source_workload_namespace=~\"$namespace\", destination_service=~\"$dstsvc\"}[1m]))
      by (destination_service, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_service }} P90","refId":"F","step":2},{"expr":"histogram_quantile(0.95,
      sum(irate(istio_request_bytes_bucket{reporter=\"source\", connection_security_policy!=\"mutual_tls\",
      source_workload=~\"$workload\", source_workload_namespace=~\"$namespace\", destination_service=~\"$dstsvc\"}[1m]))
      by (destination_service, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_service }} P95","refId":"G","step":2},{"expr":"histogram_quantile(0.99,
      sum(irate(istio_request_bytes_bucket{reporter=\"source\", connection_security_policy!=\"mutual_tls\",
      source_workload=~\"$workload\", source_workload_namespace=~\"$namespace\", destination_service=~\"$dstsvc\"}[1m]))
      by (destination_service, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_service }} P99","refId":"H","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Outgoing
      Request Size By Destination","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"decbytes","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":8,"x":16,"y":41},"id":74,"legend":{"alignAsTable":false,"avg":false,"current":false,"hideEmpty":true,"max":false,"min":false,"rightSide":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"histogram_quantile(0.50,
      sum(irate(istio_response_bytes_bucket{reporter=\"source\", connection_security_policy=\"mutual_tls\",
      source_workload=~\"$workload\", source_workload_namespace=~\"$namespace\", destination_service=~\"$dstsvc\"}[1m]))
      by (destination_service, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_service }} P50 (mTLS)","refId":"D","step":2},{"expr":"histogram_quantile(0.90,
      sum(irate(istio_response_bytes_bucket{reporter=\"source\", connection_security_policy=\"mutual_tls\",
      source_workload=~\"$workload\", source_workload_namespace=~\"$namespace\", destination_service=~\"$dstsvc\"}[1m]))
      by (destination_service, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_service }} P90 (mTLS)","refId":"A","step":2},{"expr":"histogram_quantile(0.95,
      sum(irate(istio_response_bytes_bucket{reporter=\"source\", connection_security_policy=\"mutual_tls\",
      source_workload=~\"$workload\", source_workload_namespace=~\"$namespace\", destination_service=~\"$dstsvc\"}[1m]))
      by (destination_service, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_service }} P95 (mTLS)","refId":"B","step":2},{"expr":"histogram_quantile(0.99,
      sum(irate(istio_response_bytes_bucket{reporter=\"source\", connection_security_policy=\"mutual_tls\",
      source_workload=~\"$workload\", source_workload_namespace=~\"$namespace\", destination_service=~\"$dstsvc\"}[1m]))
      by (destination_service, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_service }}  P99 (mTLS)","refId":"C","step":2},{"expr":"histogram_quantile(0.50,
      sum(irate(istio_response_bytes_bucket{reporter=\"source\", connection_security_policy!=\"mutual_tls\",
      source_workload=~\"$workload\", source_workload_namespace=~\"$namespace\", destination_service=~\"$dstsvc\"}[1m]))
      by (destination_service, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_service }} P50","refId":"E","step":2},{"expr":"histogram_quantile(0.90,
      sum(irate(istio_response_bytes_bucket{reporter=\"source\", connection_security_policy!=\"mutual_tls\",
      source_workload=~\"$workload\", source_workload_namespace=~\"$namespace\", destination_service=~\"$dstsvc\"}[1m]))
      by (destination_service, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_service }} P90","refId":"F","step":2},{"expr":"histogram_quantile(0.95,
      sum(irate(istio_response_bytes_bucket{reporter=\"source\", connection_security_policy!=\"mutual_tls\",
      source_workload=~\"$workload\", source_workload_namespace=~\"$namespace\", destination_service=~\"$dstsvc\"}[1m]))
      by (destination_service, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_service }} P95","refId":"G","step":2},{"expr":"histogram_quantile(0.99,
      sum(irate(istio_response_bytes_bucket{reporter=\"source\", connection_security_policy!=\"mutual_tls\",
      source_workload=~\"$workload\", source_workload_namespace=~\"$namespace\", destination_service=~\"$dstsvc\"}[1m]))
      by (destination_service, le))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"{{
      destination_service }} P99","refId":"H","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Response
      Size By Destination","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"decbytes","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":12,"x":0,"y":47},"id":76,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"round(sum(irate(istio_tcp_sent_bytes_total{connection_security_policy=\"mutual_tls\",
      reporter=\"source\", source_workload_namespace=~\"$namespace\", source_workload=~\"$workload\",
      destination_service=~\"$dstsvc\"}[1m])) by (destination_service), 0.001)","format":"time_series","intervalFactor":1,"legendFormat":"{{
      destination_service }} (mTLS)","refId":"A","step":2},{"expr":"round(sum(irate(istio_tcp_sent_bytes_total{connection_security_policy!=\"mutual_tls\",
      reporter=\"source\", source_workload_namespace=~\"$namespace\", source_workload=~\"$workload\",
      destination_service=~\"$dstsvc\"}[1m])) by (destination_service), 0.001)","format":"time_series","intervalFactor":1,"legendFormat":"{{
      destination_service }}","refId":"B","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Bytes
      Sent on Outgoing TCP Connection","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"Bps","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":12,"x":12,"y":47},"id":78,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"round(sum(irate(istio_tcp_received_bytes_total{reporter=\"source\",
      connection_security_policy=\"mutual_tls\", source_workload_namespace=~\"$namespace\",
      source_workload=~\"$workload\", destination_service=~\"$dstsvc\"}[1m])) by (destination_service),
      0.001)","format":"time_series","intervalFactor":1,"legendFormat":"{{ destination_service
      }} (mTLS)","refId":"A","step":2},{"expr":"round(sum(irate(istio_tcp_received_bytes_total{reporter=\"source\",
      connection_security_policy!=\"mutual_tls\", source_workload_namespace=~\"$namespace\",
      source_workload=~\"$workload\", destination_service=~\"$dstsvc\"}[1m])) by (destination_service),
      0.001)","format":"time_series","intervalFactor":1,"legendFormat":"{{ destination_service
      }}","refId":"B","step":2}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Bytes
      Received from Outgoing TCP Connection","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"Bps","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]}],"refresh":"10s","schemaVersion":16,"style":"dark","tags":[],"templating":{"list":[{"allValue":null,"current":{},"datasource":"prometheus-istio","hide":0,"includeAll":false,"label":"Namespace","multi":false,"name":"namespace","options":[],"query":"query_result(sum(istio_requests_total)
      by (destination_workload_namespace) or sum(istio_tcp_sent_bytes_total) by (destination_workload_namespace))","refresh":1,"regex":"/.*_namespace=\"([^\"]*).*/","sort":0,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false},{"allValue":null,"current":{},"datasource":"prometheus-istio","hide":0,"includeAll":false,"label":"Workload","multi":false,"name":"workload","options":[],"query":"query_result((sum(istio_requests_total{destination_workload_namespace=~\"$namespace\"})
      by (destination_workload) or sum(istio_requests_total{source_workload_namespace=~\"$namespace\"})
      by (source_workload)) or (sum(istio_tcp_sent_bytes_total{destination_workload_namespace=~\"$namespace\"})
      by (destination_workload) or sum(istio_tcp_sent_bytes_total{source_workload_namespace=~\"$namespace\"})
      by (source_workload)))","refresh":1,"regex":"/.*workload=\"([^\"]*).*/","sort":1,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false},{"allValue":null,"current":{},"datasource":"prometheus-istio","hide":0,"includeAll":true,"label":"Inbound
      Workload Namespace","multi":true,"name":"srcns","options":[],"query":"query_result(
      sum(istio_requests_total{reporter=\"destination\", destination_workload=\"$workload\",
      destination_workload_namespace=~\"$namespace\"}) by (source_workload_namespace)
      or sum(istio_tcp_sent_bytes_total{reporter=\"destination\", destination_workload=\"$workload\",
      destination_workload_namespace=~\"$namespace\"}) by (source_workload_namespace))","refresh":1,"regex":"/.*namespace=\"([^\"]*).*/","sort":2,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false},{"allValue":null,"current":{},"datasource":"prometheus-istio","hide":0,"includeAll":true,"label":"Inbound
      Workload","multi":true,"name":"srcwl","options":[],"query":"query_result( sum(istio_requests_total{reporter=\"destination\",
      destination_workload=\"$workload\", destination_workload_namespace=~\"$namespace\",
      source_workload_namespace=~\"$srcns\"}) by (source_workload) or sum(istio_tcp_sent_bytes_total{reporter=\"destination\",
      destination_workload=\"$workload\", destination_workload_namespace=~\"$namespace\",
      source_workload_namespace=~\"$srcns\"}) by (source_workload))","refresh":1,"regex":"/.*workload=\"([^\"]*).*/","sort":3,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false},{"allValue":null,"current":{},"datasource":"prometheus-istio","hide":0,"includeAll":true,"label":"Destination
      Service","multi":true,"name":"dstsvc","options":[],"query":"query_result( sum(istio_requests_total{reporter=\"source\",
      source_workload=~\"$workload\", source_workload_namespace=~\"$namespace\"})
      by (destination_service) or sum(istio_tcp_sent_bytes_total{reporter=\"source\",
      source_workload=~\"$workload\", source_workload_namespace=~\"$namespace\"})
      by (destination_service))","refresh":1,"regex":"/.*destination_service=\"([^\"]*).*/","sort":4,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false}]},"time":{"from":"now-5m","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"","title":"Istio
      Workload Dashboard","uid":"UbsSZTDik","version":1}'
  kind: ConfigMap
  metadata:
    labels:
      grafana_dashboard: '1'
      kubenix/project-name: kubenix
    name: istio-workload-dashboard.json
    namespace: knative-monitoring
- apiVersion: v1
  data:
    mixer-dashboard.json: '{"__inputs":[{"description":"","label":"Prometheus","name":"DS_PROMETHEUS","pluginId":"prometheus","pluginName":"Prometheus","type":"datasource"}],"__requires":[{"id":"grafana","name":"Grafana","type":"grafana","version":"5.2.3"},{"id":"graph","name":"Graph","type":"panel","version":"5.0.0"},{"id":"prometheus","name":"Prometheus","type":"datasource","version":"5.0.0"},{"id":"text","name":"Text","type":"panel","version":"5.0.0"}],"annotations":{"list":[{"builtIn":1,"datasource":"--
      Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","limit":100,"name":"Annotations
      & Alerts","showIn":0,"type":"dashboard"}]},"editable":false,"gnetId":null,"graphTooltip":1,"id":null,"iteration":1543881232533,"links":[],"panels":[{"content":"<center><h2>Deployed
      Versions</h2></center>","gridPos":{"h":3,"w":24,"x":0,"y":0},"height":"40","id":62,"links":[],"mode":"html","title":"","transparent":true,"type":"text"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":5,"w":24,"x":0,"y":3},"id":64,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(istio_build{component=\"mixer\"})
      by (tag)","format":"time_series","intervalFactor":1,"legendFormat":"{{ tag }}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Mixer
      Versions","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"content":"<center><h2>Resource
      Usage</h2></center>","gridPos":{"h":3,"w":24,"x":0,"y":8},"height":"40","id":29,"links":[],"mode":"html","title":"","transparent":true,"type":"text"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":7,"w":6,"x":0,"y":11},"id":5,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(process_virtual_memory_bytes{job=~\"istio-telemetry|istio-policy\"})
      by (job)","format":"time_series","instant":false,"intervalFactor":2,"legendFormat":"Virtual
      Memory ({{ job }})","refId":"I"},{"expr":"sum(process_resident_memory_bytes{job=~\"istio-telemetry|istio-policy\"})
      by (job)","format":"time_series","intervalFactor":2,"legendFormat":"Resident
      Memory ({{ job }})","refId":"H"},{"expr":"sum(go_memstats_heap_sys_bytes{job=~\"istio-telemetry|istio-policy\"})
      by (job)","format":"time_series","hide":true,"intervalFactor":2,"legendFormat":"heap
      sys ({{ job }})","refId":"A"},{"expr":"sum(go_memstats_heap_alloc_bytes{job=~\"istio-telemetry|istio-policy\"})
      by (job)","format":"time_series","hide":true,"intervalFactor":2,"legendFormat":"heap
      alloc ({{ job }})","refId":"D"},{"expr":"sum(go_memstats_alloc_bytes{job=~\"istio-telemetry|istio-policy\"})
      by (job)","format":"time_series","intervalFactor":2,"legendFormat":"Alloc ({{
      job }})","refId":"F"},{"expr":"sum(go_memstats_heap_inuse_bytes{job=~\"istio-telemetry|istio-policy\"})
      by (job)","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"Heap
      in-use ({{ job }})","refId":"E"},{"expr":"sum(go_memstats_stack_inuse_bytes{job=~\"istio-telemetry|istio-policy\"})
      by (job)","format":"time_series","intervalFactor":2,"legendFormat":"Stack in-use
      ({{ job }})","refId":"G"},{"expr":"sum(label_replace(container_memory_usage_bytes{job=\"kubernetes-cadvisor\",
      container_name=~\"mixer|istio-proxy\", pod_name=~\"istio-telemetry-.*|istio-policy-.*\"},
      \"service\", \"$1\" , \"pod_name\", \"(istio-telemetry|istio-policy)-.*\"))
      by (service)","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"{{
      service }} total (k8s)","refId":"C"},{"expr":"sum(label_replace(container_memory_usage_bytes{job=\"kubernetes-cadvisor\",
      container_name=~\"mixer|istio-proxy\", pod_name=~\"istio-telemetry-.*|istio-policy-.*\"},
      \"service\", \"$1\" , \"pod_name\", \"(istio-telemetry|istio-policy)-.*\"))
      by (container_name, service)","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"{{
      service }} - {{ container_name }} (k8s)","refId":"B"}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Memory","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"bytes","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":7,"w":6,"x":6,"y":11},"id":6,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"label_replace(sum(rate(container_cpu_usage_seconds_total{job=\"kubernetes-cadvisor\",container_name=~\"mixer|istio-proxy\",
      pod_name=~\"istio-telemetry-.*|istio-policy-.*\"}[1m])) by (pod_name), \"service\",
      \"$1\" , \"pod_name\", \"(istio-telemetry|istio-policy)-.*\")","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"{{
      service }} total (k8s)","refId":"A"},{"expr":"label_replace(sum(rate(container_cpu_usage_seconds_total{job=\"kubernetes-cadvisor\",container_name=~\"mixer|istio-proxy\",
      pod_name=~\"istio-telemetry-.*|istio-policy-.*\"}[1m])) by (container_name,
      pod_name), \"service\", \"$1\" , \"pod_name\", \"(istio-telemetry|istio-policy)-.*\")","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"{{
      service }} - {{ container_name }} (k8s)","refId":"B"},{"expr":"sum(irate(process_cpu_seconds_total{job=~\"istio-telemetry|istio-policy\"}[1m]))
      by (job)","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"{{
      job }} (self-reported)","refId":"C"}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"CPU","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":7,"w":6,"x":12,"y":11},"id":7,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(process_open_fds{job=~\"istio-telemetry|istio-policy\"})
      by (job)","format":"time_series","hide":true,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"Open
      FDs ({{ job }})","refId":"A"},{"expr":"sum(label_replace(container_fs_usage_bytes{job=\"kubernetes-cadvisor\",
      container_name=~\"mixer|istio-proxy\", pod_name=~\"istio-telemetry-.*|istio-policy-.*\"},
      \"service\", \"$1\" , \"pod_name\", \"(istio-telemetry|istio-policy)-.*\"))
      by (container_name, service)","format":"time_series","intervalFactor":2,"legendFormat":"{{
      service }} - {{ container_name }}","refId":"B"}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Disk","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"bytes","label":"","logBase":1,"max":null,"min":null,"show":true},{"decimals":null,"format":"none","label":"","logBase":1024,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":7,"w":6,"x":18,"y":11},"id":4,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(go_goroutines{job=~\"istio-telemetry|istio-policy\"})
      by (job)","format":"time_series","intervalFactor":2,"legendFormat":"Number of
      Goroutines ({{ job }})","refId":"A"}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Goroutines","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"content":"<center><h2>Mixer
      Overview</h2></center>","gridPos":{"h":3,"w":24,"x":0,"y":18},"height":"40px","id":30,"links":[],"mode":"html","title":"","transparent":true,"type":"text"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":6,"x":0,"y":21},"id":9,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(rate(grpc_io_server_completed_rpcs[1m]))","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"mixer
      (Total)","refId":"B"},{"expr":"sum(rate(grpc_io_server_completed_rpcs[1m]))
      by (grpc_server_method)","format":"time_series","intervalFactor":2,"legendFormat":"mixer
      ({{ grpc_server_method }})","refId":"C"}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Incoming
      Requests","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"ops","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":6,"x":6,"y":21},"id":8,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[{"alias":"{}","yaxis":1}],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"histogram_quantile(0.5,
      sum(rate(grpc_io_server_server_latency_bucket{}[1m])) by (grpc_server_method,
      le))","format":"time_series","intervalFactor":2,"legendFormat":"{{ grpc_server_method
      }} 0.5","refId":"B"},{"expr":"histogram_quantile(0.9, sum(rate(grpc_io_server_server_latency_bucket{}[1m]))
      by (grpc_server_method, le))","format":"time_series","intervalFactor":2,"legendFormat":"{{
      grpc_server_method }} 0.9","refId":"C"},{"expr":"histogram_quantile(0.99, sum(rate(grpc_io_server_server_latency_bucket{}[1m]))
      by (grpc_server_method, le))","format":"time_series","intervalFactor":2,"legendFormat":"{{
      grpc_server_method }} 0.99","refId":"D"}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Response
      Durations","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"ms","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":6,"x":12,"y":21},"id":11,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(rate(grpc_server_handled_total{grpc_code=~\"Unknown|Unimplemented|Internal|DataLoss\"}[1m]))
      by (grpc_method)","format":"time_series","intervalFactor":2,"legendFormat":"Mixer
      {{ grpc_method }}","refId":"B"}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Server
      Error Rate (5xx responses)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":6,"w":6,"x":18,"y":21},"id":12,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(irate(grpc_server_handled_total{grpc_code!=\"OK\",grpc_service=~\".*Mixer\"}[1m]))
      by (grpc_method)","format":"time_series","intervalFactor":2,"legendFormat":"Mixer
      {{ grpc_method }}","refId":"B"}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Non-successes
      (4xxs)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"content":"<center><h2>Adapters
      and Config</h2></center>","gridPos":{"h":3,"w":24,"x":0,"y":27},"id":28,"links":[],"mode":"html","title":"","transparent":true,"type":"text"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":7,"w":12,"x":0,"y":30},"id":13,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(irate(mixer_runtime_dispatches_total{adapter=~\"$adapter\"}[1m]))
      by (adapter)","format":"time_series","intervalFactor":2,"legendFormat":"{{ adapter
      }}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Adapter
      Dispatch Count","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":7,"w":12,"x":12,"y":30},"id":14,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"histogram_quantile(0.5,
      sum(irate(mixer_runtime_dispatch_duration_seconds_bucket{adapter=~\"$adapter\"}[1m]))
      by (adapter, le))","format":"time_series","intervalFactor":2,"legendFormat":"{{
      adapter }} - p50","refId":"A"},{"expr":"histogram_quantile(0.9, sum(irate(mixer_runtime_dispatch_duration_seconds_bucket{adapter=~\"$adapter\"}[1m]))
      by (adapter, le))","format":"time_series","intervalFactor":2,"legendFormat":"{{
      adapter }} - p90 ","refId":"B"},{"expr":"histogram_quantile(0.99, sum(irate(mixer_runtime_dispatch_duration_seconds_bucket{adapter=~\"$adapter\"}[1m]))
      by (adapter, le))","format":"time_series","intervalFactor":2,"legendFormat":"{{
      adapter }} - p99","refId":"C"}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Adapter
      Dispatch Duration","tooltip":{"shared":true,"sort":1,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"s","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":7,"w":6,"x":0,"y":37},"id":60,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"scalar(topk(1,
      max(mixer_config_rule_config_count) by (configID)))","format":"time_series","intervalFactor":1,"legendFormat":"Rules","refId":"A"},{"expr":"scalar(topk(1,
      max(mixer_config_rule_config_error_count) by (configID)))","format":"time_series","intervalFactor":1,"legendFormat":"Config
      Errors","refId":"B"},{"expr":"scalar(topk(1, max(mixer_config_rule_config_match_error_count)
      by (configID)))","format":"time_series","intervalFactor":1,"legendFormat":"Match
      Errors","refId":"C"},{"expr":"scalar(topk(1, max(mixer_config_unsatisfied_action_handler_count)
      by (configID)))","format":"time_series","intervalFactor":1,"legendFormat":"Unsatisfied
      Actions","refId":"D"}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Rules","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":7,"w":6,"x":6,"y":37},"id":56,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"scalar(topk(1,
      max(mixer_config_instance_config_count) by (configID)))","format":"time_series","intervalFactor":1,"legendFormat":"Instances","refId":"A"}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Instances
      in Latest Config","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":7,"w":6,"x":12,"y":37},"id":54,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"scalar(topk(1,
      max(mixer_config_handler_config_count) by (configID)))","format":"time_series","intervalFactor":1,"legendFormat":"Handlers","refId":"A"}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Handlers
      in Latest Config","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":7,"w":6,"x":18,"y":37},"id":58,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"scalar(topk(1,
      max(mixer_config_attribute_count) by (configID)))","format":"time_series","instant":false,"intervalFactor":1,"legendFormat":"Attributes","refId":"A"}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Attributes
      in Latest Config","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"content":"<center><h2>Individual
      Adapters</h2></center>","gridPos":{"h":3,"w":24,"x":0,"y":44},"id":23,"links":[],"mode":"html","title":"","transparent":true,"type":"text"},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":47},"id":46,"panels":[],"repeat":"adapter","title":"$adapter
      Adapter","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":7,"w":12,"x":0,"y":48},"id":17,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"label_replace(irate(mixer_runtime_dispatches_total{adapter=~\"$adapter\"}[1m]),\"handler\",
      \"$1 ($3)\", \"handler\", \"(.*)\\\\.(.*)\\\\.(.*)\")","format":"time_series","intervalFactor":2,"legendFormat":"{{
      handler }} (error: {{  error }})","refId":"A"}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Dispatch
      Count By Handler","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":7,"w":12,"x":12,"y":48},"id":18,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"label_replace(histogram_quantile(0.5,
      sum(rate(mixer_runtime_dispatch_duration_seconds_bucket{adapter=~\"$adapter\"}[1m]))
      by (handler, error, le)),  \"handler_short\", \"$1 ($3)\", \"handler\", \"(.*)\\\\.(.*)\\\\.(.*)\")","format":"time_series","intervalFactor":2,"legendFormat":"p50
      - {{ handler_short }} (error: {{ error }})","refId":"A"},{"expr":"label_replace(histogram_quantile(0.9,
      sum(irate(mixer_runtime_dispatch_duration_seconds_bucket{adapter=~\"$adapter\"}[1m]))
      by (handler, error, le)),  \"handler_short\", \"$1 ($3)\", \"handler\", \"(.*)\\\\.(.*)\\\\.(.*)\")","format":"time_series","intervalFactor":2,"legendFormat":"p90
      - {{ handler_short }} (error: {{ error }})","refId":"D"},{"expr":"label_replace(histogram_quantile(0.99,
      sum(irate(mixer_runtime_dispatch_duration_seconds_bucket{adapter=~\"$adapter\"}[1m]))
      by (handler, error, le)),  \"handler_short\", \"$1 ($3)\", \"handler\", \"(.*)\\\\.(.*)\\\\.(.*)\")","format":"time_series","intervalFactor":2,"legendFormat":"p99
      - {{ handler_short }} (error: {{ error }})","refId":"E"}],"thresholds":[],"timeFrom":null,"timeShift":null,"title":"Dispatch
      Duration By Handler","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"s","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}}],"refresh":"5s","schemaVersion":16,"style":"dark","tags":[],"templating":{"list":[{"allValue":null,"current":{},"datasource":"prometheus-istio","hide":0,"includeAll":true,"label":"Adapter","multi":true,"name":"adapter","options":[],"query":"label_values(adapter)","refresh":2,"regex":"","sort":1,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false}]},"time":{"from":"now-5m","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"","title":"Istio
      Mixer Dashboard","version":4}'
  kind: ConfigMap
  metadata:
    labels:
      grafana_dashboard: '1'
      kubenix/project-name: kubenix
    name: mixer-dashboard.json
    namespace: knative-monitoring
- apiVersion: v1
  data:
    pilot-dashboard.json: '{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana
      --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations
      & Alerts","type":"dashboard"}]},"editable":false,"gnetId":null,"graphTooltip":1,"id":11,"links":[],"panels":[{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":60,"panels":[],"title":"Deployed
      Versions","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":5,"w":24,"x":0,"y":1},"id":56,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(istio_build{component=\"pilot\"})
      by (tag)","format":"time_series","intervalFactor":1,"legendFormat":"{{ tag }}","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Pilot
      Versions","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":6},"id":62,"panels":[],"title":"Resource
      Usage","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":7,"w":6,"x":0,"y":7},"id":5,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"process_virtual_memory_bytes{job=\"pilot\"}","format":"time_series","instant":false,"intervalFactor":2,"legendFormat":"Virtual
      Memory","refId":"I","step":2},{"expr":"process_resident_memory_bytes{job=\"pilot\"}","format":"time_series","intervalFactor":2,"legendFormat":"Resident
      Memory","refId":"H","step":2},{"expr":"go_memstats_heap_sys_bytes{job=\"pilot\"}","format":"time_series","hide":true,"intervalFactor":2,"legendFormat":"heap
      sys","refId":"A"},{"expr":"go_memstats_heap_alloc_bytes{job=\"pilot\"}","format":"time_series","hide":true,"intervalFactor":2,"legendFormat":"heap
      alloc","refId":"D"},{"expr":"go_memstats_alloc_bytes{job=\"pilot\"}","format":"time_series","intervalFactor":2,"legendFormat":"Alloc","refId":"F","step":2},{"expr":"go_memstats_heap_inuse_bytes{job=\"pilot\"}","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"Heap
      in-use","refId":"E","step":2},{"expr":"go_memstats_stack_inuse_bytes{job=\"pilot\"}","format":"time_series","intervalFactor":2,"legendFormat":"Stack
      in-use","refId":"G","step":2},{"expr":"container_memory_usage_bytes{job=\"kubernetes-cadvisor\",
      container_name=~\"discovery\", pod_name=~\"istio-pilot-.*\"}","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"Discovery
      (container)","refId":"B","step":2},{"expr":"container_memory_usage_bytes{job=\"kubernetes-cadvisor\",
      container_name=~\"istio-proxy\", pod_name=~\"istio-pilot-.*\"}","format":"time_series","intervalFactor":1,"legendFormat":"Sidecar
      (container)","refId":"C"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Memory","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"bytes","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":7,"w":6,"x":6,"y":7},"id":6,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(irate(container_cpu_usage_seconds_total{job=\"kubernetes-cadvisor\",container_name=\"discovery\",
      pod_name=~\"istio-pilot-.*\"}[1m]))","format":"time_series","intervalFactor":1,"legendFormat":"Discovery
      (container)","refId":"A"},{"expr":"irate(process_cpu_seconds_total{job=\"pilot\"}[1m])","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"Discovery
      (process)","refId":"C","step":2},{"expr":"sum(irate(container_cpu_usage_seconds_total{job=\"kubernetes-cadvisor\",container_name=\"istio-proxy\",
      pod_name=~\"istio-pilot-.*\"}[1m]))","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"Sidecar
      (container)","refId":"B","step":2}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"CPU","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":7,"w":6,"x":12,"y":7},"id":7,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"container_fs_usage_bytes{job=\"kubernetes-cadvisor\",
      container_name=\"discovery\", pod_name=~\"istio-pilot-.*\"}","format":"time_series","intervalFactor":2,"legendFormat":"Discovery","refId":"B","step":2},{"expr":"container_fs_usage_bytes{job=\"kubernetes-cadvisor\",
      container_name=\"istio-proxy\", pod_name=~\"istio-pilot-.*\"}","format":"time_series","intervalFactor":1,"legendFormat":"Sidecar","refId":"A"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Disk","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"bytes","label":"","logBase":1,"max":null,"min":null,"show":true},{"decimals":null,"format":"none","label":"","logBase":1024,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":7,"w":6,"x":18,"y":7},"id":4,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"go_goroutines{job=\"pilot\"}","format":"time_series","intervalFactor":2,"legendFormat":"Number
      of Goroutines","refId":"A","step":2}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Goroutines","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":"","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":14},"id":58,"panels":[],"title":"Pilot
      Push Information","type":"row"},{"aliasColors":{},"bars":true,"dashLength":10,"dashes":false,"description":"Shows
      the rate of pilot pushes","fill":1,"gridPos":{"h":8,"w":8,"x":0,"y":15},"id":622,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":false,"linewidth":1,"links":[],"nullPointMode":"null
      as zero","paceLength":10,"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"sum(irate(pilot_xds_pushes{type=\"cds\"}[1m]))","format":"time_series","intervalFactor":1,"legendFormat":"Cluster","refId":"C"},{"expr":"sum(irate(pilot_xds_pushes{type=\"eds\"}[1m]))","format":"time_series","intervalFactor":1,"legendFormat":"Endpoints","refId":"D"},{"expr":"sum(irate(pilot_xds_pushes{type=\"lds\"}[1m]))","format":"time_series","intervalFactor":1,"legendFormat":"Listeners","refId":"A"},{"expr":"sum(irate(pilot_xds_pushes{type=\"rds\"}[1m]))","format":"time_series","intervalFactor":1,"legendFormat":"Routes","refId":"E"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Pilot
      Pushes","tooltip":{"shared":false,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":["total"]},"yaxes":[{"format":"ops","label":null,"logBase":1,"max":null,"min":"0","show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","description":"Captures
      a variety of pilot errors","fill":1,"gridPos":{"h":8,"w":8,"x":8,"y":15},"id":67,"legend":{"avg":false,"current":false,"hideEmpty":true,"hideZero":true,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(pilot_xds_cds_reject{job=\"pilot\"})
      or (absent(pilot_xds_cds_reject{job=\"pilot\"}) - 1)","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"Rejected
      CDS Configs","refId":"C"},{"expr":"sum(pilot_xds_eds_reject{job=\"pilot\"})
      or (absent(pilot_xds_eds_reject{job=\"pilot\"}) - 1)","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"Rejected
      EDS Configs","refId":"D"},{"expr":"sum(pilot_xds_rds_reject{job=\"pilot\"})
      or (absent(pilot_xds_rds_reject{job=\"pilot\"}) - 1)","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"Rejected
      RDS Configs","refId":"A"},{"expr":"sum(pilot_xds_lds_reject{job=\"pilot\"})
      or (absent(pilot_xds_lds_reject{job=\"pilot\"}) - 1)","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"Rejected
      LDS Configs","refId":"B"},{"expr":"sum(rate(pilot_xds_write_timeout{job=\"pilot\"}[1m]))","format":"time_series","intervalFactor":1,"legendFormat":"Write
      Timeouts","refId":"F"},{"expr":"sum(rate(pilot_total_xds_internal_errors{job=\"pilot\"}[1m]))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"Internal
      Errors","refId":"H"},{"expr":"sum(rate(pilot_total_xds_rejects{job=\"pilot\"}[1m]))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"Config
      Rejection Rate","refId":"E"},{"expr":"sum(rate(pilot_xds_push_context_errors{job=\"pilot\"}[1m]))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"Push
      Context Errors","refId":"K"},{"expr":"sum(rate(pilot_xds_pushes{type!~\"lds|cds|rds|eds\"}[1m]))
      by (type)","format":"time_series","intervalFactor":1,"legendFormat":"Push Errors
      ({{ type }})","refId":"L"},{"expr":"sum(rate(pilot_xds_push_errors{job=\"pilot\"}[1m]))
      by (type)","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"Push
      Errors ({{ type }})","refId":"I"},{"expr":"sum(rate(pilot_xds_push_timeout{job=\"pilot\"}[1m]))","format":"time_series","intervalFactor":1,"legendFormat":"Push
      Timeouts","refId":"G"},{"expr":"sum(rate(pilot_xds_push_timeout_failures{job=\"pilot\"}[1m]))","format":"time_series","intervalFactor":1,"legendFormat":"Push
      Timeouts Failures","refId":"J"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Pilot
      Errors","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"description":"Shows
      the total time it takes to push a config update to a proxy","fill":1,"gridPos":{"h":8,"w":8,"x":16,"y":15},"id":624,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"histogram_quantile(0.5,
      sum(rate(pilot_proxy_convergence_time_bucket[1m])) by (le))","format":"time_series","intervalFactor":1,"legendFormat":"p50
      ","refId":"A"},{"expr":"histogram_quantile(0.9, sum(rate(pilot_proxy_convergence_time_bucket[1m]))
      by (le))","format":"time_series","intervalFactor":1,"legendFormat":"p90","refId":"B"},{"expr":"histogram_quantile(0.99,
      sum(rate(pilot_proxy_convergence_time_bucket[1m])) by (le))","format":"time_series","intervalFactor":1,"legendFormat":"p99","refId":"C"},{"expr":"histogram_quantile(0.999,
      sum(rate(pilot_proxy_convergence_time_bucket[1m])) by (le))","format":"time_series","intervalFactor":1,"legendFormat":"p99.9","refId":"D"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Proxy
      Push Time","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"s","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":8,"w":8,"x":0,"y":23},"id":45,"legend":{"avg":false,"current":false,"hideEmpty":true,"hideZero":true,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null
      as zero","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"pilot_conflict_inbound_listener{job=\"pilot\"}","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"Inbound
      Listeners","refId":"B"},{"expr":"pilot_conflict_outbound_listener_http_over_current_tcp{job=\"pilot\"}","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"Outbound
      Listeners (http over current tcp)","refId":"A"},{"expr":"pilot_conflict_outbound_listener_tcp_over_current_tcp{job=\"pilot\"}","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"Outbound
      Listeners (tcp over current tcp)","refId":"C"},{"expr":"pilot_conflict_outbound_listener_tcp_over_current_http{job=\"pilot\"}","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"Outbound
      Listeners (tcp over current http)","refId":"D"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Conflicts","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":8,"w":8,"x":8,"y":23},"id":47,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"pilot_virt_services{job=\"pilot\"}","format":"time_series","intervalFactor":1,"legendFormat":"Virtual
      Services","refId":"A"},{"expr":"pilot_services{job=\"pilot\"}","format":"time_series","intervalFactor":1,"legendFormat":"Services","refId":"B"},{"expr":"pilot_xds{job=\"pilot\"}","format":"time_series","intervalFactor":1,"legendFormat":"Connected
      Endpoints","refId":"E"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"ADS
      Monitoring","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"columns":[],"datasource":"prometheus-istio","description":"Clusters
      in this table do not have any endpoints known to pilot. This could be from referencing
      subsets that do not have any instances, or pods marked as NotReady","fontSize":"100%","gridPos":{"h":8,"w":8,"x":16,"y":23},"id":51,"links":[],"pageSize":null,"scroll":true,"showHeader":true,"sort":{"col":null,"desc":false},"styles":[{"alias":"Time","dateFormat":"YYYY-MM-DD
      HH:mm:ss","pattern":"Time","type":"date"},{"alias":"Clusters","colorMode":null,"colors":["rgba(245,
      54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"decimals":2,"pattern":"/.*/","thresholds":[],"type":"number","unit":"short"}],"targets":[{"expr":"sum(pilot_xds_eds_instances{job=\"pilot\",
      cluster=~\".+\\\\|.+\"}) by (cluster) < 1","format":"time_series","hide":false,"instant":true,"intervalFactor":1,"legendFormat":"{{cluster}}","refId":"B"}],"timeFrom":null,"timeShift":null,"title":"Clusters
      with no known endpoints","transform":"timeseries_aggregations","type":"table"},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":31},"id":64,"panels":[],"title":"Envoy
      Information","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","description":"Shows
      details about Envoy proxies in the mesh","fill":1,"gridPos":{"h":8,"w":8,"x":0,"y":32},"id":40,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(irate(envoy_cluster_upstream_cx_total{cluster_name=\"xds-grpc\"}[1m]))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"XDS
      Connections","refId":"C"},{"expr":"sum(irate(envoy_cluster_upstream_cx_connect_fail{cluster_name=\"xds-grpc\"}[1m]))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"XDS
      Connection Failures","refId":"A"},{"expr":"sum(increase(envoy_server_hot_restart_epoch[1m]))","format":"time_series","intervalFactor":1,"legendFormat":"Envoy
      Restarts","refId":"B"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Envoy
      Details","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"ops","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"ops","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","fill":1,"gridPos":{"h":8,"w":8,"x":8,"y":32},"id":41,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"sum(envoy_cluster_upstream_cx_active{cluster_name=\"xds-grpc\"})","format":"time_series","intervalFactor":2,"legendFormat":"XDS
      Active Connections","refId":"C","step":2}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"XDS
      Active Connections","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"prometheus-istio","description":"Shows
      the size of XDS requests and responses","fill":1,"gridPos":{"h":8,"w":8,"x":16,"y":32},"id":42,"legend":{"avg":false,"current":false,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"max(rate(envoy_cluster_upstream_cx_rx_bytes_total{cluster_name=\"xds-grpc\"}[1m]))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"XDS
      Response Bytes Max","refId":"D"},{"expr":"quantile(0.5, rate(envoy_cluster_upstream_cx_rx_bytes_total{cluster_name=\"xds-grpc\"}[1m]))","format":"time_series","hide":false,"intervalFactor":1,"legendFormat":"XDS
      Response Bytes Average","refId":"B"},{"expr":"max(rate(envoy_cluster_upstream_cx_tx_bytes_total{cluster_name=\"xds-grpc\"}[1m]))","format":"time_series","intervalFactor":1,"legendFormat":"XDS
      Request Bytes Max","refId":"A"},{"expr":"quantile(.5, rate(envoy_cluster_upstream_cx_tx_bytes_total{cluster_name=\"xds-grpc\"}[1m]))","format":"time_series","intervalFactor":1,"legendFormat":"XDS
      Request Bytes Average","refId":"C"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"XDS
      Requests Size","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"Bps","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"ops","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}}],"refresh":"5s","schemaVersion":18,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-5m","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"browser","title":"Istio
      Pilot Dashboard","uid":"3--MLVZZk","version":11}'
  kind: ConfigMap
  metadata:
    labels:
      grafana_dashboard: '1'
      kubenix/project-name: kubenix
    name: pilot-dashboard.json
    namespace: knative-monitoring
- apiVersion: v1
  kind: Namespace
  metadata:
    labels:
      serving.knative.dev/release: v0.8.1
    name: knative-monitoring
- apiVersion: v1
  kind: Service
  metadata:
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: elasticsearch-logging
      kubernetes.io/cluster-service: 'true'
      kubernetes.io/name: Elasticsearch
    name: elasticsearch-logging
    namespace: knative-monitoring
  spec:
    ports:
    - port: 9200
      protocol: TCP
      targetPort: db
    selector:
      app: elasticsearch-logging
- apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRole
  metadata:
    labels:
      app: fluentd-ds
      serving.knative.dev/release: v0.8.1
    name: fluentd-ds
  rules:
  - apiGroups:
    - ''
    resources:
    - namespaces
    - pods
    verbs:
    - get
    - watch
    - list
- apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRoleBinding
  metadata:
    labels:
      app: fluentd-ds
      serving.knative.dev/release: v0.8.1
    name: fluentd-ds
  roleRef:
    apiGroup: ''
    kind: ClusterRole
    name: fluentd-ds
  subjects:
  - apiGroup: ''
    kind: ServiceAccount
    name: fluentd-ds
    namespace: knative-monitoring
- apiVersion: v1
  kind: Service
  metadata:
    labels:
      app: fluentd-ds
      serving.knative.dev/release: v0.8.1
    name: fluentd-ds
    namespace: knative-monitoring
  spec:
    ports:
    - name: fluentd-tcp
      port: 24224
      protocol: TCP
      targetPort: 24224
    - name: fluentd-udp
      port: 24224
      protocol: UDP
      targetPort: 24224
    selector:
      app: fluentd-ds
- apiVersion: apps/v1
  kind: DaemonSet
  metadata:
    labels:
      app: fluentd-ds
      serving.knative.dev/release: v0.8.1
      version: v2.0.4
    name: fluentd-ds
    namespace: knative-monitoring
  spec:
    selector:
      matchLabels:
        app: fluentd-ds
        version: v2.0.4
    template:
      metadata:
        annotations:
          scheduler.alpha.kubernetes.io/critical-pod: ''
        labels:
          app: fluentd-ds
          serving.knative.dev/release: v0.8.1
          version: v2.0.4
      spec:
        containers:
        - env:
          - name: FLUENTD_ARGS
            value: --no-supervisor -q
          image: k8s.gcr.io/fluentd-elasticsearch:v2.0.4
          name: fluentd-ds
          resources:
            limits:
              memory: 500Mi
            requests:
              cpu: 100m
              memory: 200Mi
          volumeMounts:
          - mountPath: /var/log/containers
            name: varlogcontainers
            readOnly: true
          - mountPath: /var/log/pods
            name: varlogpods
            readOnly: true
          - mountPath: /var/lib/docker/containers
            name: varlibdockercontainers
            readOnly: true
          - mountPath: /var/lib/kubelet/pods
            name: varlibkubeletpods
            readOnly: true
          - mountPath: /host/lib
            name: libsystemddir
            readOnly: true
          - mountPath: /etc/fluent/config.d
            name: config-volume
        nodeSelector:
          beta.kubernetes.io/fluentd-ds-ready: 'true'
        serviceAccountName: fluentd-ds
        terminationGracePeriodSeconds: 30
        volumes:
        - hostPath:
            path: /var/log/containers
          name: varlogcontainers
        - hostPath:
            path: /var/log/pods
          name: varlogpods
        - hostPath:
            path: /var/lib/docker/containers
          name: varlibdockercontainers
        - hostPath:
            path: /var/lib/kubelet/pods
          name: varlibkubeletpods
        - hostPath:
            path: /usr/lib64
          name: libsystemddir
        - configMap:
            name: fluentd-ds-config
          name: config-volume
- apiVersion: v1
  kind: ServiceAccount
  metadata:
    labels:
    name: kube-state-metrics
    namespace: knative-monitoring
- apiVersion: rbac.authorization.k8s.io/v1beta1
  kind: Role
  metadata:
    labels:
    name: kube-state-metrics-resizer
    namespace: knative-monitoring
  rules:
  - apiGroups:
    - ''
    resources:
    - pods
    verbs:
    - get
  - apiGroups:
    - extensions
    resourceNames:
    - kube-state-metrics
    resources:
    - deployments
    verbs:
    - get
    - update
- apiVersion: rbac.authorization.k8s.io/v1beta1
  kind: RoleBinding
  metadata:
    labels:
    name: kube-state-metrics
    namespace: knative-monitoring
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: Role
    name: kube-state-metrics-resizer
  subjects:
  - kind: ServiceAccount
    name: kube-state-metrics
    namespace: knative-monitoring
- apiVersion: rbac.authorization.k8s.io/v1beta1
  kind: ClusterRole
  metadata:
    labels:
    name: kube-state-metrics
    namespace: knative-monitoring
  rules:
  - apiGroups:
    - ''
    resources:
    - configmaps
    - secrets
    - nodes
    - pods
    - services
    - resourcequotas
    - replicationcontrollers
    - limitranges
    - persistentvolumeclaims
    - persistentvolumes
    - namespaces
    - endpoints
    verbs:
    - list
    - watch
  - apiGroups:
    - extensions
    resources:
    - daemonsets
    - deployments
    - replicasets
    verbs:
    - list
    - watch
  - apiGroups:
    - apps
    resources:
    - statefulsets
    verbs:
    - list
    - watch
  - apiGroups:
    - batch
    resources:
    - cronjobs
    - jobs
    verbs:
    - list
    - watch
  - apiGroups:
    - autoscaling
    resources:
    - horizontalpodautoscalers
    verbs:
    - list
    - watch
  - apiGroups:
    - authentication.k8s.io
    resources:
    - tokenreviews
    verbs:
    - create
  - apiGroups:
    - authorization.k8s.io
    resources:
    - subjectaccessreviews
    verbs:
    - create
- apiVersion: rbac.authorization.k8s.io/v1beta1
  kind: ClusterRoleBinding
  metadata:
    labels:
    name: kube-state-metrics
    namespace: knative-monitoring
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: ClusterRole
    name: kube-state-metrics
  subjects:
  - kind: ServiceAccount
    name: kube-state-metrics
    namespace: knative-monitoring
- apiVersion: extensions/v1beta1
  kind: Deployment
  metadata:
    labels:
    name: kube-state-metrics
    namespace: knative-monitoring
  spec:
    replicas: 1
    template:
      metadata:
        labels:
          app: kube-state-metrics
      spec:
        containers:
        - args:
          - --secure-listen-address=:8443
          - --upstream=http://127.0.0.1:8081/
          image: quay.io/coreos/kube-rbac-proxy:v0.3.0
          name: kube-rbac-proxy-main
          ports:
          - containerPort: 8443
            name: https-main
          resources:
            limits:
              cpu: 20m
              memory: 40Mi
            requests:
              cpu: 10m
              memory: 20Mi
        - args:
          - --secure-listen-address=:9443
          - --upstream=http://127.0.0.1:8082/
          image: quay.io/coreos/kube-rbac-proxy:v0.3.0
          name: kube-rbac-proxy-self
          ports:
          - containerPort: 9443
            name: https-self
          resources:
            limits:
              cpu: 20m
              memory: 40Mi
            requests:
              cpu: 10m
              memory: 20Mi
        - args:
          - --host=127.0.0.1
          - --port=8081
          - --telemetry-host=127.0.0.1
          - --telemetry-port=8082
          image: quay.io/coreos/kube-state-metrics:v1.3.0
          name: kube-state-metrics
        - command:
          - /pod_nanny
          - --container=kube-state-metrics
          - --cpu=100m
          - --extra-cpu=1m
          - --memory=100Mi
          - --extra-memory=2Mi
          - --threshold=5
          - --deployment=kube-state-metrics
          env:
          - name: MY_POD_NAME
            valueFrom:
              fieldRef:
                fieldPath: metadata.name
          - name: MY_POD_NAMESPACE
            valueFrom:
              fieldRef:
                fieldPath: metadata.namespace
          image: k8s.gcr.io/addon-resizer:1.7
          name: addon-resizer
          resources:
            limits:
              cpu: 100m
              memory: 30Mi
            requests:
              cpu: 100m
              memory: 30Mi
        securityContext:
          runAsNonRoot: true
          runAsUser: 65534
        serviceAccountName: kube-state-metrics
- apiVersion: v1
  kind: ServiceAccount
  metadata:
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: elasticsearch-logging
      kubernetes.io/cluster-service: 'true'
    name: elasticsearch-logging
    namespace: knative-monitoring
- apiVersion: v1
  kind: Service
  metadata:
    labels:
      app: kube-state-metrics
    name: kube-state-metrics
    namespace: knative-monitoring
  spec:
    clusterIP: None
    ports:
    - name: https-main
      port: 8443
      protocol: TCP
      targetPort: https-main
    - name: https-self
      port: 9443
      protocol: TCP
      targetPort: https-self
    selector:
      app: kube-state-metrics
- apiVersion: v1
  data:
    kubernetes-deployment-dashboard.json: "{\n  \"__inputs\": [\n    {\n      \"description\"\
      : \"\",\n      \"label\": \"prometheus\",\n      \"name\": \"prometheus\",\n\
      \      \"pluginId\": \"prometheus\",\n      \"pluginName\": \"Prometheus\",\n\
      \      \"type\": \"datasource\"\n    }\n  ],\n  \"annotations\": {\n    \"list\"\
      : []\n  },\n  \"editable\": false,\n  \"gnetId\": null,\n  \"graphTooltip\"\
      : 0,\n  \"id\": null,\n  \"links\": [],\n  \"rows\": [\n    {\n      \"collapse\"\
      : false,\n      \"editable\": false,\n      \"height\": \"200px\",\n      \"\
      panels\": [\n        {\n          \"colorBackground\": false,\n          \"\
      colorValue\": false,\n          \"colors\": [\n            \"rgba(245, 54, 54,\
      \ 0.9)\",\n            \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(50,\
      \ 172, 45, 0.97)\"\n          ],\n          \"datasource\": \"prometheus\",\n\
      \          \"editable\": false,\n          \"format\": \"none\",\n         \
      \ \"gauge\": {\n            \"maxValue\": 100,\n            \"minValue\": 0,\n\
      \            \"show\": false,\n            \"thresholdLabels\": false,\n   \
      \         \"thresholdMarkers\": true\n          },\n          \"id\": 8,\n \
      \         \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfix\": \"cores\",\n          \"postfixFontSize\": \"50%\"\
      ,\n          \"prefix\": \"\",\n          \"prefixFontSize\": \"50%\",\n   \
      \       \"rangeMaps\": [\n            {\n              \"from\": \"null\",\n\
      \              \"text\": \"N/A\",\n              \"to\": \"null\"\n        \
      \    }\n          ],\n          \"span\": 4,\n          \"sparkline\": {\n \
      \           \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n            \"full\"\
      : false,\n            \"lineColor\": \"rgb(31, 120, 193)\",\n            \"\
      show\": true\n          },\n          \"targets\": [\n            {\n      \
      \        \"expr\": \"sum(rate(container_cpu_usage_seconds_total{namespace=\\\
      \"$deployment_namespace\\\",pod_name=~\\\"$deployment_name.*\\\"}[3m]))\",\n\
      \              \"intervalFactor\": 2,\n              \"refId\": \"A\",\n   \
      \           \"step\": 600\n            }\n          ],\n          \"title\"\
      : \"CPU\",\n          \"type\": \"singlestat\",\n          \"valueFontSize\"\
      : \"110%\",\n          \"valueMaps\": [\n            {\n              \"op\"\
      : \"=\",\n              \"text\": \"N/A\",\n              \"value\": \"null\"\
      \n            }\n          ],\n          \"valueName\": \"avg\"\n        },\n\
      \        {\n          \"colorBackground\": false,\n          \"colorValue\"\
      : false,\n          \"colors\": [\n            \"rgba(245, 54, 54, 0.9)\",\n\
      \            \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(50, 172, 45,\
      \ 0.97)\"\n          ],\n          \"datasource\": \"prometheus\",\n       \
      \   \"editable\": false,\n          \"format\": \"none\",\n          \"gauge\"\
      : {\n            \"maxValue\": 100,\n            \"minValue\": 0,\n        \
      \    \"show\": false,\n            \"thresholdLabels\": false,\n           \
      \ \"thresholdMarkers\": true\n          },\n          \"id\": 9,\n         \
      \ \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfix\": \"GB\",\n          \"postfixFontSize\": \"50%\",\n\
      \          \"prefix\": \"\",\n          \"prefixFontSize\": \"80%\",\n     \
      \     \"rangeMaps\": [\n            {\n              \"from\": \"null\",\n \
      \             \"text\": \"N/A\",\n              \"to\": \"null\"\n         \
      \   }\n          ],\n          \"span\": 4,\n          \"sparkline\": {\n  \
      \          \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n            \"full\"\
      : false,\n            \"lineColor\": \"rgb(31, 120, 193)\",\n            \"\
      show\": true\n          },\n          \"targets\": [\n            {\n      \
      \        \"expr\": \"sum(container_memory_usage_bytes{namespace=\\\"$deployment_namespace\\\
      \",pod_name=~\\\"$deployment_name.*\\\"}) / 1024^3\",\n              \"intervalFactor\"\
      : 2,\n              \"refId\": \"A\",\n              \"step\": 600\n       \
      \     }\n          ],\n          \"title\": \"Memory\",\n          \"type\"\
      : \"singlestat\",\n          \"valueFontSize\": \"110%\",\n          \"valueMaps\"\
      : [\n            {\n              \"op\": \"=\",\n              \"text\": \"\
      N/A\",\n              \"value\": \"null\"\n            }\n          ],\n   \
      \       \"valueName\": \"avg\"\n        },\n        {\n          \"colorBackground\"\
      : false,\n          \"colorValue\": false,\n          \"colors\": [\n      \
      \      \"rgba(245, 54, 54, 0.9)\",\n            \"rgba(237, 129, 40, 0.89)\"\
      ,\n            \"rgba(50, 172, 45, 0.97)\"\n          ],\n          \"datasource\"\
      : \"prometheus\",\n          \"editable\": false,\n          \"format\": \"\
      Bps\",\n          \"gauge\": {\n            \"maxValue\": 100,\n           \
      \ \"minValue\": 0,\n            \"show\": false,\n            \"thresholdLabels\"\
      : false,\n            \"thresholdMarkers\": false\n          },\n          \"\
      id\": 7,\n          \"links\": [],\n          \"mappingType\": 1,\n        \
      \  \"mappingTypes\": [\n            {\n              \"name\": \"value to text\"\
      ,\n              \"value\": 1\n            },\n            {\n             \
      \ \"name\": \"range to text\",\n              \"value\": 2\n            }\n\
      \          ],\n          \"maxDataPoints\": 100,\n          \"nullPointMode\"\
      : \"connected\",\n          \"postfix\": \"\",\n          \"postfixFontSize\"\
      : \"50%\",\n          \"prefix\": \"\",\n          \"prefixFontSize\": \"50%\"\
      ,\n          \"rangeMaps\": [\n            {\n              \"from\": \"null\"\
      ,\n              \"text\": \"N/A\",\n              \"to\": \"null\"\n      \
      \      }\n          ],\n          \"span\": 4,\n          \"sparkline\": {\n\
      \            \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n            \"full\"\
      : false,\n            \"lineColor\": \"rgb(31, 120, 193)\",\n            \"\
      show\": true\n          },\n          \"targets\": [\n            {\n      \
      \        \"expr\": \"sum(rate(container_network_transmit_bytes_total{namespace=\\\
      \"$deployment_namespace\\\",pod_name=~\\\"$deployment_name.*\\\"}[3m])) + sum(rate(container_network_receive_bytes_total{namespace=\\\
      \"$deployment_namespace\\\",pod_name=~\\\"$deployment_name.*\\\"}[3m]))\",\n\
      \              \"intervalFactor\": 2,\n              \"refId\": \"A\",\n   \
      \           \"step\": 600\n            }\n          ],\n          \"title\"\
      : \"Network\",\n          \"type\": \"singlestat\",\n          \"valueFontSize\"\
      : \"80%\",\n          \"valueMaps\": [\n            {\n              \"op\"\
      : \"=\",\n              \"text\": \"N/A\",\n              \"value\": \"null\"\
      \n            }\n          ],\n          \"valueName\": \"avg\"\n        }\n\
      \      ],\n      \"showTitle\": false,\n      \"title\": \"Dashboard Row\",\n\
      \      \"titleSize\": \"h6\"\n    },\n    {\n      \"collapse\": false,\n  \
      \    \"editable\": false,\n      \"height\": \"100px\",\n      \"panels\": [\n\
      \        {\n          \"colorBackground\": false,\n          \"colorValue\"\
      : false,\n          \"colors\": [\n            \"rgba(245, 54, 54, 0.9)\",\n\
      \            \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(50, 172, 45,\
      \ 0.97)\"\n          ],\n          \"datasource\": \"prometheus\",\n       \
      \   \"editable\": false,\n          \"format\": \"none\",\n          \"gauge\"\
      : {\n            \"maxValue\": 100,\n            \"minValue\": 0,\n        \
      \    \"show\": false,\n            \"thresholdLabels\": false,\n           \
      \ \"thresholdMarkers\": false\n          },\n          \"id\": 5,\n        \
      \  \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n  \
      \        \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n        \
      \    {\n              \"from\": \"null\",\n              \"text\": \"N/A\",\n\
      \              \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"max(kube_deployment_spec_replicas{deployment=\\\
      \"$deployment_name\\\",namespace=\\\"$deployment_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"metric\": \"\
      kube_deployment_spec_replicas\",\n              \"refId\": \"A\",\n        \
      \      \"step\": 600\n            }\n          ],\n          \"title\": \"Desired\
      \ Replicas\",\n          \"type\": \"singlestat\",\n          \"valueFontSize\"\
      : \"80%\",\n          \"valueMaps\": [\n            {\n              \"op\"\
      : \"=\",\n              \"text\": \"N/A\",\n              \"value\": \"null\"\
      \n            }\n          ],\n          \"valueName\": \"avg\"\n        },\n\
      \        {\n          \"colorBackground\": false,\n          \"colorValue\"\
      : false,\n          \"colors\": [\n            \"rgba(245, 54, 54, 0.9)\",\n\
      \            \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(50, 172, 45,\
      \ 0.97)\"\n          ],\n          \"datasource\": \"prometheus\",\n       \
      \   \"editable\": false,\n          \"format\": \"none\",\n          \"gauge\"\
      : {\n            \"maxValue\": 100,\n            \"minValue\": 0,\n        \
      \    \"show\": false,\n            \"thresholdLabels\": false,\n           \
      \ \"thresholdMarkers\": true\n          },\n          \"id\": 6,\n         \
      \ \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n  \
      \        \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n        \
      \    {\n              \"from\": \"null\",\n              \"text\": \"N/A\",\n\
      \              \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"min(kube_deployment_status_replicas_available{deployment=\\\
      \"$deployment_name\\\",namespace=\\\"$deployment_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"refId\": \"\
      A\",\n              \"step\": 600\n            }\n          ],\n          \"\
      title\": \"Available Replicas\",\n          \"type\": \"singlestat\",\n    \
      \      \"valueFontSize\": \"80%\",\n          \"valueMaps\": [\n           \
      \ {\n              \"op\": \"=\",\n              \"text\": \"N/A\",\n      \
      \        \"value\": \"null\"\n            }\n          ],\n          \"valueName\"\
      : \"avg\"\n        },\n        {\n          \"colorBackground\": false,\n  \
      \        \"colorValue\": false,\n          \"colors\": [\n            \"rgba(245,\
      \ 54, 54, 0.9)\",\n            \"rgba(237, 129, 40, 0.89)\",\n            \"\
      rgba(50, 172, 45, 0.97)\"\n          ],\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"format\": \"none\",\n       \
      \   \"gauge\": {\n            \"maxValue\": 100,\n            \"minValue\":\
      \ 0,\n            \"show\": false,\n            \"thresholdLabels\": false,\n\
      \            \"thresholdMarkers\": true\n          },\n          \"id\": 3,\n\
      \          \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n  \
      \        \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n        \
      \    {\n              \"from\": \"null\",\n              \"text\": \"N/A\",\n\
      \              \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"max(kube_deployment_status_observed_generation{deployment=\\\
      \"$deployment_name\\\",namespace=\\\"$deployment_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"refId\": \"\
      A\",\n              \"step\": 600\n            }\n          ],\n          \"\
      title\": \"Observed Generation\",\n          \"type\": \"singlestat\",\n   \
      \       \"valueFontSize\": \"80%\",\n          \"valueMaps\": [\n          \
      \  {\n              \"op\": \"=\",\n              \"text\": \"N/A\",\n     \
      \         \"value\": \"null\"\n            }\n          ],\n          \"valueName\"\
      : \"avg\"\n        },\n        {\n          \"colorBackground\": false,\n  \
      \        \"colorValue\": false,\n          \"colors\": [\n            \"rgba(245,\
      \ 54, 54, 0.9)\",\n            \"rgba(237, 129, 40, 0.89)\",\n            \"\
      rgba(50, 172, 45, 0.97)\"\n          ],\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"format\": \"none\",\n       \
      \   \"gauge\": {\n            \"maxValue\": 100,\n            \"minValue\":\
      \ 0,\n            \"show\": false,\n            \"thresholdLabels\": false,\n\
      \            \"thresholdMarkers\": true\n          },\n          \"id\": 2,\n\
      \          \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n  \
      \        \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n        \
      \    {\n              \"from\": \"null\",\n              \"text\": \"N/A\",\n\
      \              \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"max(kube_deployment_metadata_generation{deployment=\\\
      \"$deployment_name\\\",namespace=\\\"$deployment_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"refId\": \"\
      A\",\n              \"step\": 600\n            }\n          ],\n          \"\
      title\": \"Metadata Generation\",\n          \"type\": \"singlestat\",\n   \
      \       \"valueFontSize\": \"80%\",\n          \"valueMaps\": [\n          \
      \  {\n              \"op\": \"=\",\n              \"text\": \"N/A\",\n     \
      \         \"value\": \"null\"\n            }\n          ],\n          \"valueName\"\
      : \"avg\"\n        }\n      ],\n      \"showTitle\": false,\n      \"title\"\
      : \"Dashboard Row\",\n      \"titleSize\": \"h6\"\n    },\n    {\n      \"collapse\"\
      : false,\n      \"editable\": false,\n      \"height\": \"350px\",\n      \"\
      panels\": [\n        {\n          \"aliasColors\": {},\n          \"bars\":\
      \ false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n    \
      \      \"datasource\": \"prometheus\",\n          \"editable\": false,\n   \
      \       \"error\": false,\n          \"fill\": 1,\n          \"grid\": {\n \
      \           \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n           \
      \ \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n          },\n       \
      \   \"id\": 1,\n          \"isNew\": true,\n          \"legend\": {\n      \
      \      \"alignAsTable\": false,\n            \"avg\": false,\n            \"\
      current\": false,\n            \"hideEmpty\": false,\n            \"hideZero\"\
      : false,\n            \"max\": false,\n            \"min\": false,\n       \
      \     \"rightSide\": false,\n            \"show\": true,\n            \"total\"\
      : false\n          },\n          \"lines\": true,\n          \"linewidth\":\
      \ 2,\n          \"links\": [],\n          \"nullPointMode\": \"connected\",\n\
      \          \"percentage\": false,\n          \"pointradius\": 5,\n         \
      \ \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\"\
      : [],\n          \"spaceLength\": 10,\n          \"span\": 12,\n          \"\
      stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n\
      \            {\n              \"expr\": \"max(kube_deployment_status_replicas{deployment=\\\
      \"$deployment_name\\\",namespace=\\\"$deployment_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"current replicas\",\n              \"refId\": \"A\",\n              \"step\"\
      : 30\n            },\n            {\n              \"expr\": \"min(kube_deployment_status_replicas_available{deployment=\\\
      \"$deployment_name\\\",namespace=\\\"$deployment_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"available\",\n              \"refId\": \"B\",\n              \"step\": 30\n\
      \            },\n            {\n              \"expr\": \"max(kube_deployment_status_replicas_unavailable{deployment=\\\
      \"$deployment_name\\\",namespace=\\\"$deployment_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"unavailable\",\n              \"refId\": \"C\",\n              \"step\"\
      : 30\n            },\n            {\n              \"expr\": \"min(kube_deployment_status_replicas_updated{deployment=\\\
      \"$deployment_name\\\",namespace=\\\"$deployment_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"updated\",\n              \"refId\": \"D\",\n              \"step\": 30\n\
      \            },\n            {\n              \"expr\": \"max(kube_deployment_spec_replicas{deployment=\\\
      \"$deployment_name\\\",namespace=\\\"$deployment_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"desired\",\n              \"refId\": \"E\",\n              \"step\": 30\n\
      \            }\n          ],\n          \"title\": \"Replicas\",\n         \
      \ \"tooltip\": {\n            \"msResolution\": true,\n            \"shared\"\
      : true,\n            \"sort\": 0,\n            \"value_type\": \"cumulative\"\
      \n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n   \
      \         \"mode\": \"time\",\n            \"show\": true,\n            \"values\"\
      : []\n          },\n          \"yaxes\": [\n            {\n              \"\
      format\": \"none\",\n              \"label\": \"\",\n              \"logBase\"\
      : 1,\n              \"show\": true\n            },\n            {\n        \
      \      \"format\": \"short\",\n              \"label\": \"\",\n            \
      \  \"logBase\": 1,\n              \"show\": false\n            }\n         \
      \ ]\n        }\n      ],\n      \"showTitle\": false,\n      \"title\": \"Dashboard\
      \ Row\",\n      \"titleSize\": \"h6\"\n    }\n  ],\n  \"schemaVersion\": 14,\n\
      \  \"sharedCrosshair\": false,\n  \"style\": \"dark\",\n  \"tags\": [],\n  \"\
      templating\": {\n    \"list\": [\n      {\n        \"allValue\": \".*\",\n \
      \       \"current\": {},\n        \"datasource\": \"prometheus\",\n        \"\
      hide\": 0,\n        \"includeAll\": false,\n        \"label\": \"Namespace\"\
      ,\n        \"multi\": false,\n        \"name\": \"deployment_namespace\",\n\
      \        \"options\": [],\n        \"query\": \"label_values(kube_deployment_metadata_generation,\
      \ namespace)\",\n        \"refresh\": 1,\n        \"regex\": \"\",\n       \
      \ \"sort\": 0,\n        \"tagValuesQuery\": null,\n        \"tags\": [],\n \
      \       \"tagsQuery\": \"\",\n        \"type\": \"query\",\n        \"useTags\"\
      : false\n      },\n      {\n        \"allValue\": null,\n        \"current\"\
      : {},\n        \"datasource\": \"prometheus\",\n        \"hide\": 0,\n     \
      \   \"includeAll\": false,\n        \"label\": \"Deployment\",\n        \"multi\"\
      : false,\n        \"name\": \"deployment_name\",\n        \"options\": [],\n\
      \        \"query\": \"label_values(kube_deployment_metadata_generation{namespace=\\\
      \"$deployment_namespace\\\"}, deployment)\",\n        \"refresh\": 1,\n    \
      \    \"regex\": \"\",\n        \"sort\": 0,\n        \"tagValuesQuery\": \"\"\
      ,\n        \"tags\": [],\n        \"tagsQuery\": \"deployment\",\n        \"\
      type\": \"query\",\n        \"useTags\": false\n      }\n    ]\n  },\n  \"time\"\
      : {\n    \"from\": \"now-6h\",\n    \"to\": \"now\"\n  },\n  \"timepicker\"\
      : {\n    \"refresh_intervals\": [\n      \"5s\",\n      \"10s\",\n      \"30s\"\
      ,\n      \"1m\",\n      \"5m\",\n      \"15m\",\n      \"30m\",\n      \"1h\"\
      ,\n      \"2h\",\n      \"1d\"\n    ],\n    \"time_options\": [\n      \"5m\"\
      ,\n      \"15m\",\n      \"1h\",\n      \"6h\",\n      \"12h\",\n      \"24h\"\
      ,\n      \"2d\",\n      \"7d\",\n      \"30d\"\n    ]\n  },\n  \"timezone\"\
      : \"browser\",\n  \"title\": \"Deployment\",\n  \"version\": 1\n}\n"
  kind: ConfigMap
  metadata:
    labels:
      grafana_dashboard: '1'
    name: grafana-dashboard-definition-kubernetes-deployment
    namespace: knative-monitoring
- apiVersion: v1
  data:
    kubernetes-capacity-planning-dashboard.json: "{\n  \"__inputs\": [\n    {\n  \
      \    \"description\": \"\",\n      \"label\": \"prometheus\",\n      \"name\"\
      : \"prometheus\",\n      \"pluginId\": \"prometheus\",\n      \"pluginName\"\
      : \"Prometheus\",\n      \"type\": \"datasource\"\n    }\n  ],\n  \"annotations\"\
      : {\n    \"list\": []\n  },\n  \"editable\": false,\n  \"gnetId\": null,\n \
      \ \"graphTooltip\": 0,\n  \"id\": null,\n  \"links\": [],\n  \"refresh\": false,\n\
      \  \"rows\": [\n    {\n      \"collapse\": false,\n      \"editable\": false,\n\
      \      \"height\": \"250px\",\n      \"panels\": [\n        {\n          \"\
      aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n\
      \          \"dashes\": false,\n          \"datasource\": \"prometheus\",\n \
      \         \"editable\": false,\n          \"error\": false,\n          \"fill\"\
      : 1,\n          \"grid\": {\n            \"threshold1Color\": \"rgba(216, 200,\
      \ 27, 0.27)\",\n            \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\
      \n          },\n          \"id\": 3,\n          \"isNew\": false,\n        \
      \  \"legend\": {\n            \"alignAsTable\": false,\n            \"avg\"\
      : false,\n            \"current\": false,\n            \"hideEmpty\": false,\n\
      \            \"hideZero\": false,\n            \"max\": false,\n           \
      \ \"min\": false,\n            \"rightSide\": false,\n            \"show\":\
      \ true,\n            \"total\": false\n          },\n          \"lines\": true,\n\
      \          \"linewidth\": 2,\n          \"links\": [],\n          \"nullPointMode\"\
      : \"connected\",\n          \"percentage\": false,\n          \"pointradius\"\
      : 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n    \
      \      \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"\
      span\": 6,\n          \"stack\": false,\n          \"steppedLine\": false,\n\
      \          \"targets\": [\n            {\n              \"expr\": \"sum(rate(node_cpu{mode=\\\
      \"idle\\\"}[2m])) * 100\",\n              \"hide\": false,\n              \"\
      intervalFactor\": 10,\n              \"legendFormat\": \"\",\n             \
      \ \"refId\": \"A\",\n              \"step\": 50\n            }\n          ],\n\
      \          \"title\": \"Idle CPU\",\n          \"tooltip\": {\n            \"\
      msResolution\": false,\n            \"shared\": true,\n            \"sort\"\
      : 0,\n            \"value_type\": \"cumulative\"\n          },\n          \"\
      type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n\
      \            \"show\": true,\n            \"values\": []\n          },\n   \
      \       \"yaxes\": [\n            {\n              \"format\": \"percent\",\n\
      \              \"label\": \"cpu usage\",\n              \"logBase\": 1,\n  \
      \            \"min\": 0,\n              \"show\": true\n            },\n   \
      \         {\n              \"format\": \"short\",\n              \"logBase\"\
      : 1,\n              \"show\": true\n            }\n          ]\n        },\n\
      \        {\n          \"aliasColors\": {},\n          \"bars\": false,\n   \
      \       \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\"\
      : \"prometheus\",\n          \"editable\": false,\n          \"error\": false,\n\
      \          \"fill\": 1,\n          \"grid\": {\n            \"threshold1Color\"\
      : \"rgba(216, 200, 27, 0.27)\",\n            \"threshold2Color\": \"rgba(234,\
      \ 112, 112, 0.22)\"\n          },\n          \"id\": 9,\n          \"isNew\"\
      : false,\n          \"legend\": {\n            \"alignAsTable\": false,\n  \
      \          \"avg\": false,\n            \"current\": false,\n            \"\
      hideEmpty\": false,\n            \"hideZero\": false,\n            \"max\":\
      \ false,\n            \"min\": false,\n            \"rightSide\": false,\n \
      \           \"show\": true,\n            \"total\": false\n          },\n  \
      \        \"lines\": true,\n          \"linewidth\": 2,\n          \"links\"\
      : [],\n          \"nullPointMode\": \"connected\",\n          \"percentage\"\
      : false,\n          \"pointradius\": 5,\n          \"points\": false,\n    \
      \      \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n       \
      \   \"spaceLength\": 10,\n          \"span\": 6,\n          \"stack\": false,\n\
      \          \"steppedLine\": false,\n          \"targets\": [\n            {\n\
      \              \"expr\": \"sum(node_load1)\",\n              \"intervalFactor\"\
      : 4,\n              \"legendFormat\": \"load 1m\",\n              \"refId\"\
      : \"A\",\n              \"step\": 20,\n              \"target\": \"\"\n    \
      \        },\n            {\n              \"expr\": \"sum(node_load5)\",\n \
      \             \"intervalFactor\": 4,\n              \"legendFormat\": \"load\
      \ 5m\",\n              \"refId\": \"B\",\n              \"step\": 20,\n    \
      \          \"target\": \"\"\n            },\n            {\n              \"\
      expr\": \"sum(node_load15)\",\n              \"intervalFactor\": 4,\n      \
      \        \"legendFormat\": \"load 15m\",\n              \"refId\": \"C\",\n\
      \              \"step\": 20,\n              \"target\": \"\"\n            }\n\
      \          ],\n          \"title\": \"System Load\",\n          \"tooltip\"\
      : {\n            \"msResolution\": false,\n            \"shared\": true,\n \
      \           \"sort\": 0,\n            \"value_type\": \"cumulative\"\n     \
      \     },\n          \"type\": \"graph\",\n          \"xaxis\": {\n         \
      \   \"mode\": \"time\",\n            \"show\": true,\n            \"values\"\
      : []\n          },\n          \"yaxes\": [\n            {\n              \"\
      format\": \"percentunit\",\n              \"logBase\": 1,\n              \"\
      show\": true\n            },\n            {\n              \"format\": \"short\"\
      ,\n              \"logBase\": 1,\n              \"show\": true\n           \
      \ }\n          ]\n        }\n      ],\n      \"showTitle\": false,\n      \"\
      title\": \"New Row\",\n      \"titleSize\": \"h6\"\n    },\n    {\n      \"\
      collapse\": false,\n      \"editable\": false,\n      \"height\": \"250px\"\
      ,\n      \"panels\": [\n        {\n          \"aliasColors\": {},\n        \
      \  \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n\
      \          \"datasource\": \"prometheus\",\n          \"editable\": false,\n\
      \          \"error\": false,\n          \"fill\": 1,\n          \"grid\": {\n\
      \            \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n          \
      \  \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n          },\n      \
      \    \"id\": 4,\n          \"isNew\": false,\n          \"legend\": {\n    \
      \        \"alignAsTable\": false,\n            \"avg\": false,\n           \
      \ \"current\": false,\n            \"hideEmpty\": false,\n            \"hideZero\"\
      : false,\n            \"max\": false,\n            \"min\": false,\n       \
      \     \"rightSide\": false,\n            \"show\": true,\n            \"total\"\
      : false\n          },\n          \"lines\": true,\n          \"linewidth\":\
      \ 2,\n          \"links\": [],\n          \"nullPointMode\": \"connected\",\n\
      \          \"percentage\": false,\n          \"pointradius\": 5,\n         \
      \ \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\"\
      : [\n            {\n              \"alias\": \"node_memory_SwapFree{instance=\\\
      \"172.17.0.1:9100\\\",job=\\\"prometheus\\\"}\",\n              \"yaxis\": 2\n\
      \            }\n          ],\n          \"spaceLength\": 10,\n          \"span\"\
      : 9,\n          \"stack\": true,\n          \"steppedLine\": false,\n      \
      \    \"targets\": [\n            {\n              \"expr\": \"sum(node_memory_MemTotal)\
      \ - sum(node_memory_MemFree) - sum(node_memory_Buffers) - sum(node_memory_Cached)\"\
      ,\n              \"intervalFactor\": 2,\n              \"legendFormat\": \"\
      memory usage\",\n              \"metric\": \"memo\",\n              \"refId\"\
      : \"A\",\n              \"step\": 10,\n              \"target\": \"\"\n    \
      \        },\n            {\n              \"expr\": \"sum(node_memory_Buffers)\"\
      ,\n              \"interval\": \"\",\n              \"intervalFactor\": 2,\n\
      \              \"legendFormat\": \"memory buffers\",\n              \"metric\"\
      : \"memo\",\n              \"refId\": \"B\",\n              \"step\": 10,\n\
      \              \"target\": \"\"\n            },\n            {\n           \
      \   \"expr\": \"sum(node_memory_Cached)\",\n              \"interval\": \"\"\
      ,\n              \"intervalFactor\": 2,\n              \"legendFormat\": \"\
      memory cached\",\n              \"metric\": \"memo\",\n              \"refId\"\
      : \"C\",\n              \"step\": 10,\n              \"target\": \"\"\n    \
      \        },\n            {\n              \"expr\": \"sum(node_memory_MemFree)\"\
      ,\n              \"interval\": \"\",\n              \"intervalFactor\": 2,\n\
      \              \"legendFormat\": \"memory free\",\n              \"metric\"\
      : \"memo\",\n              \"refId\": \"D\",\n              \"step\": 10,\n\
      \              \"target\": \"\"\n            }\n          ],\n          \"title\"\
      : \"Memory Usage\",\n          \"tooltip\": {\n            \"msResolution\"\
      : false,\n            \"shared\": true,\n            \"sort\": 0,\n        \
      \    \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\"\
      ,\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\"\
      : true,\n            \"values\": []\n          },\n          \"yaxes\": [\n\
      \            {\n              \"format\": \"bytes\",\n              \"logBase\"\
      : 1,\n              \"min\": \"0\",\n              \"show\": true\n        \
      \    },\n            {\n              \"format\": \"short\",\n             \
      \ \"logBase\": 1,\n              \"show\": true\n            }\n          ]\n\
      \        },\n        {\n          \"colorBackground\": false,\n          \"\
      colorValue\": false,\n          \"colors\": [\n            \"rgba(50, 172, 45,\
      \ 0.97)\",\n            \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(245,\
      \ 54, 54, 0.9)\"\n          ],\n          \"datasource\": \"prometheus\",\n\
      \          \"editable\": false,\n          \"format\": \"percent\",\n      \
      \    \"gauge\": {\n            \"maxValue\": 100,\n            \"minValue\"\
      : 0,\n            \"show\": true,\n            \"thresholdLabels\": false,\n\
      \            \"thresholdMarkers\": true\n          },\n          \"hideTimeOverride\"\
      : false,\n          \"id\": 5,\n          \"links\": [],\n          \"mappingType\"\
      : 1,\n          \"mappingTypes\": [\n            {\n              \"name\":\
      \ \"value to text\",\n              \"value\": 1\n            },\n         \
      \   {\n              \"name\": \"range to text\",\n              \"value\":\
      \ 2\n            }\n          ],\n          \"maxDataPoints\": 100,\n      \
      \    \"nullPointMode\": \"connected\",\n          \"postfix\": \"\",\n     \
      \     \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n         \
      \ \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n            {\n\
      \              \"from\": \"null\",\n              \"text\": \"N/A\",\n     \
      \         \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"((sum(node_memory_MemTotal)\
      \ - sum(node_memory_MemFree) - sum(node_memory_Buffers) - sum(node_memory_Cached))\
      \ / sum(node_memory_MemTotal)) * 100\",\n              \"intervalFactor\": 2,\n\
      \              \"metric\": \"\",\n              \"refId\": \"A\",\n        \
      \      \"step\": 60,\n              \"target\": \"\"\n            }\n      \
      \    ],\n          \"thresholds\": \"80, 90\",\n          \"title\": \"Memory\
      \ Usage\",\n          \"transparent\": false,\n          \"type\": \"singlestat\"\
      ,\n          \"valueFontSize\": \"80%\",\n          \"valueMaps\": [\n     \
      \       {\n              \"op\": \"=\",\n              \"text\": \"N/A\",\n\
      \              \"value\": \"null\"\n            }\n          ],\n          \"\
      valueName\": \"avg\"\n        }\n      ],\n      \"showTitle\": false,\n   \
      \   \"title\": \"New Row\",\n      \"titleSize\": \"h6\"\n    },\n    {\n  \
      \    \"collapse\": false,\n      \"editable\": false,\n      \"height\": \"\
      246px\",\n      \"panels\": [\n        {\n          \"aliasColors\": {},\n \
      \         \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\"\
      : false,\n          \"datasource\": \"prometheus\",\n          \"editable\"\
      : false,\n          \"error\": false,\n          \"fill\": 1,\n          \"\
      grid\": {\n            \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n\
      \            \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n          },\n\
      \          \"id\": 6,\n          \"isNew\": false,\n          \"legend\": {\n\
      \            \"alignAsTable\": false,\n            \"avg\": false,\n       \
      \     \"current\": false,\n            \"hideEmpty\": false,\n            \"\
      hideZero\": false,\n            \"max\": false,\n            \"min\": false,\n\
      \            \"rightSide\": false,\n            \"show\": true,\n          \
      \  \"total\": false\n          },\n          \"lines\": true,\n          \"\
      linewidth\": 2,\n          \"links\": [],\n          \"nullPointMode\": \"connected\"\
      ,\n          \"percentage\": false,\n          \"pointradius\": 5,\n       \
      \   \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\"\
      : [\n            {\n              \"alias\": \"read\",\n              \"yaxis\"\
      : 1\n            },\n            {\n              \"alias\": \"{instance=\\\"\
      172.17.0.1:9100\\\"}\",\n              \"yaxis\": 2\n            },\n      \
      \      {\n              \"alias\": \"io time\",\n              \"yaxis\": 2\n\
      \            }\n          ],\n          \"spaceLength\": 10,\n          \"span\"\
      : 9,\n          \"stack\": false,\n          \"steppedLine\": false,\n     \
      \     \"targets\": [\n            {\n              \"expr\": \"sum(rate(node_disk_bytes_read[5m]))\"\
      ,\n              \"hide\": false,\n              \"intervalFactor\": 4,\n  \
      \            \"legendFormat\": \"read\",\n              \"refId\": \"A\",\n\
      \              \"step\": 20,\n              \"target\": \"\"\n            },\n\
      \            {\n              \"expr\": \"sum(rate(node_disk_bytes_written[5m]))\"\
      ,\n              \"intervalFactor\": 4,\n              \"legendFormat\": \"\
      written\",\n              \"refId\": \"B\",\n              \"step\": 20\n  \
      \          },\n            {\n              \"expr\": \"sum(rate(node_disk_io_time_ms[5m]))\"\
      ,\n              \"intervalFactor\": 4,\n              \"legendFormat\": \"\
      io time\",\n              \"refId\": \"C\",\n              \"step\": 20\n  \
      \          }\n          ],\n          \"title\": \"Disk I/O\",\n          \"\
      tooltip\": {\n            \"msResolution\": false,\n            \"shared\":\
      \ true,\n            \"sort\": 0,\n            \"value_type\": \"cumulative\"\
      \n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n   \
      \         \"mode\": \"time\",\n            \"show\": true,\n            \"values\"\
      : []\n          },\n          \"yaxes\": [\n            {\n              \"\
      format\": \"bytes\",\n              \"logBase\": 1,\n              \"show\"\
      : true\n            },\n            {\n              \"format\": \"ms\",\n \
      \             \"logBase\": 1,\n              \"show\": true\n            }\n\
      \          ]\n        },\n        {\n          \"colorBackground\": false,\n\
      \          \"colorValue\": false,\n          \"colors\": [\n            \"rgba(50,\
      \ 172, 45, 0.97)\",\n            \"rgba(237, 129, 40, 0.89)\",\n           \
      \ \"rgba(245, 54, 54, 0.9)\"\n          ],\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"format\": \"percentunit\",\n\
      \          \"gauge\": {\n            \"maxValue\": 1,\n            \"minValue\"\
      : 0,\n            \"show\": true,\n            \"thresholdLabels\": false,\n\
      \            \"thresholdMarkers\": true\n          },\n          \"hideTimeOverride\"\
      : false,\n          \"id\": 12,\n          \"links\": [],\n          \"mappingType\"\
      : 1,\n          \"mappingTypes\": [\n            {\n              \"name\":\
      \ \"value to text\",\n              \"value\": 1\n            },\n         \
      \   {\n              \"name\": \"range to text\",\n              \"value\":\
      \ 2\n            }\n          ],\n          \"maxDataPoints\": 100,\n      \
      \    \"nullPointMode\": \"connected\",\n          \"postfix\": \"\",\n     \
      \     \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n         \
      \ \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n            {\n\
      \              \"from\": \"null\",\n              \"text\": \"N/A\",\n     \
      \         \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"(sum(node_filesystem_size{device!=\\\
      \"rootfs\\\"}) - sum(node_filesystem_free{device!=\\\"rootfs\\\"})) / sum(node_filesystem_size{device!=\\\
      \"rootfs\\\"})\",\n              \"intervalFactor\": 2,\n              \"refId\"\
      : \"A\",\n              \"step\": 60,\n              \"target\": \"\"\n    \
      \        }\n          ],\n          \"thresholds\": \"0.75, 0.9\",\n       \
      \   \"title\": \"Disk Space Usage\",\n          \"transparent\": false,\n  \
      \        \"type\": \"singlestat\",\n          \"valueFontSize\": \"80%\",\n\
      \          \"valueMaps\": [\n            {\n              \"op\": \"=\",\n \
      \             \"text\": \"N/A\",\n              \"value\": \"null\"\n      \
      \      }\n          ],\n          \"valueName\": \"current\"\n        }\n  \
      \    ],\n      \"showTitle\": false,\n      \"title\": \"New Row\",\n      \"\
      titleSize\": \"h6\"\n    },\n    {\n      \"collapse\": false,\n      \"editable\"\
      : false,\n      \"height\": \"250px\",\n      \"panels\": [\n        {\n   \
      \       \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\"\
      : 10,\n          \"dashes\": false,\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"error\": false,\n          \"\
      fill\": 1,\n          \"grid\": {\n            \"threshold1Color\": \"rgba(216,\
      \ 200, 27, 0.27)\",\n            \"threshold2Color\": \"rgba(234, 112, 112,\
      \ 0.22)\"\n          },\n          \"id\": 8,\n          \"isNew\": false,\n\
      \          \"legend\": {\n            \"alignAsTable\": false,\n           \
      \ \"avg\": false,\n            \"current\": false,\n            \"hideEmpty\"\
      : false,\n            \"hideZero\": false,\n            \"max\": false,\n  \
      \          \"min\": false,\n            \"rightSide\": false,\n            \"\
      show\": true,\n            \"total\": false\n          },\n          \"lines\"\
      : true,\n          \"linewidth\": 2,\n          \"links\": [],\n          \"\
      nullPointMode\": \"connected\",\n          \"percentage\": false,\n        \
      \  \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\"\
      : \"flot\",\n          \"seriesOverrides\": [\n            {\n             \
      \ \"alias\": \"transmitted\",\n              \"yaxis\": 2\n            }\n \
      \         ],\n          \"spaceLength\": 10,\n          \"span\": 6,\n     \
      \     \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\"\
      : [\n            {\n              \"expr\": \"sum(rate(node_network_receive_bytes{device!~\\\
      \"lo\\\"}[5m]))\",\n              \"hide\": false,\n              \"intervalFactor\"\
      : 2,\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\
      ,\n              \"step\": 10,\n              \"target\": \"\"\n           \
      \ }\n          ],\n          \"title\": \"Network Received\",\n          \"\
      tooltip\": {\n            \"msResolution\": false,\n            \"shared\":\
      \ true,\n            \"sort\": 0,\n            \"value_type\": \"cumulative\"\
      \n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n   \
      \         \"mode\": \"time\",\n            \"show\": true,\n            \"values\"\
      : []\n          },\n          \"yaxes\": [\n            {\n              \"\
      format\": \"bytes\",\n              \"logBase\": 1,\n              \"show\"\
      : true\n            },\n            {\n              \"format\": \"bytes\",\n\
      \              \"logBase\": 1,\n              \"show\": true\n            }\n\
      \          ]\n        },\n        {\n          \"aliasColors\": {},\n      \
      \    \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\":\
      \ false,\n          \"datasource\": \"prometheus\",\n          \"editable\"\
      : false,\n          \"error\": false,\n          \"fill\": 1,\n          \"\
      grid\": {\n            \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n\
      \            \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n          },\n\
      \          \"id\": 10,\n          \"isNew\": false,\n          \"legend\": {\n\
      \            \"alignAsTable\": false,\n            \"avg\": false,\n       \
      \     \"current\": false,\n            \"hideEmpty\": false,\n            \"\
      hideZero\": false,\n            \"max\": false,\n            \"min\": false,\n\
      \            \"rightSide\": false,\n            \"show\": true,\n          \
      \  \"total\": false\n          },\n          \"lines\": true,\n          \"\
      linewidth\": 2,\n          \"links\": [],\n          \"nullPointMode\": \"connected\"\
      ,\n          \"percentage\": false,\n          \"pointradius\": 5,\n       \
      \   \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\"\
      : [\n            {\n              \"alias\": \"transmitted\",\n            \
      \  \"yaxis\": 2\n            }\n          ],\n          \"spaceLength\": 10,\n\
      \          \"span\": 6,\n          \"stack\": false,\n          \"steppedLine\"\
      : false,\n          \"targets\": [\n            {\n              \"expr\": \"\
      sum(rate(node_network_transmit_bytes{device!~\\\"lo\\\"}[5m]))\",\n        \
      \      \"hide\": false,\n              \"intervalFactor\": 2,\n            \
      \  \"legendFormat\": \"\",\n              \"refId\": \"B\",\n              \"\
      step\": 10,\n              \"target\": \"\"\n            }\n          ],\n \
      \         \"title\": \"Network Transmitted\",\n          \"tooltip\": {\n  \
      \          \"msResolution\": false,\n            \"shared\": true,\n       \
      \     \"sort\": 0,\n            \"value_type\": \"cumulative\"\n          },\n\
      \          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\"\
      : \"time\",\n            \"show\": true,\n            \"values\": []\n     \
      \     },\n          \"yaxes\": [\n            {\n              \"format\": \"\
      bytes\",\n              \"logBase\": 1,\n              \"show\": true\n    \
      \        },\n            {\n              \"format\": \"bytes\",\n         \
      \     \"logBase\": 1,\n              \"show\": true\n            }\n       \
      \   ]\n        }\n      ],\n      \"showTitle\": false,\n      \"title\": \"\
      New Row\",\n      \"titleSize\": \"h6\"\n    },\n    {\n      \"collapse\":\
      \ false,\n      \"editable\": false,\n      \"height\": \"276px\",\n      \"\
      panels\": [\n        {\n          \"aliasColors\": {},\n          \"bars\":\
      \ false,\n          \"dashes\": false,\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"error\": false,\n          \"\
      fill\": 1,\n          \"grid\": {\n            \"threshold1Color\": \"rgba(216,\
      \ 200, 27, 0.27)\",\n            \"threshold2Color\": \"rgba(234, 112, 112,\
      \ 0.22)\"\n          },\n          \"id\": 11,\n          \"isNew\": true,\n\
      \          \"legend\": {\n            \"alignAsTable\": false,\n           \
      \ \"avg\": false,\n            \"current\": false,\n            \"hideEmpty\"\
      : false,\n            \"hideZero\": false,\n            \"max\": false,\n  \
      \          \"min\": false,\n            \"rightSide\": false,\n            \"\
      show\": true,\n            \"total\": false\n          },\n          \"lines\"\
      : true,\n          \"linewidth\": 2,\n          \"links\": [],\n          \"\
      nullPointMode\": \"connected\",\n          \"percentage\": false,\n        \
      \  \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\"\
      : \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\":\
      \ 11,\n          \"span\": 9,\n          \"stack\": false,\n          \"steppedLine\"\
      : false,\n          \"targets\": [\n            {\n              \"expr\": \"\
      sum(kube_pod_info)\",\n              \"format\": \"time_series\",\n        \
      \      \"intervalFactor\": 2,\n              \"legendFormat\": \"Current number\
      \ of Pods\",\n              \"refId\": \"A\",\n              \"step\": 10\n\
      \            },\n            {\n              \"expr\": \"sum(kube_node_status_capacity_pods)\"\
      ,\n              \"format\": \"time_series\",\n              \"intervalFactor\"\
      : 2,\n              \"legendFormat\": \"Maximum capacity of pods\",\n      \
      \        \"refId\": \"B\",\n              \"step\": 10\n            }\n    \
      \      ],\n          \"title\": \"Cluster Pod Utilization\",\n          \"tooltip\"\
      : {\n            \"msResolution\": false,\n            \"shared\": true,\n \
      \           \"sort\": 0,\n            \"value_type\": \"individual\"\n     \
      \     },\n          \"type\": \"graph\",\n          \"xaxis\": {\n         \
      \   \"mode\": \"time\",\n            \"show\": true,\n            \"values\"\
      : []\n          },\n          \"yaxes\": [\n            {\n              \"\
      format\": \"short\",\n              \"logBase\": 1,\n              \"show\"\
      : true\n            },\n            {\n              \"format\": \"short\",\n\
      \              \"logBase\": 1,\n              \"show\": true\n            }\n\
      \          ]\n        },\n        {\n          \"colorBackground\": false,\n\
      \          \"colorValue\": false,\n          \"colors\": [\n            \"rgba(50,\
      \ 172, 45, 0.97)\",\n            \"rgba(237, 129, 40, 0.89)\",\n           \
      \ \"rgba(245, 54, 54, 0.9)\"\n          ],\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"format\": \"percent\",\n    \
      \      \"gauge\": {\n            \"maxValue\": 100,\n            \"minValue\"\
      : 0,\n            \"show\": true,\n            \"thresholdLabels\": false,\n\
      \            \"thresholdMarkers\": true\n          },\n          \"hideTimeOverride\"\
      : false,\n          \"id\": 7,\n          \"links\": [],\n          \"mappingType\"\
      : 1,\n          \"mappingTypes\": [\n            {\n              \"name\":\
      \ \"value to text\",\n              \"value\": 1\n            },\n         \
      \   {\n              \"name\": \"range to text\",\n              \"value\":\
      \ 2\n            }\n          ],\n          \"maxDataPoints\": 100,\n      \
      \    \"nullPointMode\": \"connected\",\n          \"postfix\": \"\",\n     \
      \     \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n         \
      \ \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n            {\n\
      \              \"from\": \"null\",\n              \"text\": \"N/A\",\n     \
      \         \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"100 - (sum(kube_node_status_capacity_pods)\
      \ - sum(kube_pod_info)) / sum(kube_node_status_capacity_pods) * 100\",\n   \
      \           \"format\": \"time_series\",\n              \"intervalFactor\":\
      \ 2,\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\
      ,\n              \"step\": 60,\n              \"target\": \"\"\n           \
      \ }\n          ],\n          \"thresholds\": \"80, 90\",\n          \"title\"\
      : \"Pod Utilization\",\n          \"transparent\": false,\n          \"type\"\
      : \"singlestat\",\n          \"valueFontSize\": \"80%\",\n          \"valueMaps\"\
      : [\n            {\n              \"op\": \"=\",\n              \"text\": \"\
      N/A\",\n              \"value\": \"null\"\n            }\n          ],\n   \
      \       \"valueName\": \"current\"\n        }\n      ],\n      \"showTitle\"\
      : false,\n      \"title\": \"New Row\",\n      \"titleSize\": \"h6\"\n    }\n\
      \  ],\n  \"schemaVersion\": 14,\n  \"sharedCrosshair\": false,\n  \"style\"\
      : \"dark\",\n  \"tags\": [],\n  \"templating\": {\n    \"list\": []\n  },\n\
      \  \"time\": {\n    \"from\": \"now-1h\",\n    \"to\": \"now\"\n  },\n  \"timepicker\"\
      : {\n    \"refresh_intervals\": [\n      \"5s\",\n      \"10s\",\n      \"30s\"\
      ,\n      \"1m\",\n      \"5m\",\n      \"15m\",\n      \"30m\",\n      \"1h\"\
      ,\n      \"2h\",\n      \"1d\"\n    ],\n    \"time_options\": [\n      \"5m\"\
      ,\n      \"15m\",\n      \"1h\",\n      \"6h\",\n      \"12h\",\n      \"24h\"\
      ,\n      \"2d\",\n      \"7d\",\n      \"30d\"\n    ]\n  },\n  \"timezone\"\
      : \"browser\",\n  \"title\": \"Kubernetes Capacity Planning\",\n  \"version\"\
      : 4\n}\n"
  kind: ConfigMap
  metadata:
    labels:
      grafana_dashboard: '1'
    name: grafana-dashboard-definition-kubernetes-capacity-planning
    namespace: knative-monitoring
- apiVersion: v1
  data:
    kubernetes-cluster-health-dashboard.json: "{\n  \"__inputs\": [\n    {\n     \
      \ \"description\": \"\",\n      \"label\": \"prometheus\",\n      \"name\":\
      \ \"prometheus\",\n      \"pluginId\": \"prometheus\",\n      \"pluginName\"\
      : \"Prometheus\",\n      \"type\": \"datasource\"\n    }\n  ],\n  \"annotations\"\
      : {\n    \"list\": []\n  },\n  \"editable\": false,\n  \"gnetId\": null,\n \
      \ \"graphTooltip\": 0,\n  \"id\": null,\n  \"links\": [],\n  \"refresh\": \"\
      10s\",\n  \"rows\": [\n    {\n      \"collapse\": false,\n      \"editable\"\
      : false,\n      \"height\": \"254px\",\n      \"panels\": [\n        {\n   \
      \       \"colorBackground\": false,\n          \"colorValue\": true,\n     \
      \     \"colors\": [\n            \"rgba(50, 172, 45, 0.97)\",\n            \"\
      rgba(237, 129, 40, 0.89)\",\n            \"rgba(245, 54, 54, 0.9)\"\n      \
      \    ],\n          \"datasource\": \"prometheus\",\n          \"editable\":\
      \ false,\n          \"format\": \"none\",\n          \"gauge\": {\n        \
      \    \"maxValue\": 100,\n            \"minValue\": 0,\n            \"show\"\
      : false,\n            \"thresholdLabels\": false,\n            \"thresholdMarkers\"\
      : true\n          },\n          \"hideTimeOverride\": false,\n          \"id\"\
      : 1,\n          \"links\": [],\n          \"mappingType\": 1,\n          \"\
      mappingTypes\": [\n            {\n              \"name\": \"value to text\"\
      ,\n              \"value\": 1\n            },\n            {\n             \
      \ \"name\": \"range to text\",\n              \"value\": 2\n            }\n\
      \          ],\n          \"maxDataPoints\": 100,\n          \"nullPointMode\"\
      : \"connected\",\n          \"postfix\": \"\",\n          \"postfixFontSize\"\
      : \"50%\",\n          \"prefix\": \"\",\n          \"prefixFontSize\": \"50%\"\
      ,\n          \"rangeMaps\": [\n            {\n              \"from\": \"null\"\
      ,\n              \"text\": \"N/A\",\n              \"to\": \"null\"\n      \
      \      }\n          ],\n          \"span\": 3,\n          \"sparkline\": {\n\
      \            \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n            \"full\"\
      : false,\n            \"lineColor\": \"rgb(31, 120, 193)\",\n            \"\
      show\": false\n          },\n          \"targets\": [\n            {\n     \
      \         \"expr\": \"sum(up{job=~\\\"apiserver|kube-scheduler|kube-controller-manager\\\
      \"} == 0)\",\n              \"format\": \"time_series\",\n              \"intervalFactor\"\
      : 2,\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\
      ,\n              \"step\": 600\n            }\n          ],\n          \"thresholds\"\
      : \"1, 3\",\n          \"title\": \"Control Plane Components Down\",\n     \
      \     \"transparent\": false,\n          \"type\": \"singlestat\",\n       \
      \   \"valueFontSize\": \"80%\",\n          \"valueMaps\": [\n            {\n\
      \              \"op\": \"=\",\n              \"text\": \"Everything UP and healthy\"\
      ,\n              \"value\": \"null\"\n            },\n            {\n      \
      \        \"op\": \"=\",\n              \"text\": \"\",\n              \"value\"\
      : \"\"\n            }\n          ],\n          \"valueName\": \"avg\"\n    \
      \    },\n        {\n          \"colorBackground\": false,\n          \"colorValue\"\
      : true,\n          \"colors\": [\n            \"rgba(50, 172, 45, 0.97)\",\n\
      \            \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(245, 54, 54,\
      \ 0.9)\"\n          ],\n          \"datasource\": \"prometheus\",\n        \
      \  \"editable\": false,\n          \"format\": \"none\",\n          \"gauge\"\
      : {\n            \"maxValue\": 100,\n            \"minValue\": 0,\n        \
      \    \"show\": false,\n            \"thresholdLabels\": false,\n           \
      \ \"thresholdMarkers\": true\n          },\n          \"hideTimeOverride\":\
      \ false,\n          \"id\": 2,\n          \"links\": [],\n          \"mappingType\"\
      : 1,\n          \"mappingTypes\": [\n            {\n              \"name\":\
      \ \"value to text\",\n              \"value\": 1\n            },\n         \
      \   {\n              \"name\": \"range to text\",\n              \"value\":\
      \ 2\n            }\n          ],\n          \"maxDataPoints\": 100,\n      \
      \    \"nullPointMode\": \"connected\",\n          \"postfix\": \"\",\n     \
      \     \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n         \
      \ \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n            {\n\
      \              \"from\": \"null\",\n              \"text\": \"N/A\",\n     \
      \         \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"sum(ALERTS{alertstate=\\\
      \"firing\\\",alertname!=\\\"DeadMansSwitch\\\"})\",\n              \"format\"\
      : \"time_series\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"\",\n              \"refId\": \"A\",\n              \"step\": 600\n    \
      \        }\n          ],\n          \"thresholds\": \"1, 3\",\n          \"\
      title\": \"Alerts Firing\",\n          \"transparent\": false,\n          \"\
      type\": \"singlestat\",\n          \"valueFontSize\": \"80%\",\n          \"\
      valueMaps\": [\n            {\n              \"op\": \"=\",\n              \"\
      text\": \"0\",\n              \"value\": \"null\"\n            }\n         \
      \ ],\n          \"valueName\": \"current\"\n        },\n        {\n        \
      \  \"colorBackground\": false,\n          \"colorValue\": true,\n          \"\
      colors\": [\n            \"rgba(50, 172, 45, 0.97)\",\n            \"rgba(237,\
      \ 129, 40, 0.89)\",\n            \"rgba(245, 54, 54, 0.9)\"\n          ],\n\
      \          \"datasource\": \"prometheus\",\n          \"editable\": false,\n\
      \          \"format\": \"none\",\n          \"gauge\": {\n            \"maxValue\"\
      : 100,\n            \"minValue\": 0,\n            \"show\": false,\n       \
      \     \"thresholdLabels\": false,\n            \"thresholdMarkers\": true\n\
      \          },\n          \"hideTimeOverride\": false,\n          \"id\": 3,\n\
      \          \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfix\": \"\",\n          \"postfixFontSize\": \"50%\",\n \
      \         \"prefix\": \"\",\n          \"prefixFontSize\": \"50%\",\n      \
      \    \"rangeMaps\": [\n            {\n              \"from\": \"null\",\n  \
      \            \"text\": \"N/A\",\n              \"to\": \"null\"\n          \
      \  }\n          ],\n          \"span\": 3,\n          \"sparkline\": {\n   \
      \         \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n            \"full\"\
      : false,\n            \"lineColor\": \"rgb(31, 120, 193)\",\n            \"\
      show\": false\n          },\n          \"targets\": [\n            {\n     \
      \         \"expr\": \"sum(ALERTS{alertstate=\\\"pending\\\",alertname!=\\\"\
      DeadMansSwitch\\\"})\",\n              \"format\": \"time_series\",\n      \
      \        \"intervalFactor\": 2,\n              \"legendFormat\": \"\",\n   \
      \           \"refId\": \"A\",\n              \"step\": 600\n            }\n\
      \          ],\n          \"thresholds\": \"3, 5\",\n          \"title\": \"\
      Alerts Pending\",\n          \"transparent\": false,\n          \"type\": \"\
      singlestat\",\n          \"valueFontSize\": \"80%\",\n          \"valueMaps\"\
      : [\n            {\n              \"op\": \"=\",\n              \"text\": \"\
      0\",\n              \"value\": \"null\"\n            }\n          ],\n     \
      \     \"valueName\": \"current\"\n        },\n        {\n          \"colorBackground\"\
      : false,\n          \"colorValue\": true,\n          \"colors\": [\n       \
      \     \"rgba(50, 172, 45, 0.97)\",\n            \"rgba(237, 129, 40, 0.89)\"\
      ,\n            \"rgba(245, 54, 54, 0.9)\"\n          ],\n          \"datasource\"\
      : \"prometheus\",\n          \"editable\": false,\n          \"format\": \"\
      none\",\n          \"gauge\": {\n            \"maxValue\": 100,\n          \
      \  \"minValue\": 0,\n            \"show\": false,\n            \"thresholdLabels\"\
      : false,\n            \"thresholdMarkers\": true\n          },\n          \"\
      hideTimeOverride\": false,\n          \"id\": 4,\n          \"links\": [],\n\
      \          \"mappingType\": 1,\n          \"mappingTypes\": [\n            {\n\
      \              \"name\": \"value to text\",\n              \"value\": 1\n  \
      \          },\n            {\n              \"name\": \"range to text\",\n \
      \             \"value\": 2\n            }\n          ],\n          \"maxDataPoints\"\
      : 100,\n          \"nullPointMode\": \"connected\",\n          \"postfix\":\
      \ \"\",\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\"\
      ,\n          \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n    \
      \        {\n              \"from\": \"null\",\n              \"text\": \"N/A\"\
      ,\n              \"to\": \"null\"\n            }\n          ],\n          \"\
      span\": 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31,\
      \ 118, 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\"\
      : \"rgb(31, 120, 193)\",\n            \"show\": false\n          },\n      \
      \    \"targets\": [\n            {\n              \"expr\": \"count(increase(kube_pod_container_status_restarts[1h])\
      \ > 5)\",\n              \"format\": \"time_series\",\n              \"intervalFactor\"\
      : 2,\n              \"legendFormat\": \"\",\n              \"refId\": \"A\"\
      ,\n              \"step\": 600\n            }\n          ],\n          \"thresholds\"\
      : \"1, 3\",\n          \"title\": \"Crashlooping Pods\",\n          \"transparent\"\
      : false,\n          \"type\": \"singlestat\",\n          \"valueFontSize\":\
      \ \"80%\",\n          \"valueMaps\": [\n            {\n              \"op\"\
      : \"=\",\n              \"text\": \"0\",\n              \"value\": \"null\"\n\
      \            }\n          ],\n          \"valueName\": \"current\"\n       \
      \ }\n      ],\n      \"showTitle\": false,\n      \"title\": \"Row\",\n    \
      \  \"titleSize\": \"h6\"\n    },\n    {\n      \"collapse\": false,\n      \"\
      editable\": false,\n      \"height\": \"250px\",\n      \"panels\": [\n    \
      \    {\n          \"colorBackground\": false,\n          \"colorValue\": true,\n\
      \          \"colors\": [\n            \"rgba(50, 172, 45, 0.97)\",\n       \
      \     \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(245, 54, 54, 0.9)\"\n\
      \          ],\n          \"datasource\": \"prometheus\",\n          \"editable\"\
      : false,\n          \"format\": \"none\",\n          \"gauge\": {\n        \
      \    \"maxValue\": 100,\n            \"minValue\": 0,\n            \"show\"\
      : false,\n            \"thresholdLabels\": false,\n            \"thresholdMarkers\"\
      : true\n          },\n          \"hideTimeOverride\": false,\n          \"id\"\
      : 5,\n          \"links\": [],\n          \"mappingType\": 1,\n          \"\
      mappingTypes\": [\n            {\n              \"name\": \"value to text\"\
      ,\n              \"value\": 1\n            },\n            {\n             \
      \ \"name\": \"range to text\",\n              \"value\": 2\n            }\n\
      \          ],\n          \"maxDataPoints\": 100,\n          \"nullPointMode\"\
      : \"connected\",\n          \"postfix\": \"\",\n          \"postfixFontSize\"\
      : \"50%\",\n          \"prefix\": \"\",\n          \"prefixFontSize\": \"50%\"\
      ,\n          \"rangeMaps\": [\n            {\n              \"from\": \"null\"\
      ,\n              \"text\": \"N/A\",\n              \"to\": \"null\"\n      \
      \      }\n          ],\n          \"span\": 3,\n          \"sparkline\": {\n\
      \            \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n            \"full\"\
      : false,\n            \"lineColor\": \"rgb(31, 120, 193)\",\n            \"\
      show\": false\n          },\n          \"targets\": [\n            {\n     \
      \         \"expr\": \"sum(kube_node_status_condition{condition=\\\"Ready\\\"\
      ,status!=\\\"true\\\"})\",\n              \"format\": \"time_series\",\n   \
      \           \"intervalFactor\": 2,\n              \"legendFormat\": \"\",\n\
      \              \"refId\": \"A\",\n              \"step\": 600\n            }\n\
      \          ],\n          \"thresholds\": \"1, 3\",\n          \"title\": \"\
      Node Not Ready\",\n          \"transparent\": false,\n          \"type\": \"\
      singlestat\",\n          \"valueFontSize\": \"80%\",\n          \"valueMaps\"\
      : [\n            {\n              \"op\": \"=\",\n              \"text\": \"\
      N/A\",\n              \"value\": \"null\"\n            }\n          ],\n   \
      \       \"valueName\": \"current\"\n        },\n        {\n          \"colorBackground\"\
      : false,\n          \"colorValue\": true,\n          \"colors\": [\n       \
      \     \"rgba(50, 172, 45, 0.97)\",\n            \"rgba(237, 129, 40, 0.89)\"\
      ,\n            \"rgba(245, 54, 54, 0.9)\"\n          ],\n          \"datasource\"\
      : \"prometheus\",\n          \"editable\": false,\n          \"format\": \"\
      none\",\n          \"gauge\": {\n            \"maxValue\": 100,\n          \
      \  \"minValue\": 0,\n            \"show\": false,\n            \"thresholdLabels\"\
      : false,\n            \"thresholdMarkers\": true\n          },\n          \"\
      hideTimeOverride\": false,\n          \"id\": 6,\n          \"links\": [],\n\
      \          \"mappingType\": 1,\n          \"mappingTypes\": [\n            {\n\
      \              \"name\": \"value to text\",\n              \"value\": 1\n  \
      \          },\n            {\n              \"name\": \"range to text\",\n \
      \             \"value\": 2\n            }\n          ],\n          \"maxDataPoints\"\
      : 100,\n          \"nullPointMode\": \"connected\",\n          \"postfix\":\
      \ \"\",\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\"\
      ,\n          \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n    \
      \        {\n              \"from\": \"null\",\n              \"text\": \"N/A\"\
      ,\n              \"to\": \"null\"\n            }\n          ],\n          \"\
      span\": 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31,\
      \ 118, 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\"\
      : \"rgb(31, 120, 193)\",\n            \"show\": false\n          },\n      \
      \    \"targets\": [\n            {\n              \"expr\": \"sum(kube_node_status_condition{condition=\\\
      \"DiskPressure\\\",status=\\\"true\\\"})\",\n              \"format\": \"time_series\"\
      ,\n              \"intervalFactor\": 2,\n              \"legendFormat\": \"\"\
      ,\n              \"refId\": \"A\",\n              \"step\": 600\n          \
      \  }\n          ],\n          \"thresholds\": \"1, 3\",\n          \"title\"\
      : \"Node Disk Pressure\",\n          \"transparent\": false,\n          \"type\"\
      : \"singlestat\",\n          \"valueFontSize\": \"80%\",\n          \"valueMaps\"\
      : [\n            {\n              \"op\": \"=\",\n              \"text\": \"\
      N/A\",\n              \"value\": \"null\"\n            }\n          ],\n   \
      \       \"valueName\": \"current\"\n        },\n        {\n          \"colorBackground\"\
      : false,\n          \"colorValue\": true,\n          \"colors\": [\n       \
      \     \"rgba(50, 172, 45, 0.97)\",\n            \"rgba(237, 129, 40, 0.89)\"\
      ,\n            \"rgba(245, 54, 54, 0.9)\"\n          ],\n          \"datasource\"\
      : \"prometheus\",\n          \"editable\": false,\n          \"format\": \"\
      none\",\n          \"gauge\": {\n            \"maxValue\": 100,\n          \
      \  \"minValue\": 0,\n            \"show\": false,\n            \"thresholdLabels\"\
      : false,\n            \"thresholdMarkers\": true\n          },\n          \"\
      hideTimeOverride\": false,\n          \"id\": 7,\n          \"links\": [],\n\
      \          \"mappingType\": 1,\n          \"mappingTypes\": [\n            {\n\
      \              \"name\": \"value to text\",\n              \"value\": 1\n  \
      \          },\n            {\n              \"name\": \"range to text\",\n \
      \             \"value\": 2\n            }\n          ],\n          \"maxDataPoints\"\
      : 100,\n          \"nullPointMode\": \"connected\",\n          \"postfix\":\
      \ \"\",\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\"\
      ,\n          \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n    \
      \        {\n              \"from\": \"null\",\n              \"text\": \"N/A\"\
      ,\n              \"to\": \"null\"\n            }\n          ],\n          \"\
      span\": 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31,\
      \ 118, 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\"\
      : \"rgb(31, 120, 193)\",\n            \"show\": false\n          },\n      \
      \    \"targets\": [\n            {\n              \"expr\": \"sum(kube_node_status_condition{condition=\\\
      \"MemoryPressure\\\",status=\\\"true\\\"})\",\n              \"format\": \"\
      time_series\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"\",\n              \"refId\": \"A\",\n              \"step\": 600\n    \
      \        }\n          ],\n          \"thresholds\": \"1, 3\",\n          \"\
      title\": \"Node Memory Pressure\",\n          \"transparent\": false,\n    \
      \      \"type\": \"singlestat\",\n          \"valueFontSize\": \"80%\",\n  \
      \        \"valueMaps\": [\n            {\n              \"op\": \"=\",\n   \
      \           \"text\": \"N/A\",\n              \"value\": \"null\"\n        \
      \    }\n          ],\n          \"valueName\": \"current\"\n        },\n   \
      \     {\n          \"colorBackground\": false,\n          \"colorValue\": true,\n\
      \          \"colors\": [\n            \"rgba(50, 172, 45, 0.97)\",\n       \
      \     \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(245, 54, 54, 0.9)\"\n\
      \          ],\n          \"datasource\": \"prometheus\",\n          \"editable\"\
      : false,\n          \"format\": \"none\",\n          \"gauge\": {\n        \
      \    \"maxValue\": 100,\n            \"minValue\": 0,\n            \"show\"\
      : false,\n            \"thresholdLabels\": false,\n            \"thresholdMarkers\"\
      : true\n          },\n          \"hideTimeOverride\": false,\n          \"id\"\
      : 8,\n          \"links\": [],\n          \"mappingType\": 1,\n          \"\
      mappingTypes\": [\n            {\n              \"name\": \"value to text\"\
      ,\n              \"value\": 1\n            },\n            {\n             \
      \ \"name\": \"range to text\",\n              \"value\": 2\n            }\n\
      \          ],\n          \"maxDataPoints\": 100,\n          \"nullPointMode\"\
      : \"connected\",\n          \"postfix\": \"\",\n          \"postfixFontSize\"\
      : \"50%\",\n          \"prefix\": \"\",\n          \"prefixFontSize\": \"50%\"\
      ,\n          \"rangeMaps\": [\n            {\n              \"from\": \"null\"\
      ,\n              \"text\": \"N/A\",\n              \"to\": \"null\"\n      \
      \      }\n          ],\n          \"span\": 3,\n          \"sparkline\": {\n\
      \            \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n            \"full\"\
      : false,\n            \"lineColor\": \"rgb(31, 120, 193)\",\n            \"\
      show\": false\n          },\n          \"targets\": [\n            {\n     \
      \         \"expr\": \"sum(kube_node_spec_unschedulable)\",\n              \"\
      format\": \"time_series\",\n              \"intervalFactor\": 2,\n         \
      \     \"legendFormat\": \"\",\n              \"refId\": \"A\",\n           \
      \   \"step\": 600\n            }\n          ],\n          \"thresholds\": \"\
      1, 3\",\n          \"title\": \"Nodes Unschedulable\",\n          \"transparent\"\
      : false,\n          \"type\": \"singlestat\",\n          \"valueFontSize\":\
      \ \"80%\",\n          \"valueMaps\": [\n            {\n              \"op\"\
      : \"=\",\n              \"text\": \"N/A\",\n              \"value\": \"null\"\
      \n            }\n          ],\n          \"valueName\": \"current\"\n      \
      \  }\n      ],\n      \"showTitle\": false,\n      \"title\": \"Row\",\n   \
      \   \"titleSize\": \"h6\"\n    }\n  ],\n  \"schemaVersion\": 14,\n  \"sharedCrosshair\"\
      : false,\n  \"style\": \"dark\",\n  \"tags\": [],\n  \"templating\": {\n   \
      \ \"list\": []\n  },\n  \"time\": {\n    \"from\": \"now-6h\",\n    \"to\":\
      \ \"now\"\n  },\n  \"timepicker\": {\n    \"refresh_intervals\": [\n      \"\
      5s\",\n      \"10s\",\n      \"30s\",\n      \"1m\",\n      \"5m\",\n      \"\
      15m\",\n      \"30m\",\n      \"1h\",\n      \"2h\",\n      \"1d\"\n    ],\n\
      \    \"time_options\": [\n      \"5m\",\n      \"15m\",\n      \"1h\",\n   \
      \   \"6h\",\n      \"12h\",\n      \"24h\",\n      \"2d\",\n      \"7d\",\n\
      \      \"30d\"\n    ]\n  },\n  \"timezone\": \"browser\",\n  \"title\": \"Kubernetes\
      \ Cluster Health\",\n  \"version\": 9\n}\n"
  kind: ConfigMap
  metadata:
    labels:
      grafana_dashboard: '1'
    name: grafana-dashboard-definition-kubernetes-cluster-health
    namespace: knative-monitoring
- apiVersion: v1
  data:
    kubernetes-cluster-status-dashboard.json: "{\n  \"__inputs\": [\n    {\n     \
      \ \"description\": \"\",\n      \"label\": \"prometheus\",\n      \"name\":\
      \ \"prometheus\",\n      \"pluginId\": \"prometheus\",\n      \"pluginName\"\
      : \"Prometheus\",\n      \"type\": \"datasource\"\n    }\n  ],\n  \"annotations\"\
      : {\n    \"list\": []\n  },\n  \"editable\": false,\n  \"graphTooltip\": 0,\n\
      \  \"hideControls\": false,\n  \"links\": [],\n  \"rows\": [\n    {\n      \"\
      collapse\": false,\n      \"editable\": false,\n      \"height\": \"129px\"\
      ,\n      \"panels\": [\n        {\n          \"colorBackground\": false,\n \
      \         \"colorValue\": true,\n          \"colors\": [\n            \"rgba(50,\
      \ 172, 45, 0.97)\",\n            \"rgba(237, 129, 40, 0.89)\",\n           \
      \ \"rgba(245, 54, 54, 0.9)\"\n          ],\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"format\": \"none\",\n       \
      \   \"gauge\": {\n            \"maxValue\": 100,\n            \"minValue\":\
      \ 0,\n            \"show\": false,\n            \"thresholdLabels\": false,\n\
      \            \"thresholdMarkers\": true\n          },\n          \"id\": 5,\n\
      \          \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n  \
      \        \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n        \
      \    {\n              \"from\": \"null\",\n              \"text\": \"N/A\",\n\
      \              \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 6,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"sum(up{job=~\\\"apiserver|kube-scheduler|kube-controller-manager\\\
      \"} == 0)\",\n              \"format\": \"time_series\",\n              \"intervalFactor\"\
      : 2,\n              \"refId\": \"A\",\n              \"step\": 600\n       \
      \     }\n          ],\n          \"thresholds\": \"1, 3\",\n          \"title\"\
      : \"Control Plane UP\",\n          \"type\": \"singlestat\",\n          \"valueFontSize\"\
      : \"80%\",\n          \"valueMaps\": [\n            {\n              \"op\"\
      : \"=\",\n              \"text\": \"UP\",\n              \"value\": \"null\"\
      \n            }\n          ],\n          \"valueName\": \"total\"\n        },\n\
      \        {\n          \"colorBackground\": false,\n          \"colorValue\"\
      : true,\n          \"colors\": [\n            \"rgba(50, 172, 45, 0.97)\",\n\
      \            \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(245, 54, 54,\
      \ 0.9)\"\n          ],\n          \"datasource\": \"prometheus\",\n        \
      \  \"editable\": false,\n          \"format\": \"none\",\n          \"gauge\"\
      : {\n            \"maxValue\": 100,\n            \"minValue\": 0,\n        \
      \    \"show\": false,\n            \"thresholdLabels\": false,\n           \
      \ \"thresholdMarkers\": true\n          },\n          \"id\": 6,\n         \
      \ \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n  \
      \        \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n        \
      \    {\n              \"from\": \"null\",\n              \"text\": \"N/A\",\n\
      \              \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 6,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"sum(ALERTS{alertstate=\\\
      \"firing\\\",alertname!=\\\"DeadMansSwitch\\\"})\",\n              \"format\"\
      : \"time_series\",\n              \"intervalFactor\": 2,\n              \"refId\"\
      : \"A\",\n              \"step\": 600\n            }\n          ],\n       \
      \   \"thresholds\": \"3, 5\",\n          \"title\": \"Alerts Firing\",\n   \
      \       \"type\": \"singlestat\",\n          \"valueFontSize\": \"80%\",\n \
      \         \"valueMaps\": [\n            {\n              \"op\": \"=\",\n  \
      \            \"text\": \"0\",\n              \"value\": \"null\"\n         \
      \   }\n          ],\n          \"valueName\": \"current\"\n        }\n     \
      \ ],\n      \"showTitle\": true,\n      \"title\": \"Cluster Health\",\n   \
      \   \"titleSize\": \"h6\"\n    },\n    {\n      \"collapse\": false,\n     \
      \ \"editable\": false,\n      \"height\": \"168px\",\n      \"panels\": [\n\
      \        {\n          \"colorBackground\": false,\n          \"colorValue\"\
      : false,\n          \"colors\": [\n            \"rgba(245, 54, 54, 0.9)\",\n\
      \            \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(50, 172, 45,\
      \ 0.97)\"\n          ],\n          \"datasource\": \"prometheus\",\n       \
      \   \"editable\": false,\n          \"format\": \"percent\",\n          \"gauge\"\
      : {\n            \"maxValue\": 100,\n            \"minValue\": 0,\n        \
      \    \"show\": true,\n            \"thresholdLabels\": false,\n            \"\
      thresholdMarkers\": true\n          },\n          \"id\": 1,\n          \"links\"\
      : [],\n          \"mappingType\": 1,\n          \"mappingTypes\": [\n      \
      \      {\n              \"name\": \"value to text\",\n              \"value\"\
      : 1\n            },\n            {\n              \"name\": \"range to text\"\
      ,\n              \"value\": 2\n            }\n          ],\n          \"maxDataPoints\"\
      : 100,\n          \"nullPointMode\": \"connected\",\n          \"postfixFontSize\"\
      : \"50%\",\n          \"prefix\": \"\",\n          \"prefixFontSize\": \"50%\"\
      ,\n          \"rangeMaps\": [\n            {\n              \"from\": \"null\"\
      ,\n              \"text\": \"N/A\",\n              \"to\": \"null\"\n      \
      \      }\n          ],\n          \"span\": 3,\n          \"sparkline\": {\n\
      \            \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n            \"full\"\
      : false,\n            \"lineColor\": \"rgb(31, 120, 193)\",\n            \"\
      show\": false\n          },\n          \"targets\": [\n            {\n     \
      \         \"expr\": \"(sum(up{job=\\\"apiserver\\\"} == 1) / count(up{job=\\\
      \"apiserver\\\"})) * 100\",\n              \"format\": \"time_series\",\n  \
      \            \"intervalFactor\": 2,\n              \"refId\": \"A\",\n     \
      \         \"step\": 600\n            }\n          ],\n          \"thresholds\"\
      : \"50, 80\",\n          \"title\": \"API Servers UP\",\n          \"type\"\
      : \"singlestat\",\n          \"valueFontSize\": \"80%\",\n          \"valueMaps\"\
      : [\n            {\n              \"op\": \"=\",\n              \"text\": \"\
      N/A\",\n              \"value\": \"null\"\n            }\n          ],\n   \
      \       \"valueName\": \"current\"\n        },\n        {\n          \"colorBackground\"\
      : false,\n          \"colorValue\": false,\n          \"colors\": [\n      \
      \      \"rgba(245, 54, 54, 0.9)\",\n            \"rgba(237, 129, 40, 0.89)\"\
      ,\n            \"rgba(50, 172, 45, 0.97)\"\n          ],\n          \"datasource\"\
      : \"prometheus\",\n          \"editable\": false,\n          \"format\": \"\
      percent\",\n          \"gauge\": {\n            \"maxValue\": 100,\n       \
      \     \"minValue\": 0,\n            \"show\": true,\n            \"thresholdLabels\"\
      : false,\n            \"thresholdMarkers\": true\n          },\n          \"\
      id\": 2,\n          \"links\": [],\n          \"mappingType\": 1,\n        \
      \  \"mappingTypes\": [\n            {\n              \"name\": \"value to text\"\
      ,\n              \"value\": 1\n            },\n            {\n             \
      \ \"name\": \"range to text\",\n              \"value\": 2\n            }\n\
      \          ],\n          \"maxDataPoints\": 100,\n          \"nullPointMode\"\
      : \"connected\",\n          \"postfixFontSize\": \"50%\",\n          \"prefix\"\
      : \"\",\n          \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n\
      \            {\n              \"from\": \"null\",\n              \"text\": \"\
      N/A\",\n              \"to\": \"null\"\n            }\n          ],\n      \
      \    \"span\": 3,\n          \"sparkline\": {\n            \"fillColor\": \"\
      rgba(31, 118, 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\"\
      : \"rgb(31, 120, 193)\",\n            \"show\": false\n          },\n      \
      \    \"targets\": [\n            {\n              \"expr\": \"(sum(up{job=\\\
      \"kube-controller-manager\\\"} == 1) / count(up{job=\\\"kube-controller-manager\\\
      \"})) * 100\",\n              \"format\": \"time_series\",\n              \"\
      intervalFactor\": 2,\n              \"refId\": \"A\",\n              \"step\"\
      : 600\n            }\n          ],\n          \"thresholds\": \"50, 80\",\n\
      \          \"title\": \"Controller Managers UP\",\n          \"type\": \"singlestat\"\
      ,\n          \"valueFontSize\": \"80%\",\n          \"valueMaps\": [\n     \
      \       {\n              \"op\": \"=\",\n              \"text\": \"N/A\",\n\
      \              \"value\": \"null\"\n            }\n          ],\n          \"\
      valueName\": \"current\"\n        },\n        {\n          \"colorBackground\"\
      : false,\n          \"colorValue\": false,\n          \"colors\": [\n      \
      \      \"rgba(245, 54, 54, 0.9)\",\n            \"rgba(237, 129, 40, 0.89)\"\
      ,\n            \"rgba(50, 172, 45, 0.97)\"\n          ],\n          \"datasource\"\
      : \"prometheus\",\n          \"editable\": false,\n          \"format\": \"\
      percent\",\n          \"gauge\": {\n            \"maxValue\": 100,\n       \
      \     \"minValue\": 0,\n            \"show\": true,\n            \"thresholdLabels\"\
      : false,\n            \"thresholdMarkers\": true\n          },\n          \"\
      id\": 3,\n          \"links\": [],\n          \"mappingType\": 1,\n        \
      \  \"mappingTypes\": [\n            {\n              \"name\": \"value to text\"\
      ,\n              \"value\": 1\n            },\n            {\n             \
      \ \"name\": \"range to text\",\n              \"value\": 2\n            }\n\
      \          ],\n          \"maxDataPoints\": 100,\n          \"nullPointMode\"\
      : \"connected\",\n          \"postfixFontSize\": \"50%\",\n          \"prefix\"\
      : \"\",\n          \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n\
      \            {\n              \"from\": \"null\",\n              \"text\": \"\
      N/A\",\n              \"to\": \"null\"\n            }\n          ],\n      \
      \    \"span\": 3,\n          \"sparkline\": {\n            \"fillColor\": \"\
      rgba(31, 118, 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\"\
      : \"rgb(31, 120, 193)\",\n            \"show\": false\n          },\n      \
      \    \"targets\": [\n            {\n              \"expr\": \"(sum(up{job=\\\
      \"kube-scheduler\\\"} == 1) / count(up{job=\\\"kube-scheduler\\\"})) * 100\"\
      ,\n              \"format\": \"time_series\",\n              \"intervalFactor\"\
      : 2,\n              \"refId\": \"A\",\n              \"step\": 600\n       \
      \     }\n          ],\n          \"thresholds\": \"50, 80\",\n          \"title\"\
      : \"Schedulers UP\",\n          \"type\": \"singlestat\",\n          \"valueFontSize\"\
      : \"80%\",\n          \"valueMaps\": [\n            {\n              \"op\"\
      : \"=\",\n              \"text\": \"N/A\",\n              \"value\": \"null\"\
      \n            }\n          ],\n          \"valueName\": \"current\"\n      \
      \  },\n        {\n          \"colorBackground\": false,\n          \"colorValue\"\
      : true,\n          \"colors\": [\n            \"rgba(50, 172, 45, 0.97)\",\n\
      \            \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(245, 54, 54,\
      \ 0.9)\"\n          ],\n          \"datasource\": \"prometheus\",\n        \
      \  \"editable\": false,\n          \"format\": \"none\",\n          \"gauge\"\
      : {\n            \"maxValue\": 100,\n            \"minValue\": 0,\n        \
      \    \"show\": false,\n            \"thresholdLabels\": false,\n           \
      \ \"thresholdMarkers\": true\n          },\n          \"id\": 4,\n         \
      \ \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n  \
      \        \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n        \
      \    {\n              \"from\": \"null\",\n              \"text\": \"N/A\",\n\
      \              \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"count(increase(kube_pod_container_status_restarts{namespace=~\\\
      \"kube-system|tectonic-system\\\"}[1h]) > 5)\",\n              \"format\": \"\
      time_series\",\n              \"intervalFactor\": 2,\n              \"refId\"\
      : \"A\",\n              \"step\": 600\n            }\n          ],\n       \
      \   \"thresholds\": \"1, 3\",\n          \"title\": \"Crashlooping Control Plane\
      \ Pods\",\n          \"type\": \"singlestat\",\n          \"valueFontSize\"\
      : \"80%\",\n          \"valueMaps\": [\n            {\n              \"op\"\
      : \"=\",\n              \"text\": \"0\",\n              \"value\": \"null\"\n\
      \            }\n          ],\n          \"valueName\": \"current\"\n       \
      \ }\n      ],\n      \"showTitle\": true,\n      \"title\": \"Control Plane\
      \ Status\",\n      \"titleSize\": \"h6\"\n    },\n    {\n      \"collapse\"\
      : false,\n      \"editable\": false,\n      \"height\": \"158px\",\n      \"\
      panels\": [\n        {\n          \"colorBackground\": false,\n          \"\
      colorValue\": false,\n          \"colors\": [\n            \"rgba(50, 172, 45,\
      \ 0.97)\",\n            \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(245,\
      \ 54, 54, 0.9)\"\n          ],\n          \"datasource\": \"prometheus\",\n\
      \          \"editable\": false,\n          \"format\": \"percent\",\n      \
      \    \"gauge\": {\n            \"maxValue\": 100,\n            \"minValue\"\
      : 0,\n            \"show\": true,\n            \"thresholdLabels\": false,\n\
      \            \"thresholdMarkers\": true\n          },\n          \"id\": 8,\n\
      \          \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n  \
      \        \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n        \
      \    {\n              \"from\": \"null\",\n              \"text\": \"N/A\",\n\
      \              \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"sum(100 - (avg by (instance)\
      \ (rate(node_cpu{job=\\\"node-exporter\\\",mode=\\\"idle\\\"}[5m])) * 100))\
      \ / count(node_cpu{job=\\\"node-exporter\\\",mode=\\\"idle\\\"})\",\n      \
      \        \"format\": \"time_series\",\n              \"intervalFactor\": 2,\n\
      \              \"refId\": \"A\",\n              \"step\": 600\n            }\n\
      \          ],\n          \"thresholds\": \"80, 90\",\n          \"title\": \"\
      CPU Utilization\",\n          \"type\": \"singlestat\",\n          \"valueFontSize\"\
      : \"80%\",\n          \"valueMaps\": [\n            {\n              \"op\"\
      : \"=\",\n              \"text\": \"N/A\",\n              \"value\": \"null\"\
      \n            }\n          ],\n          \"valueName\": \"avg\"\n        },\n\
      \        {\n          \"colorBackground\": false,\n          \"colorValue\"\
      : false,\n          \"colors\": [\n            \"rgba(50, 172, 45, 0.97)\",\n\
      \            \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(245, 54, 54,\
      \ 0.9)\"\n          ],\n          \"datasource\": \"prometheus\",\n        \
      \  \"editable\": false,\n          \"format\": \"percent\",\n          \"gauge\"\
      : {\n            \"maxValue\": 100,\n            \"minValue\": 0,\n        \
      \    \"show\": true,\n            \"thresholdLabels\": false,\n            \"\
      thresholdMarkers\": true\n          },\n          \"id\": 7,\n          \"links\"\
      : [],\n          \"mappingType\": 1,\n          \"mappingTypes\": [\n      \
      \      {\n              \"name\": \"value to text\",\n              \"value\"\
      : 1\n            },\n            {\n              \"name\": \"range to text\"\
      ,\n              \"value\": 2\n            }\n          ],\n          \"maxDataPoints\"\
      : 100,\n          \"nullPointMode\": \"connected\",\n          \"postfixFontSize\"\
      : \"50%\",\n          \"prefix\": \"\",\n          \"prefixFontSize\": \"50%\"\
      ,\n          \"rangeMaps\": [\n            {\n              \"from\": \"null\"\
      ,\n              \"text\": \"N/A\",\n              \"to\": \"null\"\n      \
      \      }\n          ],\n          \"span\": 3,\n          \"sparkline\": {\n\
      \            \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n            \"full\"\
      : false,\n            \"lineColor\": \"rgb(31, 120, 193)\",\n            \"\
      show\": false\n          },\n          \"targets\": [\n            {\n     \
      \         \"expr\": \"((sum(node_memory_MemTotal) - sum(node_memory_MemFree)\
      \ - sum(node_memory_Buffers) - sum(node_memory_Cached)) / sum(node_memory_MemTotal))\
      \ * 100\",\n              \"format\": \"time_series\",\n              \"intervalFactor\"\
      : 2,\n              \"refId\": \"A\",\n              \"step\": 600\n       \
      \     }\n          ],\n          \"thresholds\": \"80, 90\",\n          \"title\"\
      : \"Memory Utilization\",\n          \"type\": \"singlestat\",\n          \"\
      valueFontSize\": \"80%\",\n          \"valueMaps\": [\n            {\n     \
      \         \"op\": \"=\",\n              \"text\": \"N/A\",\n              \"\
      value\": \"null\"\n            }\n          ],\n          \"valueName\": \"\
      avg\"\n        },\n        {\n          \"colorBackground\": false,\n      \
      \    \"colorValue\": false,\n          \"colors\": [\n            \"rgba(50,\
      \ 172, 45, 0.97)\",\n            \"rgba(237, 129, 40, 0.89)\",\n           \
      \ \"rgba(245, 54, 54, 0.9)\"\n          ],\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"format\": \"percent\",\n    \
      \      \"gauge\": {\n            \"maxValue\": 100,\n            \"minValue\"\
      : 0,\n            \"show\": true,\n            \"thresholdLabels\": false,\n\
      \            \"thresholdMarkers\": true\n          },\n          \"id\": 9,\n\
      \          \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n  \
      \        \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n        \
      \    {\n              \"from\": \"null\",\n              \"text\": \"N/A\",\n\
      \              \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"(sum(node_filesystem_size{device!=\\\
      \"rootfs\\\"}) - sum(node_filesystem_free{device!=\\\"rootfs\\\"})) / sum(node_filesystem_size{device!=\\\
      \"rootfs\\\"})\",\n              \"format\": \"time_series\",\n            \
      \  \"intervalFactor\": 2,\n              \"refId\": \"A\",\n              \"\
      step\": 600\n            }\n          ],\n          \"thresholds\": \"80, 90\"\
      ,\n          \"title\": \"Filesystem Utilization\",\n          \"type\": \"\
      singlestat\",\n          \"valueFontSize\": \"80%\",\n          \"valueMaps\"\
      : [\n            {\n              \"op\": \"=\",\n              \"text\": \"\
      N/A\",\n              \"value\": \"null\"\n            }\n          ],\n   \
      \       \"valueName\": \"avg\"\n        },\n        {\n          \"colorBackground\"\
      : false,\n          \"colorValue\": false,\n          \"colors\": [\n      \
      \      \"rgba(50, 172, 45, 0.97)\",\n            \"rgba(237, 129, 40, 0.89)\"\
      ,\n            \"rgba(245, 54, 54, 0.9)\"\n          ],\n          \"datasource\"\
      : \"prometheus\",\n          \"editable\": false,\n          \"format\": \"\
      percent\",\n          \"gauge\": {\n            \"maxValue\": 100,\n       \
      \     \"minValue\": 0,\n            \"show\": true,\n            \"thresholdLabels\"\
      : false,\n            \"thresholdMarkers\": true\n          },\n          \"\
      id\": 10,\n          \"links\": [],\n          \"mappingType\": 1,\n       \
      \   \"mappingTypes\": [\n            {\n              \"name\": \"value to text\"\
      ,\n              \"value\": 1\n            },\n            {\n             \
      \ \"name\": \"range to text\",\n              \"value\": 2\n            }\n\
      \          ],\n          \"maxDataPoints\": 100,\n          \"nullPointMode\"\
      : \"connected\",\n          \"postfixFontSize\": \"50%\",\n          \"prefix\"\
      : \"\",\n          \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n\
      \            {\n              \"from\": \"null\",\n              \"text\": \"\
      N/A\",\n              \"to\": \"null\"\n            }\n          ],\n      \
      \    \"span\": 3,\n          \"sparkline\": {\n            \"fillColor\": \"\
      rgba(31, 118, 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\"\
      : \"rgb(31, 120, 193)\",\n            \"show\": false\n          },\n      \
      \    \"targets\": [\n            {\n              \"expr\": \"100 - (sum(kube_node_status_capacity_pods)\
      \ - sum(kube_pod_info)) / sum(kube_node_status_capacity_pods) * 100\",\n   \
      \           \"format\": \"time_series\",\n              \"intervalFactor\":\
      \ 2,\n              \"refId\": \"A\",\n              \"step\": 600\n       \
      \     }\n          ],\n          \"thresholds\": \"80, 90\",\n          \"title\"\
      : \"Pod Utilization\",\n          \"type\": \"singlestat\",\n          \"valueFontSize\"\
      : \"80%\",\n          \"valueMaps\": [\n            {\n              \"op\"\
      : \"=\",\n              \"text\": \"N/A\",\n              \"value\": \"null\"\
      \n            }\n          ],\n          \"valueName\": \"avg\"\n        }\n\
      \      ],\n      \"showTitle\": true,\n      \"title\": \"Capacity Planning\"\
      ,\n      \"titleSize\": \"h6\"\n    }\n  ],\n  \"schemaVersion\": 14,\n  \"\
      sharedCrosshair\": false,\n  \"style\": \"dark\",\n  \"tags\": [],\n  \"templating\"\
      : {\n    \"list\": []\n  },\n  \"time\": {\n    \"from\": \"now-6h\",\n    \"\
      to\": \"now\"\n  },\n  \"timepicker\": {\n    \"refresh_intervals\": [\n   \
      \   \"5s\",\n      \"10s\",\n      \"30s\",\n      \"1m\",\n      \"5m\",\n\
      \      \"15m\",\n      \"30m\",\n      \"1h\",\n      \"2h\",\n      \"1d\"\n\
      \    ],\n    \"time_options\": [\n      \"5m\",\n      \"15m\",\n      \"1h\"\
      ,\n      \"6h\",\n      \"12h\",\n      \"24h\",\n      \"2d\",\n      \"7d\"\
      ,\n      \"30d\"\n    ]\n  },\n  \"timezone\": \"browser\",\n  \"title\": \"\
      Kubernetes Cluster Status\",\n  \"version\": 3\n}\n"
  kind: ConfigMap
  metadata:
    labels:
      grafana_dashboard: '1'
    name: grafana-dashboard-definition-kubernetes-cluster-status
    namespace: knative-monitoring
- apiVersion: v1
  data:
    kubernetes-control-plane-status-dashboard.json: "{\n  \"__inputs\": [\n    {\n\
      \      \"description\": \"\",\n      \"label\": \"prometheus\",\n      \"name\"\
      : \"prometheus\",\n      \"pluginId\": \"prometheus\",\n      \"pluginName\"\
      : \"Prometheus\",\n      \"type\": \"datasource\"\n    }\n  ],\n  \"annotations\"\
      : {\n    \"list\": []\n  },\n  \"editable\": false,\n  \"graphTooltip\": 0,\n\
      \  \"hideControls\": false,\n  \"links\": [],\n  \"rows\": [\n    {\n      \"\
      collapse\": false,\n      \"editable\": false,\n      \"height\": \"250px\"\
      ,\n      \"panels\": [\n        {\n          \"colorBackground\": false,\n \
      \         \"colorValue\": false,\n          \"colors\": [\n            \"rgba(245,\
      \ 54, 54, 0.9)\",\n            \"rgba(237, 129, 40, 0.89)\",\n            \"\
      rgba(50, 172, 45, 0.97)\"\n          ],\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"format\": \"percent\",\n    \
      \      \"gauge\": {\n            \"maxValue\": 100,\n            \"minValue\"\
      : 0,\n            \"show\": true,\n            \"thresholdLabels\": false,\n\
      \            \"thresholdMarkers\": true\n          },\n          \"hideTimeOverride\"\
      : false,\n          \"id\": 1,\n          \"links\": [],\n          \"mappingType\"\
      : 1,\n          \"mappingTypes\": [\n            {\n              \"name\":\
      \ \"value to text\",\n              \"value\": 1\n            },\n         \
      \   {\n              \"name\": \"range to text\",\n              \"value\":\
      \ 2\n            }\n          ],\n          \"maxDataPoints\": 100,\n      \
      \    \"nullPointMode\": \"connected\",\n          \"postfix\": \"\",\n     \
      \     \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n         \
      \ \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n            {\n\
      \              \"from\": \"null\",\n              \"text\": \"N/A\",\n     \
      \         \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"(sum(up{job=\\\"apiserver\\\
      \"} == 1) / sum(up{job=\\\"apiserver\\\"})) * 100\",\n              \"format\"\
      : \"time_series\",\n              \"intervalFactor\": 2,\n              \"refId\"\
      : \"A\",\n              \"step\": 600\n            }\n          ],\n       \
      \   \"thresholds\": \"50, 80\",\n          \"title\": \"API Servers UP\",\n\
      \          \"transparent\": false,\n          \"type\": \"singlestat\",\n  \
      \        \"valueFontSize\": \"80%\",\n          \"valueMaps\": [\n         \
      \   {\n              \"op\": \"=\",\n              \"text\": \"N/A\",\n    \
      \          \"value\": \"null\"\n            }\n          ],\n          \"valueName\"\
      : \"avg\"\n        },\n        {\n          \"colorBackground\": false,\n  \
      \        \"colorValue\": false,\n          \"colors\": [\n            \"rgba(245,\
      \ 54, 54, 0.9)\",\n            \"rgba(237, 129, 40, 0.89)\",\n            \"\
      rgba(50, 172, 45, 0.97)\"\n          ],\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"format\": \"percent\",\n    \
      \      \"gauge\": {\n            \"maxValue\": 100,\n            \"minValue\"\
      : 0,\n            \"show\": true,\n            \"thresholdLabels\": false,\n\
      \            \"thresholdMarkers\": true\n          },\n          \"hideTimeOverride\"\
      : false,\n          \"id\": 2,\n          \"links\": [],\n          \"mappingType\"\
      : 1,\n          \"mappingTypes\": [\n            {\n              \"name\":\
      \ \"value to text\",\n              \"value\": 1\n            },\n         \
      \   {\n              \"name\": \"range to text\",\n              \"value\":\
      \ 2\n            }\n          ],\n          \"maxDataPoints\": 100,\n      \
      \    \"nullPointMode\": \"connected\",\n          \"postfix\": \"\",\n     \
      \     \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n         \
      \ \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n            {\n\
      \              \"from\": \"null\",\n              \"text\": \"N/A\",\n     \
      \         \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"(sum(up{job=\\\"kube-controller-manager\\\
      \"} == 1) / sum(up{job=\\\"kube-controller-manager\\\"})) * 100\",\n       \
      \       \"format\": \"time_series\",\n              \"intervalFactor\": 2,\n\
      \              \"refId\": \"A\",\n              \"step\": 600\n            }\n\
      \          ],\n          \"thresholds\": \"50, 80\",\n          \"title\": \"\
      Controller Managers UP\",\n          \"transparent\": false,\n          \"type\"\
      : \"singlestat\",\n          \"valueFontSize\": \"80%\",\n          \"valueMaps\"\
      : [\n            {\n              \"op\": \"=\",\n              \"text\": \"\
      N/A\",\n              \"value\": \"null\"\n            }\n          ],\n   \
      \       \"valueName\": \"avg\"\n        },\n        {\n          \"colorBackground\"\
      : false,\n          \"colorValue\": false,\n          \"colors\": [\n      \
      \      \"rgba(245, 54, 54, 0.9)\",\n            \"rgba(237, 129, 40, 0.89)\"\
      ,\n            \"rgba(50, 172, 45, 0.97)\"\n          ],\n          \"datasource\"\
      : \"prometheus\",\n          \"editable\": false,\n          \"format\": \"\
      percent\",\n          \"gauge\": {\n            \"maxValue\": 100,\n       \
      \     \"minValue\": 0,\n            \"show\": true,\n            \"thresholdLabels\"\
      : false,\n            \"thresholdMarkers\": true\n          },\n          \"\
      hideTimeOverride\": false,\n          \"id\": 3,\n          \"links\": [],\n\
      \          \"mappingType\": 1,\n          \"mappingTypes\": [\n            {\n\
      \              \"name\": \"value to text\",\n              \"value\": 1\n  \
      \          },\n            {\n              \"name\": \"range to text\",\n \
      \             \"value\": 2\n            }\n          ],\n          \"maxDataPoints\"\
      : 100,\n          \"nullPointMode\": \"connected\",\n          \"postfix\":\
      \ \"\",\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\"\
      ,\n          \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n    \
      \        {\n              \"from\": \"null\",\n              \"text\": \"N/A\"\
      ,\n              \"to\": \"null\"\n            }\n          ],\n          \"\
      span\": 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31,\
      \ 118, 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\"\
      : \"rgb(31, 120, 193)\",\n            \"show\": false\n          },\n      \
      \    \"targets\": [\n            {\n              \"expr\": \"(sum(up{job=\\\
      \"kube-scheduler\\\"} == 1) / sum(up{job=\\\"kube-scheduler\\\"})) * 100\",\n\
      \              \"format\": \"time_series\",\n              \"intervalFactor\"\
      : 2,\n              \"refId\": \"A\",\n              \"step\": 600\n       \
      \     }\n          ],\n          \"thresholds\": \"50, 80\",\n          \"title\"\
      : \"Schedulers UP\",\n          \"transparent\": false,\n          \"type\"\
      : \"singlestat\",\n          \"valueFontSize\": \"80%\",\n          \"valueMaps\"\
      : [\n            {\n              \"op\": \"=\",\n              \"text\": \"\
      N/A\",\n              \"value\": \"null\"\n            }\n          ],\n   \
      \       \"valueName\": \"avg\"\n        },\n        {\n          \"colorBackground\"\
      : false,\n          \"colorValue\": false,\n          \"colors\": [\n      \
      \      \"rgba(50, 172, 45, 0.97)\",\n            \"rgba(237, 129, 40, 0.89)\"\
      ,\n            \"rgba(245, 54, 54, 0.9)\"\n          ],\n          \"datasource\"\
      : \"prometheus\",\n          \"editable\": false,\n          \"format\": \"\
      percent\",\n          \"gauge\": {\n            \"maxValue\": 100,\n       \
      \     \"minValue\": 0,\n            \"show\": true,\n            \"thresholdLabels\"\
      : false,\n            \"thresholdMarkers\": true\n          },\n          \"\
      hideTimeOverride\": false,\n          \"id\": 4,\n          \"links\": [],\n\
      \          \"mappingType\": 1,\n          \"mappingTypes\": [\n            {\n\
      \              \"name\": \"value to text\",\n              \"value\": 1\n  \
      \          },\n            {\n              \"name\": \"range to text\",\n \
      \             \"value\": 2\n            }\n          ],\n          \"maxDataPoints\"\
      : 100,\n          \"nullPointMode\": \"connected\",\n          \"postfix\":\
      \ \"\",\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\"\
      ,\n          \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n    \
      \        {\n              \"from\": \"null\",\n              \"text\": \"N/A\"\
      ,\n              \"to\": \"null\"\n            }\n          ],\n          \"\
      span\": 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31,\
      \ 118, 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\"\
      : \"rgb(31, 120, 193)\",\n            \"show\": false\n          },\n      \
      \    \"targets\": [\n            {\n              \"expr\": \"max(sum by(instance)\
      \ (rate(apiserver_request_count{code=~\\\"5..\\\"}[5m])) / sum by(instance)\
      \ (rate(apiserver_request_count[5m]))) * 100\",\n              \"format\": \"\
      time_series\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"\",\n              \"refId\": \"A\",\n              \"step\": 600\n    \
      \        }\n          ],\n          \"thresholds\": \"5, 10\",\n          \"\
      title\": \"API Server Request Error Rate\",\n          \"transparent\": false,\n\
      \          \"type\": \"singlestat\",\n          \"valueFontSize\": \"80%\",\n\
      \          \"valueMaps\": [\n            {\n              \"op\": \"=\",\n \
      \             \"text\": \"0\",\n              \"value\": \"null\"\n        \
      \    }\n          ],\n          \"valueName\": \"avg\"\n        }\n      ],\n\
      \      \"showTitle\": false,\n      \"title\": \"Dashboard Row\",\n      \"\
      titleSize\": \"h6\"\n    },\n    {\n      \"collapse\": false,\n      \"editable\"\
      : false,\n      \"height\": \"250px\",\n      \"panels\": [\n        {\n   \
      \       \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\"\
      : 10,\n          \"dashes\": false,\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"error\": false,\n          \"\
      fill\": 1,\n          \"grid\": {\n            \"threshold1Color\": \"rgba(216,\
      \ 200, 27, 0.27)\",\n            \"threshold2Color\": \"rgba(234, 112, 112,\
      \ 0.22)\"\n          },\n          \"id\": 7,\n          \"isNew\": false,\n\
      \          \"legend\": {\n            \"alignAsTable\": false,\n           \
      \ \"avg\": false,\n            \"current\": false,\n            \"hideEmpty\"\
      : false,\n            \"hideZero\": false,\n            \"max\": false,\n  \
      \          \"min\": false,\n            \"rightSide\": false,\n            \"\
      show\": true,\n            \"total\": false\n          },\n          \"lines\"\
      : true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"\
      nullPointMode\": \"null\",\n          \"percentage\": false,\n          \"pointradius\"\
      : 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n    \
      \      \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"\
      span\": 12,\n          \"stack\": false,\n          \"steppedLine\": false,\n\
      \          \"targets\": [\n            {\n              \"expr\": \"sum by(verb)\
      \ (rate(apiserver_latency_seconds:quantile[5m]) >= 0)\",\n              \"format\"\
      : \"time_series\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"\",\n              \"refId\": \"A\",\n              \"step\": 30\n     \
      \       }\n          ],\n          \"title\": \"API Server Request Latency\"\
      ,\n          \"tooltip\": {\n            \"msResolution\": false,\n        \
      \    \"shared\": true,\n            \"sort\": 0,\n            \"value_type\"\
      : \"individual\"\n          },\n          \"type\": \"graph\",\n          \"\
      xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n \
      \           \"values\": []\n          },\n          \"yaxes\": [\n         \
      \   {\n              \"format\": \"short\",\n              \"logBase\": 1,\n\
      \              \"show\": true\n            },\n            {\n             \
      \ \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\"\
      : true\n            }\n          ]\n        }\n      ],\n      \"showTitle\"\
      : false,\n      \"title\": \"Dashboard Row\",\n      \"titleSize\": \"h6\"\n\
      \    },\n    {\n      \"collapse\": false,\n      \"editable\": false,\n   \
      \   \"height\": \"250px\",\n      \"panels\": [\n        {\n          \"aliasColors\"\
      : {},\n          \"bars\": false,\n          \"dashLength\": 10,\n         \
      \ \"dashes\": false,\n          \"datasource\": \"prometheus\",\n          \"\
      editable\": false,\n          \"error\": false,\n          \"fill\": 1,\n  \
      \        \"grid\": {\n            \"threshold1Color\": \"rgba(216, 200, 27,\
      \ 0.27)\",\n            \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n\
      \          },\n          \"id\": 5,\n          \"isNew\": false,\n         \
      \ \"legend\": {\n            \"alignAsTable\": false,\n            \"avg\":\
      \ false,\n            \"current\": false,\n            \"hideEmpty\": false,\n\
      \            \"hideZero\": false,\n            \"max\": false,\n           \
      \ \"min\": false,\n            \"rightSide\": false,\n            \"show\":\
      \ true,\n            \"total\": false\n          },\n          \"lines\": true,\n\
      \          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\"\
      : \"null\",\n          \"percentage\": false,\n          \"pointradius\": 5,\n\
      \          \"points\": false,\n          \"renderer\": \"flot\",\n         \
      \ \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"span\"\
      : 6,\n          \"stack\": false,\n          \"steppedLine\": false,\n     \
      \     \"targets\": [\n            {\n              \"expr\": \"cluster:scheduler_e2e_scheduling_latency_seconds:quantile\"\
      ,\n              \"format\": \"time_series\",\n              \"intervalFactor\"\
      : 2,\n              \"refId\": \"A\",\n              \"step\": 60\n        \
      \    }\n          ],\n          \"title\": \"End to End Scheduling Latency\"\
      ,\n          \"tooltip\": {\n            \"msResolution\": false,\n        \
      \    \"shared\": true,\n            \"sort\": 0,\n            \"value_type\"\
      : \"individual\"\n          },\n          \"type\": \"graph\",\n          \"\
      xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n \
      \           \"values\": []\n          },\n          \"yaxes\": [\n         \
      \   {\n              \"format\": \"short\",\n              \"logBase\": 1,\n\
      \              \"show\": true\n            },\n            {\n             \
      \ \"format\": \"dtdurations\",\n              \"logBase\": 1,\n            \
      \  \"show\": true\n            }\n          ]\n        },\n        {\n     \
      \     \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\"\
      : 10,\n          \"dashes\": false,\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"error\": false,\n          \"\
      fill\": 1,\n          \"grid\": {\n            \"threshold1Color\": \"rgba(216,\
      \ 200, 27, 0.27)\",\n            \"threshold2Color\": \"rgba(234, 112, 112,\
      \ 0.22)\"\n          },\n          \"id\": 6,\n          \"isNew\": false,\n\
      \          \"legend\": {\n            \"alignAsTable\": false,\n           \
      \ \"avg\": false,\n            \"current\": false,\n            \"hideEmpty\"\
      : false,\n            \"hideZero\": false,\n            \"max\": false,\n  \
      \          \"min\": false,\n            \"rightSide\": false,\n            \"\
      show\": true,\n            \"total\": false\n          },\n          \"lines\"\
      : true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"\
      nullPointMode\": \"null\",\n          \"percentage\": false,\n          \"pointradius\"\
      : 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n    \
      \      \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"\
      span\": 6,\n          \"stack\": false,\n          \"steppedLine\": false,\n\
      \          \"targets\": [\n            {\n              \"expr\": \"sum by(instance)\
      \ (rate(apiserver_request_count{code!~\\\"2..\\\"}[5m]))\",\n              \"\
      format\": \"time_series\",\n              \"intervalFactor\": 2,\n         \
      \     \"legendFormat\": \"Error Rate\",\n              \"refId\": \"A\",\n \
      \             \"step\": 60\n            },\n            {\n              \"\
      expr\": \"sum by(instance) (rate(apiserver_request_count[5m]))\",\n        \
      \      \"format\": \"time_series\",\n              \"intervalFactor\": 2,\n\
      \              \"legendFormat\": \"Request Rate\",\n              \"refId\"\
      : \"B\",\n              \"step\": 60\n            }\n          ],\n        \
      \  \"title\": \"API Server Request Rates\",\n          \"tooltip\": {\n    \
      \        \"msResolution\": false,\n            \"shared\": true,\n         \
      \   \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n\
      \          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\"\
      : \"time\",\n            \"show\": true,\n            \"values\": []\n     \
      \     },\n          \"yaxes\": [\n            {\n              \"format\": \"\
      short\",\n              \"logBase\": 1,\n              \"show\": true\n    \
      \        },\n            {\n              \"format\": \"short\",\n         \
      \     \"logBase\": 1,\n              \"show\": true\n            }\n       \
      \   ]\n        }\n      ],\n      \"showTitle\": false,\n      \"title\": \"\
      Dashboard Row\",\n      \"titleSize\": \"h6\"\n    }\n  ],\n  \"schemaVersion\"\
      : 14,\n  \"sharedCrosshair\": false,\n  \"style\": \"dark\",\n  \"tags\": [],\n\
      \  \"templating\": {\n    \"list\": []\n  },\n  \"time\": {\n    \"from\": \"\
      now-6h\",\n    \"to\": \"now\"\n  },\n  \"timepicker\": {\n    \"refresh_intervals\"\
      : [\n      \"5s\",\n      \"10s\",\n      \"30s\",\n      \"1m\",\n      \"\
      5m\",\n      \"15m\",\n      \"30m\",\n      \"1h\",\n      \"2h\",\n      \"\
      1d\"\n    ],\n    \"time_options\": [\n      \"5m\",\n      \"15m\",\n     \
      \ \"1h\",\n      \"6h\",\n      \"12h\",\n      \"24h\",\n      \"2d\",\n  \
      \    \"7d\",\n      \"30d\"\n    ]\n  },\n  \"timezone\": \"browser\",\n  \"\
      title\": \"Kubernetes Control Plane Status\",\n  \"version\": 3\n}\n"
  kind: ConfigMap
  metadata:
    labels:
      grafana_dashboard: '1'
    name: grafana-dashboard-definition-kubernetes-control-plane-status
    namespace: knative-monitoring
- apiVersion: v1
  data:
    kubernetes-resource-requests-dashboard.json: "{\n  \"__inputs\": [\n    {\n  \
      \    \"description\": \"\",\n      \"label\": \"prometheus\",\n      \"name\"\
      : \"prometheus\",\n      \"pluginId\": \"prometheus\",\n      \"pluginName\"\
      : \"Prometheus\",\n      \"type\": \"datasource\"\n    }\n  ],\n  \"annotations\"\
      : {\n    \"list\": []\n  },\n  \"editable\": false,\n  \"graphTooltip\": 0,\n\
      \  \"hideControls\": false,\n  \"links\": [],\n  \"refresh\": false,\n  \"rows\"\
      : [\n    {\n      \"collapse\": false,\n      \"editable\": false,\n      \"\
      height\": \"300px\",\n      \"panels\": [\n        {\n          \"aliasColors\"\
      : {},\n          \"bars\": false,\n          \"dashLength\": 10,\n         \
      \ \"dashes\": false,\n          \"datasource\": \"prometheus\",\n          \"\
      description\": \"This represents the total [CPU resource requests](https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#meaning-of-cpu)\
      \ in the cluster.\\nFor comparison the total [allocatable CPU cores](https://github.com/kubernetes/community/blob/master/contributors/design-proposals/node-allocatable.md)\
      \ is also shown.\",\n          \"editable\": false,\n          \"error\": false,\n\
      \          \"fill\": 1,\n          \"grid\": {\n            \"threshold1Color\"\
      : \"rgba(216, 200, 27, 0.27)\",\n            \"threshold2Color\": \"rgba(234,\
      \ 112, 112, 0.22)\"\n          },\n          \"id\": 1,\n          \"isNew\"\
      : false,\n          \"legend\": {\n            \"alignAsTable\": false,\n  \
      \          \"avg\": false,\n            \"current\": false,\n            \"\
      hideEmpty\": false,\n            \"hideZero\": false,\n            \"max\":\
      \ false,\n            \"min\": false,\n            \"rightSide\": false,\n \
      \           \"show\": true,\n            \"total\": false\n          },\n  \
      \        \"lines\": true,\n          \"linewidth\": 1,\n          \"links\"\
      : [],\n          \"nullPointMode\": \"null\",\n          \"percentage\": false,\n\
      \          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\"\
      : \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\":\
      \ 10,\n          \"span\": 9,\n          \"stack\": false,\n          \"steppedLine\"\
      : false,\n          \"targets\": [\n            {\n              \"expr\": \"\
      min(sum(kube_node_status_allocatable_cpu_cores) by (instance))\",\n        \
      \      \"hide\": false,\n              \"intervalFactor\": 2,\n            \
      \  \"legendFormat\": \"Allocatable CPU Cores\",\n              \"refId\": \"\
      A\",\n              \"step\": 20\n            },\n            {\n          \
      \    \"expr\": \"max(sum(kube_pod_container_resource_requests_cpu_cores) by\
      \ (instance))\",\n              \"hide\": false,\n              \"intervalFactor\"\
      : 2,\n              \"legendFormat\": \"Requested CPU Cores\",\n           \
      \   \"refId\": \"B\",\n              \"step\": 20\n            }\n         \
      \ ],\n          \"title\": \"CPU Cores\",\n          \"tooltip\": {\n      \
      \      \"msResolution\": false,\n            \"shared\": true,\n           \
      \ \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n \
      \         \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\"\
      : \"time\",\n            \"show\": true,\n            \"values\": []\n     \
      \     },\n          \"yaxes\": [\n            {\n              \"format\": \"\
      short\",\n              \"label\": \"CPU Cores\",\n              \"logBase\"\
      : 1,\n              \"show\": true\n            },\n            {\n        \
      \      \"format\": \"short\",\n              \"logBase\": 1,\n             \
      \ \"show\": true\n            }\n          ]\n        },\n        {\n      \
      \    \"colorBackground\": false,\n          \"colorValue\": false,\n       \
      \   \"colors\": [\n            \"rgba(50, 172, 45, 0.97)\",\n            \"\
      rgba(237, 129, 40, 0.89)\",\n            \"rgba(245, 54, 54, 0.9)\"\n      \
      \    ],\n          \"datasource\": \"prometheus\",\n          \"editable\":\
      \ false,\n          \"format\": \"percent\",\n          \"gauge\": {\n     \
      \       \"maxValue\": 100,\n            \"minValue\": 0,\n            \"show\"\
      : true,\n            \"thresholdLabels\": false,\n            \"thresholdMarkers\"\
      : true\n          },\n          \"hideTimeOverride\": false,\n          \"id\"\
      : 2,\n          \"links\": [],\n          \"mappingType\": 1,\n          \"\
      mappingTypes\": [\n            {\n              \"name\": \"value to text\"\
      ,\n              \"value\": 1\n            },\n            {\n             \
      \ \"name\": \"range to text\",\n              \"value\": 2\n            }\n\
      \          ],\n          \"maxDataPoints\": 100,\n          \"nullPointMode\"\
      : \"connected\",\n          \"postfix\": \"\",\n          \"postfixFontSize\"\
      : \"50%\",\n          \"prefix\": \"\",\n          \"prefixFontSize\": \"50%\"\
      ,\n          \"rangeMaps\": [\n            {\n              \"from\": \"null\"\
      ,\n              \"text\": \"N/A\",\n              \"to\": \"null\"\n      \
      \      }\n          ],\n          \"span\": 3,\n          \"sparkline\": {\n\
      \            \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n            \"full\"\
      : false,\n            \"lineColor\": \"rgb(31, 120, 193)\",\n            \"\
      show\": true\n          },\n          \"targets\": [\n            {\n      \
      \        \"expr\": \"max(sum(kube_pod_container_resource_requests_cpu_cores)\
      \ by (instance)) / min(sum(kube_node_status_allocatable_cpu_cores) by (instance))\
      \ * 100\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"\",\n              \"refId\": \"A\",\n              \"step\": 240\n    \
      \        }\n          ],\n          \"thresholds\": \"80, 90\",\n          \"\
      title\": \"CPU Cores\",\n          \"transparent\": false,\n          \"type\"\
      : \"singlestat\",\n          \"valueFontSize\": \"110%\",\n          \"valueMaps\"\
      : [\n            {\n              \"op\": \"=\",\n              \"text\": \"\
      N/A\",\n              \"value\": \"null\"\n            }\n          ],\n   \
      \       \"valueName\": \"avg\"\n        }\n      ],\n      \"showTitle\": false,\n\
      \      \"title\": \"CPU Cores\",\n      \"titleSize\": \"h6\"\n    },\n    {\n\
      \      \"collapse\": false,\n      \"editable\": false,\n      \"height\": \"\
      300px\",\n      \"panels\": [\n        {\n          \"aliasColors\": {},\n \
      \         \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\"\
      : false,\n          \"datasource\": \"prometheus\",\n          \"description\"\
      : \"This represents the total [memory resource requests](https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#meaning-of-memory)\
      \ in the cluster.\\nFor comparison the total [allocatable memory](https://github.com/kubernetes/community/blob/master/contributors/design-proposals/node-allocatable.md)\
      \ is also shown.\",\n          \"editable\": false,\n          \"error\": false,\n\
      \          \"fill\": 1,\n          \"grid\": {\n            \"threshold1Color\"\
      : \"rgba(216, 200, 27, 0.27)\",\n            \"threshold2Color\": \"rgba(234,\
      \ 112, 112, 0.22)\"\n          },\n          \"id\": 3,\n          \"isNew\"\
      : false,\n          \"legend\": {\n            \"alignAsTable\": false,\n  \
      \          \"avg\": false,\n            \"current\": false,\n            \"\
      hideEmpty\": false,\n            \"hideZero\": false,\n            \"max\":\
      \ false,\n            \"min\": false,\n            \"rightSide\": false,\n \
      \           \"show\": true,\n            \"total\": false\n          },\n  \
      \        \"lines\": true,\n          \"linewidth\": 1,\n          \"links\"\
      : [],\n          \"nullPointMode\": \"null\",\n          \"percentage\": false,\n\
      \          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\"\
      : \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\":\
      \ 10,\n          \"span\": 9,\n          \"stack\": false,\n          \"steppedLine\"\
      : false,\n          \"targets\": [\n            {\n              \"expr\": \"\
      min(sum(kube_node_status_allocatable_memory_bytes) by (instance))\",\n     \
      \         \"hide\": false,\n              \"intervalFactor\": 2,\n         \
      \     \"legendFormat\": \"Allocatable Memory\",\n              \"refId\": \"\
      A\",\n              \"step\": 20\n            },\n            {\n          \
      \    \"expr\": \"max(sum(kube_pod_container_resource_requests_memory_bytes)\
      \ by (instance))\",\n              \"hide\": false,\n              \"intervalFactor\"\
      : 2,\n              \"legendFormat\": \"Requested Memory\",\n              \"\
      refId\": \"B\",\n              \"step\": 20\n            }\n          ],\n \
      \         \"title\": \"Memory\",\n          \"tooltip\": {\n            \"msResolution\"\
      : false,\n            \"shared\": true,\n            \"sort\": 0,\n        \
      \    \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\"\
      ,\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\"\
      : true,\n            \"values\": []\n          },\n          \"yaxes\": [\n\
      \            {\n              \"format\": \"bytes\",\n              \"label\"\
      : \"Memory\",\n              \"logBase\": 1,\n              \"show\": true\n\
      \            },\n            {\n              \"format\": \"short\",\n     \
      \         \"logBase\": 1,\n              \"show\": true\n            }\n   \
      \       ]\n        },\n        {\n          \"colorBackground\": false,\n  \
      \        \"colorValue\": false,\n          \"colors\": [\n            \"rgba(50,\
      \ 172, 45, 0.97)\",\n            \"rgba(237, 129, 40, 0.89)\",\n           \
      \ \"rgba(245, 54, 54, 0.9)\"\n          ],\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"format\": \"percent\",\n    \
      \      \"gauge\": {\n            \"maxValue\": 100,\n            \"minValue\"\
      : 0,\n            \"show\": true,\n            \"thresholdLabels\": false,\n\
      \            \"thresholdMarkers\": true\n          },\n          \"hideTimeOverride\"\
      : false,\n          \"id\": 4,\n          \"links\": [],\n          \"mappingType\"\
      : 1,\n          \"mappingTypes\": [\n            {\n              \"name\":\
      \ \"value to text\",\n              \"value\": 1\n            },\n         \
      \   {\n              \"name\": \"range to text\",\n              \"value\":\
      \ 2\n            }\n          ],\n          \"maxDataPoints\": 100,\n      \
      \    \"nullPointMode\": \"connected\",\n          \"postfix\": \"\",\n     \
      \     \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n         \
      \ \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n            {\n\
      \              \"from\": \"null\",\n              \"text\": \"N/A\",\n     \
      \         \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": true\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"max(sum(kube_pod_container_resource_requests_memory_bytes)\
      \ by (instance)) / min(sum(kube_node_status_allocatable_memory_bytes) by (instance))\
      \ * 100\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"\",\n              \"refId\": \"A\",\n              \"step\": 240\n    \
      \        }\n          ],\n          \"thresholds\": \"80, 90\",\n          \"\
      title\": \"Memory\",\n          \"transparent\": false,\n          \"type\"\
      : \"singlestat\",\n          \"valueFontSize\": \"110%\",\n          \"valueMaps\"\
      : [\n            {\n              \"op\": \"=\",\n              \"text\": \"\
      N/A\",\n              \"value\": \"null\"\n            }\n          ],\n   \
      \       \"valueName\": \"avg\"\n        }\n      ],\n      \"showTitle\": false,\n\
      \      \"title\": \"Memory\",\n      \"titleSize\": \"h6\"\n    }\n  ],\n  \"\
      schemaVersion\": 14,\n  \"sharedCrosshair\": false,\n  \"style\": \"dark\",\n\
      \  \"tags\": [],\n  \"templating\": {\n    \"list\": []\n  },\n  \"time\": {\n\
      \    \"from\": \"now-3h\",\n    \"to\": \"now\"\n  },\n  \"timepicker\": {\n\
      \    \"refresh_intervals\": [\n      \"5s\",\n      \"10s\",\n      \"30s\"\
      ,\n      \"1m\",\n      \"5m\",\n      \"15m\",\n      \"30m\",\n      \"1h\"\
      ,\n      \"2h\",\n      \"1d\"\n    ],\n    \"time_options\": [\n      \"5m\"\
      ,\n      \"15m\",\n      \"1h\",\n      \"6h\",\n      \"12h\",\n      \"24h\"\
      ,\n      \"2d\",\n      \"7d\",\n      \"30d\"\n    ]\n  },\n  \"timezone\"\
      : \"browser\",\n  \"title\": \"Kubernetes Resource Requests\",\n  \"version\"\
      : 2\n}\n"
  kind: ConfigMap
  metadata:
    labels:
      grafana_dashboard: '1'
    name: grafana-dashboard-definition-kubernetes-resource-requests
    namespace: knative-monitoring
- apiVersion: v1
  data:
    kubernetes-nodes-dashboard.json: "{\n  \"__inputs\": [\n    {\n      \"description\"\
      : \"\",\n      \"label\": \"prometheus\",\n      \"name\": \"prometheus\",\n\
      \      \"pluginId\": \"prometheus\",\n      \"pluginName\": \"Prometheus\",\n\
      \      \"type\": \"datasource\"\n    }\n  ],\n  \"annotations\": {\n    \"list\"\
      : []\n  },\n  \"description\": \"Dashboard to get an overview of one server\"\
      ,\n  \"editable\": false,\n  \"gnetId\": 22,\n  \"graphTooltip\": 0,\n  \"hideControls\"\
      : false,\n  \"links\": [],\n  \"refresh\": false,\n  \"rows\": [\n    {\n  \
      \    \"collapse\": false,\n      \"editable\": false,\n      \"height\": \"\
      250px\",\n      \"panels\": [\n        {\n          \"aliasColors\": {},\n \
      \         \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\"\
      : false,\n          \"datasource\": \"prometheus\",\n          \"editable\"\
      : false,\n          \"error\": false,\n          \"fill\": 1,\n          \"\
      grid\": {\n            \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n\
      \            \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n          },\n\
      \          \"id\": 3,\n          \"isNew\": false,\n          \"legend\": {\n\
      \            \"alignAsTable\": false,\n            \"avg\": false,\n       \
      \     \"current\": false,\n            \"hideEmpty\": false,\n            \"\
      hideZero\": false,\n            \"max\": false,\n            \"min\": false,\n\
      \            \"rightSide\": false,\n            \"show\": true,\n          \
      \  \"total\": false\n          },\n          \"lines\": true,\n          \"\
      linewidth\": 2,\n          \"links\": [],\n          \"nullPointMode\": \"connected\"\
      ,\n          \"percentage\": false,\n          \"pointradius\": 5,\n       \
      \   \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\"\
      : [],\n          \"spaceLength\": 10,\n          \"span\": 6,\n          \"\
      stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n\
      \            {\n              \"expr\": \"100 - (avg by (cpu) (irate(node_cpu{mode=\\\
      \"idle\\\", instance=\\\"$server\\\"}[5m])) * 100)\",\n              \"hide\"\
      : false,\n              \"intervalFactor\": 10,\n              \"legendFormat\"\
      : \"{{cpu}}\",\n              \"refId\": \"A\",\n              \"step\": 50\n\
      \            }\n          ],\n          \"title\": \"Idle CPU\",\n         \
      \ \"tooltip\": {\n            \"msResolution\": false,\n            \"shared\"\
      : true,\n            \"sort\": 0,\n            \"value_type\": \"cumulative\"\
      \n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n   \
      \         \"mode\": \"time\",\n            \"show\": true,\n            \"values\"\
      : []\n          },\n          \"yaxes\": [\n            {\n              \"\
      format\": \"percent\",\n              \"label\": \"cpu usage\",\n          \
      \    \"logBase\": 1,\n              \"max\": 100,\n              \"min\": 0,\n\
      \              \"show\": true\n            },\n            {\n             \
      \ \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\"\
      : true\n            }\n          ]\n        },\n        {\n          \"aliasColors\"\
      : {},\n          \"bars\": false,\n          \"dashLength\": 10,\n         \
      \ \"dashes\": false,\n          \"datasource\": \"prometheus\",\n          \"\
      editable\": false,\n          \"error\": false,\n          \"fill\": 1,\n  \
      \        \"grid\": {\n            \"threshold1Color\": \"rgba(216, 200, 27,\
      \ 0.27)\",\n            \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n\
      \          },\n          \"id\": 9,\n          \"isNew\": false,\n         \
      \ \"legend\": {\n            \"alignAsTable\": false,\n            \"avg\":\
      \ false,\n            \"current\": false,\n            \"hideEmpty\": false,\n\
      \            \"hideZero\": false,\n            \"max\": false,\n           \
      \ \"min\": false,\n            \"rightSide\": false,\n            \"show\":\
      \ true,\n            \"total\": false\n          },\n          \"lines\": true,\n\
      \          \"linewidth\": 2,\n          \"links\": [],\n          \"nullPointMode\"\
      : \"connected\",\n          \"percentage\": false,\n          \"pointradius\"\
      : 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n    \
      \      \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"\
      span\": 6,\n          \"stack\": false,\n          \"steppedLine\": false,\n\
      \          \"targets\": [\n            {\n              \"expr\": \"node_load1{instance=\\\
      \"$server\\\"}\",\n              \"intervalFactor\": 4,\n              \"legendFormat\"\
      : \"load 1m\",\n              \"refId\": \"A\",\n              \"step\": 20,\n\
      \              \"target\": \"\"\n            },\n            {\n           \
      \   \"expr\": \"node_load5{instance=\\\"$server\\\"}\",\n              \"intervalFactor\"\
      : 4,\n              \"legendFormat\": \"load 5m\",\n              \"refId\"\
      : \"B\",\n              \"step\": 20,\n              \"target\": \"\"\n    \
      \        },\n            {\n              \"expr\": \"node_load15{instance=\\\
      \"$server\\\"}\",\n              \"intervalFactor\": 4,\n              \"legendFormat\"\
      : \"load 15m\",\n              \"refId\": \"C\",\n              \"step\": 20,\n\
      \              \"target\": \"\"\n            }\n          ],\n          \"title\"\
      : \"System Load\",\n          \"tooltip\": {\n            \"msResolution\":\
      \ false,\n            \"shared\": true,\n            \"sort\": 0,\n        \
      \    \"value_type\": \"cumulative\"\n          },\n          \"type\": \"graph\"\
      ,\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\"\
      : true,\n            \"values\": []\n          },\n          \"yaxes\": [\n\
      \            {\n              \"format\": \"percentunit\",\n              \"\
      logBase\": 1,\n              \"show\": true\n            },\n            {\n\
      \              \"format\": \"short\",\n              \"logBase\": 1,\n     \
      \         \"show\": true\n            }\n          ]\n        }\n      ],\n\
      \      \"showTitle\": false,\n      \"title\": \"New Row\",\n      \"titleSize\"\
      : \"h6\"\n    },\n    {\n      \"collapse\": false,\n      \"editable\": false,\n\
      \      \"height\": \"250px\",\n      \"panels\": [\n        {\n          \"\
      aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n\
      \          \"dashes\": false,\n          \"datasource\": \"prometheus\",\n \
      \         \"editable\": false,\n          \"error\": false,\n          \"fill\"\
      : 1,\n          \"grid\": {\n            \"threshold1Color\": \"rgba(216, 200,\
      \ 27, 0.27)\",\n            \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\
      \n          },\n          \"id\": 4,\n          \"isNew\": false,\n        \
      \  \"legend\": {\n            \"alignAsTable\": false,\n            \"avg\"\
      : false,\n            \"current\": false,\n            \"hideEmpty\": false,\n\
      \            \"hideZero\": false,\n            \"max\": false,\n           \
      \ \"min\": false,\n            \"rightSide\": false,\n            \"show\":\
      \ true,\n            \"total\": false\n          },\n          \"lines\": true,\n\
      \          \"linewidth\": 2,\n          \"links\": [],\n          \"nullPointMode\"\
      : \"connected\",\n          \"percentage\": false,\n          \"pointradius\"\
      : 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n    \
      \      \"seriesOverrides\": [\n            {\n              \"alias\": \"node_memory_SwapFree{instance=\\\
      \"172.17.0.1:9100\\\",job=\\\"prometheus\\\"}\",\n              \"yaxis\": 2\n\
      \            }\n          ],\n          \"spaceLength\": 10,\n          \"span\"\
      : 9,\n          \"stack\": true,\n          \"steppedLine\": false,\n      \
      \    \"targets\": [\n            {\n              \"expr\": \"node_memory_MemTotal{instance=\\\
      \"$server\\\"} - node_memory_MemFree{instance=\\\"$server\\\"} - node_memory_Buffers{instance=\\\
      \"$server\\\"} - node_memory_Cached{instance=\\\"$server\\\"}\",\n         \
      \     \"hide\": false,\n              \"interval\": \"\",\n              \"\
      intervalFactor\": 2,\n              \"legendFormat\": \"memory used\",\n   \
      \           \"metric\": \"\",\n              \"refId\": \"C\",\n           \
      \   \"step\": 10\n            },\n            {\n              \"expr\": \"\
      node_memory_Buffers{instance=\\\"$server\\\"}\",\n              \"interval\"\
      : \"\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"memory buffers\",\n              \"metric\": \"\",\n              \"refId\"\
      : \"E\",\n              \"step\": 10\n            },\n            {\n      \
      \        \"expr\": \"node_memory_Cached{instance=\\\"$server\\\"}\",\n     \
      \         \"intervalFactor\": 2,\n              \"legendFormat\": \"memory cached\"\
      ,\n              \"metric\": \"\",\n              \"refId\": \"F\",\n      \
      \        \"step\": 10\n            },\n            {\n              \"expr\"\
      : \"node_memory_MemFree{instance=\\\"$server\\\"}\",\n              \"intervalFactor\"\
      : 2,\n              \"legendFormat\": \"memory free\",\n              \"metric\"\
      : \"\",\n              \"refId\": \"D\",\n              \"step\": 10\n     \
      \       }\n          ],\n          \"title\": \"Memory Usage\",\n          \"\
      tooltip\": {\n            \"msResolution\": false,\n            \"shared\":\
      \ true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\
      \n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n   \
      \         \"mode\": \"time\",\n            \"show\": true,\n            \"values\"\
      : []\n          },\n          \"yaxes\": [\n            {\n              \"\
      format\": \"bytes\",\n              \"logBase\": 1,\n              \"min\":\
      \ \"0\",\n              \"show\": true\n            },\n            {\n    \
      \          \"format\": \"short\",\n              \"logBase\": 1,\n         \
      \     \"show\": true\n            }\n          ]\n        },\n        {\n  \
      \        \"colorBackground\": false,\n          \"colorValue\": false,\n   \
      \       \"colors\": [\n            \"rgba(50, 172, 45, 0.97)\",\n          \
      \  \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(245, 54, 54, 0.9)\"\n \
      \         ],\n          \"datasource\": \"prometheus\",\n          \"editable\"\
      : false,\n          \"format\": \"percent\",\n          \"gauge\": {\n     \
      \       \"maxValue\": 100,\n            \"minValue\": 0,\n            \"show\"\
      : true,\n            \"thresholdLabels\": false,\n            \"thresholdMarkers\"\
      : true\n          },\n          \"hideTimeOverride\": false,\n          \"id\"\
      : 5,\n          \"links\": [],\n          \"mappingType\": 1,\n          \"\
      mappingTypes\": [\n            {\n              \"name\": \"value to text\"\
      ,\n              \"value\": 1\n            },\n            {\n             \
      \ \"name\": \"range to text\",\n              \"value\": 2\n            }\n\
      \          ],\n          \"maxDataPoints\": 100,\n          \"nullPointMode\"\
      : \"connected\",\n          \"postfix\": \"\",\n          \"postfixFontSize\"\
      : \"50%\",\n          \"prefix\": \"\",\n          \"prefixFontSize\": \"50%\"\
      ,\n          \"rangeMaps\": [\n            {\n              \"from\": \"null\"\
      ,\n              \"text\": \"N/A\",\n              \"to\": \"null\"\n      \
      \      }\n          ],\n          \"span\": 3,\n          \"sparkline\": {\n\
      \            \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n            \"full\"\
      : false,\n            \"lineColor\": \"rgb(31, 120, 193)\",\n            \"\
      show\": false\n          },\n          \"targets\": [\n            {\n     \
      \         \"expr\": \"((node_memory_MemTotal{instance=\\\"$server\\\"} - node_memory_MemFree{instance=\\\
      \"$server\\\"}  - node_memory_Buffers{instance=\\\"$server\\\"} - node_memory_Cached{instance=\\\
      \"$server\\\"}) / node_memory_MemTotal{instance=\\\"$server\\\"}) * 100\",\n\
      \              \"intervalFactor\": 2,\n              \"refId\": \"A\",\n   \
      \           \"step\": 60,\n              \"target\": \"\"\n            }\n \
      \         ],\n          \"thresholds\": \"80, 90\",\n          \"title\": \"\
      Memory Usage\",\n          \"transparent\": false,\n          \"type\": \"singlestat\"\
      ,\n          \"valueFontSize\": \"80%\",\n          \"valueMaps\": [\n     \
      \       {\n              \"op\": \"=\",\n              \"text\": \"N/A\",\n\
      \              \"value\": \"null\"\n            }\n          ],\n          \"\
      valueName\": \"avg\"\n        }\n      ],\n      \"showTitle\": false,\n   \
      \   \"title\": \"New Row\",\n      \"titleSize\": \"h6\"\n    },\n    {\n  \
      \    \"collapse\": false,\n      \"editable\": false,\n      \"height\": \"\
      250px\",\n      \"panels\": [\n        {\n          \"aliasColors\": {},\n \
      \         \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\"\
      : false,\n          \"datasource\": \"prometheus\",\n          \"editable\"\
      : false,\n          \"error\": false,\n          \"fill\": 1,\n          \"\
      grid\": {\n            \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n\
      \            \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n          },\n\
      \          \"id\": 6,\n          \"isNew\": true,\n          \"legend\": {\n\
      \            \"alignAsTable\": false,\n            \"avg\": false,\n       \
      \     \"current\": false,\n            \"hideEmpty\": false,\n            \"\
      hideZero\": false,\n            \"max\": false,\n            \"min\": false,\n\
      \            \"rightSide\": false,\n            \"show\": true,\n          \
      \  \"total\": false\n          },\n          \"lines\": true,\n          \"\
      linewidth\": 2,\n          \"links\": [],\n          \"nullPointMode\": \"connected\"\
      ,\n          \"percentage\": false,\n          \"pointradius\": 5,\n       \
      \   \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\"\
      : [\n            {\n              \"alias\": \"read\",\n              \"yaxis\"\
      : 1\n            },\n            {\n              \"alias\": \"{instance=\\\"\
      172.17.0.1:9100\\\"}\",\n              \"yaxis\": 2\n            },\n      \
      \      {\n              \"alias\": \"io time\",\n              \"yaxis\": 2\n\
      \            }\n          ],\n          \"spaceLength\": 10,\n          \"span\"\
      : 9,\n          \"stack\": false,\n          \"steppedLine\": false,\n     \
      \     \"targets\": [\n            {\n              \"expr\": \"sum by (instance)\
      \ (rate(node_disk_bytes_read{instance=\\\"$server\\\"}[2m]))\",\n          \
      \    \"hide\": false,\n              \"intervalFactor\": 4,\n              \"\
      legendFormat\": \"read\",\n              \"refId\": \"A\",\n              \"\
      step\": 20,\n              \"target\": \"\"\n            },\n            {\n\
      \              \"expr\": \"sum by (instance) (rate(node_disk_bytes_written{instance=\\\
      \"$server\\\"}[2m]))\",\n              \"intervalFactor\": 4,\n            \
      \  \"legendFormat\": \"written\",\n              \"refId\": \"B\",\n       \
      \       \"step\": 20\n            },\n            {\n              \"expr\"\
      : \"sum by (instance) (rate(node_disk_io_time_ms{instance=\\\"$server\\\"}[2m]))\"\
      ,\n              \"intervalFactor\": 4,\n              \"legendFormat\": \"\
      io time\",\n              \"refId\": \"C\",\n              \"step\": 20\n  \
      \          }\n          ],\n          \"title\": \"Disk I/O\",\n          \"\
      tooltip\": {\n            \"msResolution\": false,\n            \"shared\":\
      \ true,\n            \"sort\": 0,\n            \"value_type\": \"cumulative\"\
      \n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n   \
      \         \"mode\": \"time\",\n            \"show\": true,\n            \"values\"\
      : []\n          },\n          \"yaxes\": [\n            {\n              \"\
      format\": \"bytes\",\n              \"logBase\": 1,\n              \"show\"\
      : true\n            },\n            {\n              \"format\": \"ms\",\n \
      \             \"logBase\": 1,\n              \"show\": true\n            }\n\
      \          ]\n        },\n        {\n          \"colorBackground\": false,\n\
      \          \"colorValue\": false,\n          \"colors\": [\n            \"rgba(50,\
      \ 172, 45, 0.97)\",\n            \"rgba(237, 129, 40, 0.89)\",\n           \
      \ \"rgba(245, 54, 54, 0.9)\"\n          ],\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"format\": \"percentunit\",\n\
      \          \"gauge\": {\n            \"maxValue\": 1,\n            \"minValue\"\
      : 0,\n            \"show\": true,\n            \"thresholdLabels\": false,\n\
      \            \"thresholdMarkers\": true\n          },\n          \"hideTimeOverride\"\
      : false,\n          \"id\": 7,\n          \"links\": [],\n          \"mappingType\"\
      : 1,\n          \"mappingTypes\": [\n            {\n              \"name\":\
      \ \"value to text\",\n              \"value\": 1\n            },\n         \
      \   {\n              \"name\": \"range to text\",\n              \"value\":\
      \ 2\n            }\n          ],\n          \"maxDataPoints\": 100,\n      \
      \    \"nullPointMode\": \"connected\",\n          \"postfix\": \"\",\n     \
      \     \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n         \
      \ \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n            {\n\
      \              \"from\": \"null\",\n              \"text\": \"N/A\",\n     \
      \         \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"(sum(node_filesystem_size{device!=\\\
      \"rootfs\\\",instance=\\\"$server\\\"}) - sum(node_filesystem_free{device!=\\\
      \"rootfs\\\",instance=\\\"$server\\\"})) / sum(node_filesystem_size{device!=\\\
      \"rootfs\\\",instance=\\\"$server\\\"})\",\n              \"intervalFactor\"\
      : 2,\n              \"refId\": \"A\",\n              \"step\": 60,\n       \
      \       \"target\": \"\"\n            }\n          ],\n          \"thresholds\"\
      : \"0.75, 0.9\",\n          \"title\": \"Disk Space Usage\",\n          \"transparent\"\
      : false,\n          \"type\": \"singlestat\",\n          \"valueFontSize\":\
      \ \"80%\",\n          \"valueMaps\": [\n            {\n              \"op\"\
      : \"=\",\n              \"text\": \"N/A\",\n              \"value\": \"null\"\
      \n            }\n          ],\n          \"valueName\": \"current\"\n      \
      \  }\n      ],\n      \"showTitle\": false,\n      \"title\": \"New Row\",\n\
      \      \"titleSize\": \"h6\"\n    },\n    {\n      \"collapse\": false,\n  \
      \    \"editable\": false,\n      \"height\": \"250px\",\n      \"panels\": [\n\
      \        {\n          \"aliasColors\": {},\n          \"bars\": false,\n   \
      \       \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\"\
      : \"prometheus\",\n          \"editable\": false,\n          \"error\": false,\n\
      \          \"fill\": 1,\n          \"grid\": {\n            \"threshold1Color\"\
      : \"rgba(216, 200, 27, 0.27)\",\n            \"threshold2Color\": \"rgba(234,\
      \ 112, 112, 0.22)\"\n          },\n          \"id\": 8,\n          \"isNew\"\
      : false,\n          \"legend\": {\n            \"alignAsTable\": false,\n  \
      \          \"avg\": false,\n            \"current\": false,\n            \"\
      hideEmpty\": false,\n            \"hideZero\": false,\n            \"max\":\
      \ false,\n            \"min\": false,\n            \"rightSide\": false,\n \
      \           \"show\": true,\n            \"total\": false\n          },\n  \
      \        \"lines\": true,\n          \"linewidth\": 2,\n          \"links\"\
      : [],\n          \"nullPointMode\": \"connected\",\n          \"percentage\"\
      : false,\n          \"pointradius\": 5,\n          \"points\": false,\n    \
      \      \"renderer\": \"flot\",\n          \"seriesOverrides\": [\n         \
      \   {\n              \"alias\": \"transmitted\",\n              \"yaxis\": 2\n\
      \            }\n          ],\n          \"spaceLength\": 10,\n          \"span\"\
      : 6,\n          \"stack\": false,\n          \"steppedLine\": false,\n     \
      \     \"targets\": [\n            {\n              \"expr\": \"rate(node_network_receive_bytes{instance=\\\
      \"$server\\\",device!~\\\"lo\\\"}[5m])\",\n              \"hide\": false,\n\
      \              \"intervalFactor\": 2,\n              \"legendFormat\": \"{{device}}\"\
      ,\n              \"refId\": \"A\",\n              \"step\": 10,\n          \
      \    \"target\": \"\"\n            }\n          ],\n          \"title\": \"\
      Network Received\",\n          \"tooltip\": {\n            \"msResolution\"\
      : false,\n            \"shared\": true,\n            \"sort\": 0,\n        \
      \    \"value_type\": \"cumulative\"\n          },\n          \"type\": \"graph\"\
      ,\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\"\
      : true,\n            \"values\": []\n          },\n          \"yaxes\": [\n\
      \            {\n              \"format\": \"bytes\",\n              \"logBase\"\
      : 1,\n              \"show\": true\n            },\n            {\n        \
      \      \"format\": \"bytes\",\n              \"logBase\": 1,\n             \
      \ \"show\": true\n            }\n          ]\n        },\n        {\n      \
      \    \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\"\
      : 10,\n          \"dashes\": false,\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"error\": false,\n          \"\
      fill\": 1,\n          \"grid\": {\n            \"threshold1Color\": \"rgba(216,\
      \ 200, 27, 0.27)\",\n            \"threshold2Color\": \"rgba(234, 112, 112,\
      \ 0.22)\"\n          },\n          \"id\": 10,\n          \"isNew\": false,\n\
      \          \"legend\": {\n            \"alignAsTable\": false,\n           \
      \ \"avg\": false,\n            \"current\": false,\n            \"hideEmpty\"\
      : false,\n            \"hideZero\": false,\n            \"max\": false,\n  \
      \          \"min\": false,\n            \"rightSide\": false,\n            \"\
      show\": true,\n            \"total\": false\n          },\n          \"lines\"\
      : true,\n          \"linewidth\": 2,\n          \"links\": [],\n          \"\
      nullPointMode\": \"connected\",\n          \"percentage\": false,\n        \
      \  \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\"\
      : \"flot\",\n          \"seriesOverrides\": [\n            {\n             \
      \ \"alias\": \"transmitted\",\n              \"yaxis\": 2\n            }\n \
      \         ],\n          \"spaceLength\": 10,\n          \"span\": 6,\n     \
      \     \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\"\
      : [\n            {\n              \"expr\": \"rate(node_network_transmit_bytes{instance=\\\
      \"$server\\\",device!~\\\"lo\\\"}[5m])\",\n              \"hide\": false,\n\
      \              \"intervalFactor\": 2,\n              \"legendFormat\": \"{{device}}\"\
      ,\n              \"refId\": \"B\",\n              \"step\": 10,\n          \
      \    \"target\": \"\"\n            }\n          ],\n          \"title\": \"\
      Network Transmitted\",\n          \"tooltip\": {\n            \"msResolution\"\
      : false,\n            \"shared\": true,\n            \"sort\": 0,\n        \
      \    \"value_type\": \"cumulative\"\n          },\n          \"type\": \"graph\"\
      ,\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\"\
      : true,\n            \"values\": []\n          },\n          \"yaxes\": [\n\
      \            {\n              \"format\": \"bytes\",\n              \"logBase\"\
      : 1,\n              \"show\": true\n            },\n            {\n        \
      \      \"format\": \"bytes\",\n              \"logBase\": 1,\n             \
      \ \"show\": true\n            }\n          ]\n        }\n      ],\n      \"\
      showTitle\": false,\n      \"title\": \"New Row\",\n      \"titleSize\": \"\
      h6\"\n    }\n  ],\n  \"schemaVersion\": 14,\n  \"sharedCrosshair\": false,\n\
      \  \"style\": \"dark\",\n  \"tags\": [],\n  \"templating\": {\n    \"list\"\
      : [\n      {\n        \"allValue\": null,\n        \"current\": {},\n      \
      \  \"datasource\": \"prometheus\",\n        \"hide\": 0,\n        \"includeAll\"\
      : false,\n        \"label\": null,\n        \"multi\": false,\n        \"name\"\
      : \"server\",\n        \"options\": [],\n        \"query\": \"label_values(node_boot_time,\
      \ instance)\",\n        \"refresh\": 1,\n        \"regex\": \"\",\n        \"\
      sort\": 0,\n        \"tagValuesQuery\": \"\",\n        \"tags\": [],\n     \
      \   \"tagsQuery\": \"\",\n        \"type\": \"query\",\n        \"useTags\"\
      : false\n      }\n    ]\n  },\n  \"time\": {\n    \"from\": \"now-1h\",\n  \
      \  \"to\": \"now\"\n  },\n  \"timepicker\": {\n    \"refresh_intervals\": [\n\
      \      \"5s\",\n      \"10s\",\n      \"30s\",\n      \"1m\",\n      \"5m\"\
      ,\n      \"15m\",\n      \"30m\",\n      \"1h\",\n      \"2h\",\n      \"1d\"\
      \n    ],\n    \"time_options\": [\n      \"5m\",\n      \"15m\",\n      \"1h\"\
      ,\n      \"6h\",\n      \"12h\",\n      \"24h\",\n      \"2d\",\n      \"7d\"\
      ,\n      \"30d\"\n    ]\n  },\n  \"timezone\": \"browser\",\n  \"title\": \"\
      Nodes\",\n  \"version\": 2\n}\n"
  kind: ConfigMap
  metadata:
    labels:
      grafana_dashboard: '1'
    name: grafana-dashboard-definition-kubernetes-nodes
    namespace: knative-monitoring
- apiVersion: v1
  data:
    kubernetes-pods-dashboard.json: "{\n  \"__inputs\": [\n    {\n      \"description\"\
      : \"\",\n      \"label\": \"prometheus\",\n      \"name\": \"prometheus\",\n\
      \      \"pluginId\": \"prometheus\",\n      \"pluginName\": \"Prometheus\",\n\
      \      \"type\": \"datasource\"\n    }\n  ],\n  \"annotations\": {\n    \"list\"\
      : []\n  },\n  \"editable\": false,\n  \"graphTooltip\": 1,\n  \"hideControls\"\
      : false,\n  \"links\": [],\n  \"refresh\": false,\n  \"rows\": [\n    {\n  \
      \    \"collapse\": false,\n      \"editable\": false,\n      \"height\": \"\
      250px\",\n      \"panels\": [\n        {\n          \"aliasColors\": {},\n \
      \         \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\"\
      : false,\n          \"datasource\": \"prometheus\",\n          \"editable\"\
      : false,\n          \"error\": false,\n          \"fill\": 1,\n          \"\
      grid\": {\n            \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n\
      \            \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n          },\n\
      \          \"id\": 1,\n          \"isNew\": false,\n          \"legend\": {\n\
      \            \"alignAsTable\": true,\n            \"avg\": true,\n         \
      \   \"current\": true,\n            \"hideEmpty\": false,\n            \"hideZero\"\
      : false,\n            \"max\": false,\n            \"min\": false,\n       \
      \     \"rightSide\": true,\n            \"show\": true,\n            \"total\"\
      : false,\n            \"values\": true\n          },\n          \"lines\": true,\n\
      \          \"linewidth\": 2,\n          \"links\": [],\n          \"nullPointMode\"\
      : \"connected\",\n          \"percentage\": false,\n          \"pointradius\"\
      : 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n    \
      \      \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"\
      span\": 12,\n          \"stack\": false,\n          \"steppedLine\": false,\n\
      \          \"targets\": [\n            {\n              \"expr\": \"sum by(container_name)\
      \ (container_memory_usage_bytes{pod_name=\\\"$pod\\\", container_name=~\\\"\
      $container\\\", container_name!=\\\"POD\\\"})\",\n              \"interval\"\
      : \"10s\",\n              \"intervalFactor\": 1,\n              \"legendFormat\"\
      : \"Current: {{ container_name }}\",\n              \"metric\": \"container_memory_usage_bytes\"\
      ,\n              \"refId\": \"A\",\n              \"step\": 15\n           \
      \ },\n            {\n              \"expr\": \"kube_pod_container_resource_requests_memory_bytes{pod=\\\
      \"$pod\\\", container=~\\\"$container\\\"}\",\n              \"interval\": \"\
      10s\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"Requested: {{ container }}\",\n              \"metric\": \"kube_pod_container_resource_requests_memory_bytes\"\
      ,\n              \"refId\": \"B\",\n              \"step\": 20\n           \
      \ },\n            {\n              \"expr\": \"kube_pod_container_resource_limits_memory_bytes{pod=\\\
      \"$pod\\\", container=~\\\"$container\\\"}\",\n              \"interval\": \"\
      10s\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"Limit: {{ container }}\",\n              \"metric\": \"kube_pod_container_resource_limits_memory_bytes\"\
      ,\n              \"refId\": \"C\",\n              \"step\": 20\n           \
      \ }\n          ],\n          \"title\": \"Memory Usage\",\n          \"tooltip\"\
      : {\n            \"msResolution\": true,\n            \"shared\": true,\n  \
      \          \"sort\": 0,\n            \"value_type\": \"cumulative\"\n      \
      \    },\n          \"type\": \"graph\",\n          \"xaxis\": {\n          \
      \  \"mode\": \"time\",\n            \"show\": true,\n            \"values\"\
      : []\n          },\n          \"yaxes\": [\n            {\n              \"\
      format\": \"bytes\",\n              \"logBase\": 1,\n              \"show\"\
      : true\n            },\n            {\n              \"format\": \"short\",\n\
      \              \"logBase\": 1,\n              \"show\": true\n            }\n\
      \          ]\n        }\n      ],\n      \"showTitle\": false,\n      \"title\"\
      : \"Row\",\n      \"titleSize\": \"h6\"\n    },\n    {\n      \"collapse\":\
      \ false,\n      \"editable\": false,\n      \"height\": \"250px\",\n      \"\
      panels\": [\n        {\n          \"aliasColors\": {},\n          \"bars\":\
      \ false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n    \
      \      \"datasource\": \"prometheus\",\n          \"editable\": false,\n   \
      \       \"error\": false,\n          \"fill\": 1,\n          \"grid\": {\n \
      \           \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n           \
      \ \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n          },\n       \
      \   \"id\": 2,\n          \"isNew\": false,\n          \"legend\": {\n     \
      \       \"alignAsTable\": true,\n            \"avg\": true,\n            \"\
      current\": true,\n            \"hideEmpty\": false,\n            \"hideZero\"\
      : false,\n            \"max\": false,\n            \"min\": false,\n       \
      \     \"rightSide\": true,\n            \"show\": true,\n            \"total\"\
      : false,\n            \"values\": true\n          },\n          \"lines\": true,\n\
      \          \"linewidth\": 2,\n          \"links\": [],\n          \"nullPointMode\"\
      : \"connected\",\n          \"percentage\": false,\n          \"pointradius\"\
      : 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n    \
      \      \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"\
      span\": 12,\n          \"stack\": false,\n          \"steppedLine\": false,\n\
      \          \"targets\": [\n            {\n              \"expr\": \"sum by (container_name)(rate(container_cpu_usage_seconds_total{image!=\\\
      \"\\\",container_name!=\\\"POD\\\",pod_name=\\\"$pod\\\"}[1m]))\",\n       \
      \       \"intervalFactor\": 2,\n              \"legendFormat\": \"{{ container_name\
      \ }}\",\n              \"refId\": \"A\",\n              \"step\": 30\n     \
      \       },\n            {\n              \"expr\": \"kube_pod_container_resource_requests_cpu_cores{pod=\\\
      \"$pod\\\", container=~\\\"$container\\\"}\",\n              \"interval\": \"\
      10s\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"Requested: {{ container }}\",\n              \"metric\": \"kube_pod_container_resource_requests_cpu_cores\"\
      ,\n              \"refId\": \"B\",\n              \"step\": 20\n           \
      \ },\n            {\n              \"expr\": \"kube_pod_container_resource_limits_cpu_cores{pod=\\\
      \"$pod\\\", container=~\\\"$container\\\"}\",\n              \"interval\": \"\
      10s\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"Limit: {{ container }}\",\n              \"metric\": \"kube_pod_container_resource_limits_memory_bytes\"\
      ,\n              \"refId\": \"C\",\n              \"step\": 20\n           \
      \ }\n          ],\n          \"title\": \"CPU Usage\",\n          \"tooltip\"\
      : {\n            \"msResolution\": true,\n            \"shared\": true,\n  \
      \          \"sort\": 0,\n            \"value_type\": \"cumulative\"\n      \
      \    },\n          \"type\": \"graph\",\n          \"xaxis\": {\n          \
      \  \"mode\": \"time\",\n            \"show\": true,\n            \"values\"\
      : []\n          },\n          \"yaxes\": [\n            {\n              \"\
      format\": \"short\",\n              \"logBase\": 1,\n              \"show\"\
      : true\n            },\n            {\n              \"format\": \"short\",\n\
      \              \"logBase\": 1,\n              \"show\": true\n            }\n\
      \          ]\n        }\n      ],\n      \"showTitle\": false,\n      \"title\"\
      : \"Row\",\n      \"titleSize\": \"h6\"\n    },\n    {\n      \"collapse\":\
      \ false,\n      \"editable\": false,\n      \"height\": \"250px\",\n      \"\
      panels\": [\n        {\n          \"aliasColors\": {},\n          \"bars\":\
      \ false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n    \
      \      \"datasource\": \"prometheus\",\n          \"editable\": false,\n   \
      \       \"error\": false,\n          \"fill\": 1,\n          \"grid\": {\n \
      \           \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n           \
      \ \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n          },\n       \
      \   \"id\": 3,\n          \"isNew\": false,\n          \"legend\": {\n     \
      \       \"alignAsTable\": true,\n            \"avg\": true,\n            \"\
      current\": true,\n            \"hideEmpty\": false,\n            \"hideZero\"\
      : false,\n            \"max\": false,\n            \"min\": false,\n       \
      \     \"rightSide\": true,\n            \"show\": true,\n            \"total\"\
      : false,\n            \"values\": true\n          },\n          \"lines\": true,\n\
      \          \"linewidth\": 2,\n          \"links\": [],\n          \"nullPointMode\"\
      : \"connected\",\n          \"percentage\": false,\n          \"pointradius\"\
      : 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n    \
      \      \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"\
      span\": 12,\n          \"stack\": false,\n          \"steppedLine\": false,\n\
      \          \"targets\": [\n            {\n              \"expr\": \"sort_desc(sum\
      \ by (pod_name) (rate(container_network_receive_bytes_total{pod_name=\\\"$pod\\\
      \"}[1m])))\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"{{ pod_name }}\",\n              \"refId\": \"A\",\n              \"step\"\
      : 30\n            }\n          ],\n          \"title\": \"Network I/O\",\n \
      \         \"tooltip\": {\n            \"msResolution\": true,\n            \"\
      shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"cumulative\"\
      \n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n   \
      \         \"mode\": \"time\",\n            \"show\": true,\n            \"values\"\
      : []\n          },\n          \"yaxes\": [\n            {\n              \"\
      format\": \"bytes\",\n              \"logBase\": 1,\n              \"show\"\
      : true\n            },\n            {\n              \"format\": \"short\",\n\
      \              \"logBase\": 1,\n              \"show\": true\n            }\n\
      \          ]\n        }\n      ],\n      \"showTitle\": false,\n      \"title\"\
      : \"New Row\",\n      \"titleSize\": \"h6\"\n    }\n  ],\n  \"schemaVersion\"\
      : 14,\n  \"sharedCrosshair\": false,\n  \"style\": \"dark\",\n  \"tags\": [],\n\
      \  \"templating\": {\n    \"list\": [\n      {\n        \"allValue\": \".*\"\
      ,\n        \"current\": {},\n        \"datasource\": \"prometheus\",\n     \
      \   \"hide\": 0,\n        \"includeAll\": true,\n        \"label\": \"Namespace\"\
      ,\n        \"multi\": false,\n        \"name\": \"namespace\",\n        \"options\"\
      : [],\n        \"query\": \"label_values(kube_pod_info, namespace)\",\n    \
      \    \"refresh\": 1,\n        \"regex\": \"\",\n        \"sort\": 0,\n     \
      \   \"tagValuesQuery\": \"\",\n        \"tags\": [],\n        \"tagsQuery\"\
      : \"\",\n        \"type\": \"query\",\n        \"useTags\": false\n      },\n\
      \      {\n        \"allValue\": null,\n        \"current\": {},\n        \"\
      datasource\": \"prometheus\",\n        \"hide\": 0,\n        \"includeAll\"\
      : false,\n        \"label\": \"Pod\",\n        \"multi\": false,\n        \"\
      name\": \"pod\",\n        \"options\": [],\n        \"query\": \"label_values(kube_pod_info{namespace=~\\\
      \"$namespace\\\"}, pod)\",\n        \"refresh\": 1,\n        \"regex\": \"\"\
      ,\n        \"sort\": 0,\n        \"tagValuesQuery\": \"\",\n        \"tags\"\
      : [],\n        \"tagsQuery\": \"\",\n        \"type\": \"query\",\n        \"\
      useTags\": false\n      },\n      {\n        \"allValue\": \".*\",\n       \
      \ \"current\": {},\n        \"datasource\": \"prometheus\",\n        \"hide\"\
      : 0,\n        \"includeAll\": true,\n        \"label\": \"Container\",\n   \
      \     \"multi\": false,\n        \"name\": \"container\",\n        \"options\"\
      : [],\n        \"query\": \"label_values(kube_pod_container_info{namespace=\\\
      \"$namespace\\\", pod=\\\"$pod\\\"}, container)\",\n        \"refresh\": 1,\n\
      \        \"regex\": \"\",\n        \"sort\": 0,\n        \"tagValuesQuery\"\
      : \"\",\n        \"tags\": [],\n        \"tagsQuery\": \"\",\n        \"type\"\
      : \"query\",\n        \"useTags\": false\n      }\n    ]\n  },\n  \"time\":\
      \ {\n    \"from\": \"now-6h\",\n    \"to\": \"now\"\n  },\n  \"timepicker\"\
      : {\n    \"refresh_intervals\": [\n      \"5s\",\n      \"10s\",\n      \"30s\"\
      ,\n      \"1m\",\n      \"5m\",\n      \"15m\",\n      \"30m\",\n      \"1h\"\
      ,\n      \"2h\",\n      \"1d\"\n    ],\n    \"time_options\": [\n      \"5m\"\
      ,\n      \"15m\",\n      \"1h\",\n      \"6h\",\n      \"12h\",\n      \"24h\"\
      ,\n      \"2d\",\n      \"7d\",\n      \"30d\"\n    ]\n  },\n  \"timezone\"\
      : \"browser\",\n  \"title\": \"Pods\",\n  \"version\": 1\n}\n"
  kind: ConfigMap
  metadata:
    labels:
      grafana_dashboard: '1'
    name: grafana-dashboard-definition-kubernetes-pods
    namespace: knative-monitoring
- apiVersion: v1
  data:
    kubernetes-statefulset-dashboard.json: "{\n  \"__inputs\": [\n    {\n      \"\
      description\": \"\",\n      \"label\": \"prometheus\",\n      \"name\": \"prometheus\"\
      ,\n      \"pluginId\": \"prometheus\",\n      \"pluginName\": \"Prometheus\"\
      ,\n      \"type\": \"datasource\"\n    }\n  ],\n  \"annotations\": {\n    \"\
      list\": []\n  },\n  \"editable\": false,\n  \"graphTooltip\": 1,\n  \"hideControls\"\
      : false,\n  \"links\": [],\n  \"rows\": [\n    {\n      \"collapse\": false,\n\
      \      \"editable\": false,\n      \"height\": \"200px\",\n      \"panels\"\
      : [\n        {\n          \"colorBackground\": false,\n          \"colorValue\"\
      : false,\n          \"colors\": [\n            \"rgba(245, 54, 54, 0.9)\",\n\
      \            \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(50, 172, 45,\
      \ 0.97)\"\n          ],\n          \"datasource\": \"prometheus\",\n       \
      \   \"editable\": false,\n          \"format\": \"none\",\n          \"gauge\"\
      : {\n            \"maxValue\": 100,\n            \"minValue\": 0,\n        \
      \    \"show\": false,\n            \"thresholdLabels\": false,\n           \
      \ \"thresholdMarkers\": true\n          },\n          \"id\": 8,\n         \
      \ \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfix\": \"cores\",\n          \"postfixFontSize\": \"50%\"\
      ,\n          \"prefix\": \"\",\n          \"prefixFontSize\": \"50%\",\n   \
      \       \"rangeMaps\": [\n            {\n              \"from\": \"null\",\n\
      \              \"text\": \"N/A\",\n              \"to\": \"null\"\n        \
      \    }\n          ],\n          \"span\": 4,\n          \"sparkline\": {\n \
      \           \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n            \"full\"\
      : false,\n            \"lineColor\": \"rgb(31, 120, 193)\",\n            \"\
      show\": true\n          },\n          \"targets\": [\n            {\n      \
      \        \"expr\": \"sum(rate(container_cpu_usage_seconds_total{namespace=\\\
      \"$statefulset_namespace\\\",pod_name=~\\\"$statefulset_name.*\\\"}[3m]))\"\
      ,\n              \"intervalFactor\": 2,\n              \"refId\": \"A\",\n \
      \             \"step\": 600\n            }\n          ],\n          \"title\"\
      : \"CPU\",\n          \"type\": \"singlestat\",\n          \"valueFontSize\"\
      : \"110%\",\n          \"valueMaps\": [\n            {\n              \"op\"\
      : \"=\",\n              \"text\": \"N/A\",\n              \"value\": \"null\"\
      \n            }\n          ],\n          \"valueName\": \"avg\"\n        },\n\
      \        {\n          \"colorBackground\": false,\n          \"colorValue\"\
      : false,\n          \"colors\": [\n            \"rgba(245, 54, 54, 0.9)\",\n\
      \            \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(50, 172, 45,\
      \ 0.97)\"\n          ],\n          \"datasource\": \"prometheus\",\n       \
      \   \"editable\": false,\n          \"format\": \"none\",\n          \"gauge\"\
      : {\n            \"maxValue\": 100,\n            \"minValue\": 0,\n        \
      \    \"show\": false,\n            \"thresholdLabels\": false,\n           \
      \ \"thresholdMarkers\": true\n          },\n          \"id\": 9,\n         \
      \ \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfix\": \"GB\",\n          \"postfixFontSize\": \"50%\",\n\
      \          \"prefix\": \"\",\n          \"prefixFontSize\": \"80%\",\n     \
      \     \"rangeMaps\": [\n            {\n              \"from\": \"null\",\n \
      \             \"text\": \"N/A\",\n              \"to\": \"null\"\n         \
      \   }\n          ],\n          \"span\": 4,\n          \"sparkline\": {\n  \
      \          \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n            \"full\"\
      : false,\n            \"lineColor\": \"rgb(31, 120, 193)\",\n            \"\
      show\": true\n          },\n          \"targets\": [\n            {\n      \
      \        \"expr\": \"sum(container_memory_usage_bytes{namespace=\\\"$statefulset_namespace\\\
      \",pod_name=~\\\"$statefulset_name.*\\\"}) / 1024^3\",\n              \"intervalFactor\"\
      : 2,\n              \"refId\": \"A\",\n              \"step\": 600\n       \
      \     }\n          ],\n          \"title\": \"Memory\",\n          \"type\"\
      : \"singlestat\",\n          \"valueFontSize\": \"110%\",\n          \"valueMaps\"\
      : [\n            {\n              \"op\": \"=\",\n              \"text\": \"\
      N/A\",\n              \"value\": \"null\"\n            }\n          ],\n   \
      \       \"valueName\": \"avg\"\n        },\n        {\n          \"colorBackground\"\
      : false,\n          \"colorValue\": false,\n          \"colors\": [\n      \
      \      \"rgba(245, 54, 54, 0.9)\",\n            \"rgba(237, 129, 40, 0.89)\"\
      ,\n            \"rgba(50, 172, 45, 0.97)\"\n          ],\n          \"datasource\"\
      : \"prometheus\",\n          \"editable\": false,\n          \"format\": \"\
      Bps\",\n          \"gauge\": {\n            \"maxValue\": 100,\n           \
      \ \"minValue\": 0,\n            \"show\": false,\n            \"thresholdLabels\"\
      : false,\n            \"thresholdMarkers\": false\n          },\n          \"\
      id\": 7,\n          \"links\": [],\n          \"mappingType\": 1,\n        \
      \  \"mappingTypes\": [\n            {\n              \"name\": \"value to text\"\
      ,\n              \"value\": 1\n            },\n            {\n             \
      \ \"name\": \"range to text\",\n              \"value\": 2\n            }\n\
      \          ],\n          \"maxDataPoints\": 100,\n          \"nullPointMode\"\
      : \"connected\",\n          \"postfix\": \"\",\n          \"postfixFontSize\"\
      : \"50%\",\n          \"prefix\": \"\",\n          \"prefixFontSize\": \"50%\"\
      ,\n          \"rangeMaps\": [\n            {\n              \"from\": \"null\"\
      ,\n              \"text\": \"N/A\",\n              \"to\": \"null\"\n      \
      \      }\n          ],\n          \"span\": 4,\n          \"sparkline\": {\n\
      \            \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n            \"full\"\
      : false,\n            \"lineColor\": \"rgb(31, 120, 193)\",\n            \"\
      show\": true\n          },\n          \"targets\": [\n            {\n      \
      \        \"expr\": \"sum(rate(container_network_transmit_bytes_total{namespace=\\\
      \"$statefulset_namespace\\\",pod_name=~\\\"$statefulset_name.*\\\"}[3m])) +\
      \ sum(rate(container_network_receive_bytes_total{namespace=\\\"$statefulset_namespace\\\
      \",pod_name=~\\\"$statefulset_name.*\\\"}[3m]))\",\n              \"intervalFactor\"\
      : 2,\n              \"refId\": \"A\",\n              \"step\": 600\n       \
      \     }\n          ],\n          \"title\": \"Network\",\n          \"type\"\
      : \"singlestat\",\n          \"valueFontSize\": \"80%\",\n          \"valueMaps\"\
      : [\n            {\n              \"op\": \"=\",\n              \"text\": \"\
      N/A\",\n              \"value\": \"null\"\n            }\n          ],\n   \
      \       \"valueName\": \"avg\"\n        }\n      ],\n      \"showTitle\": false,\n\
      \      \"title\": \"Dashboard Row\",\n      \"titleSize\": \"h6\"\n    },\n\
      \    {\n      \"collapse\": false,\n      \"editable\": false,\n      \"height\"\
      : \"100px\",\n      \"panels\": [\n        {\n          \"colorBackground\"\
      : false,\n          \"colorValue\": false,\n          \"colors\": [\n      \
      \      \"rgba(245, 54, 54, 0.9)\",\n            \"rgba(237, 129, 40, 0.89)\"\
      ,\n            \"rgba(50, 172, 45, 0.97)\"\n          ],\n          \"datasource\"\
      : \"prometheus\",\n          \"editable\": false,\n          \"format\": \"\
      none\",\n          \"gauge\": {\n            \"maxValue\": 100,\n          \
      \  \"minValue\": 0,\n            \"show\": false,\n            \"thresholdLabels\"\
      : false,\n            \"thresholdMarkers\": false\n          },\n          \"\
      id\": 5,\n          \"links\": [],\n          \"mappingType\": 1,\n        \
      \  \"mappingTypes\": [\n            {\n              \"name\": \"value to text\"\
      ,\n              \"value\": 1\n            },\n            {\n             \
      \ \"name\": \"range to text\",\n              \"value\": 2\n            }\n\
      \          ],\n          \"maxDataPoints\": 100,\n          \"nullPointMode\"\
      : \"connected\",\n          \"postfixFontSize\": \"50%\",\n          \"prefix\"\
      : \"\",\n          \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n\
      \            {\n              \"from\": \"null\",\n              \"text\": \"\
      N/A\",\n              \"to\": \"null\"\n            }\n          ],\n      \
      \    \"span\": 3,\n          \"sparkline\": {\n            \"fillColor\": \"\
      rgba(31, 118, 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\"\
      : \"rgb(31, 120, 193)\",\n            \"show\": false\n          },\n      \
      \    \"targets\": [\n            {\n              \"expr\": \"max(kube_statefulset_replicas{statefulset=\\\
      \"$statefulset_name\\\",namespace=\\\"$statefulset_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"metric\": \"\
      kube_statefulset_replicas\",\n              \"refId\": \"A\",\n            \
      \  \"step\": 600\n            }\n          ],\n          \"title\": \"Desired\
      \ Replicas\",\n          \"type\": \"singlestat\",\n          \"valueFontSize\"\
      : \"80%\",\n          \"valueMaps\": [\n            {\n              \"op\"\
      : \"=\",\n              \"text\": \"N/A\",\n              \"value\": \"null\"\
      \n            }\n          ],\n          \"valueName\": \"avg\"\n        },\n\
      \        {\n          \"colorBackground\": false,\n          \"colorValue\"\
      : false,\n          \"colors\": [\n            \"rgba(245, 54, 54, 0.9)\",\n\
      \            \"rgba(237, 129, 40, 0.89)\",\n            \"rgba(50, 172, 45,\
      \ 0.97)\"\n          ],\n          \"datasource\": \"prometheus\",\n       \
      \   \"editable\": false,\n          \"format\": \"none\",\n          \"gauge\"\
      : {\n            \"maxValue\": 100,\n            \"minValue\": 0,\n        \
      \    \"show\": false,\n            \"thresholdLabels\": false,\n           \
      \ \"thresholdMarkers\": true\n          },\n          \"id\": 6,\n         \
      \ \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n  \
      \        \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n        \
      \    {\n              \"from\": \"null\",\n              \"text\": \"N/A\",\n\
      \              \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"min(kube_statefulset_status_replicas{statefulset=\\\
      \"$statefulset_name\\\",namespace=\\\"$statefulset_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"refId\": \"\
      A\",\n              \"step\": 600\n            }\n          ],\n          \"\
      title\": \"Available Replicas\",\n          \"type\": \"singlestat\",\n    \
      \      \"valueFontSize\": \"80%\",\n          \"valueMaps\": [\n           \
      \ {\n              \"op\": \"=\",\n              \"text\": \"N/A\",\n      \
      \        \"value\": \"null\"\n            }\n          ],\n          \"valueName\"\
      : \"avg\"\n        },\n        {\n          \"colorBackground\": false,\n  \
      \        \"colorValue\": false,\n          \"colors\": [\n            \"rgba(245,\
      \ 54, 54, 0.9)\",\n            \"rgba(237, 129, 40, 0.89)\",\n            \"\
      rgba(50, 172, 45, 0.97)\"\n          ],\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"format\": \"none\",\n       \
      \   \"gauge\": {\n            \"maxValue\": 100,\n            \"minValue\":\
      \ 0,\n            \"show\": false,\n            \"thresholdLabels\": false,\n\
      \            \"thresholdMarkers\": true\n          },\n          \"id\": 3,\n\
      \          \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n  \
      \        \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n        \
      \    {\n              \"from\": \"null\",\n              \"text\": \"N/A\",\n\
      \              \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"max(kube_statefulset_status_observed_generation{statefulset=\\\
      \"$statefulset_name\\\",namespace=\\\"$statefulset_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"refId\": \"\
      A\",\n              \"step\": 600\n            }\n          ],\n          \"\
      title\": \"Observed Generation\",\n          \"type\": \"singlestat\",\n   \
      \       \"valueFontSize\": \"80%\",\n          \"valueMaps\": [\n          \
      \  {\n              \"op\": \"=\",\n              \"text\": \"N/A\",\n     \
      \         \"value\": \"null\"\n            }\n          ],\n          \"valueName\"\
      : \"avg\"\n        },\n        {\n          \"colorBackground\": false,\n  \
      \        \"colorValue\": false,\n          \"colors\": [\n            \"rgba(245,\
      \ 54, 54, 0.9)\",\n            \"rgba(237, 129, 40, 0.89)\",\n            \"\
      rgba(50, 172, 45, 0.97)\"\n          ],\n          \"datasource\": \"prometheus\"\
      ,\n          \"editable\": false,\n          \"format\": \"none\",\n       \
      \   \"gauge\": {\n            \"maxValue\": 100,\n            \"minValue\":\
      \ 0,\n            \"show\": false,\n            \"thresholdLabels\": false,\n\
      \            \"thresholdMarkers\": true\n          },\n          \"id\": 2,\n\
      \          \"links\": [],\n          \"mappingType\": 1,\n          \"mappingTypes\"\
      : [\n            {\n              \"name\": \"value to text\",\n           \
      \   \"value\": 1\n            },\n            {\n              \"name\": \"\
      range to text\",\n              \"value\": 2\n            }\n          ],\n\
      \          \"maxDataPoints\": 100,\n          \"nullPointMode\": \"connected\"\
      ,\n          \"postfixFontSize\": \"50%\",\n          \"prefix\": \"\",\n  \
      \        \"prefixFontSize\": \"50%\",\n          \"rangeMaps\": [\n        \
      \    {\n              \"from\": \"null\",\n              \"text\": \"N/A\",\n\
      \              \"to\": \"null\"\n            }\n          ],\n          \"span\"\
      : 3,\n          \"sparkline\": {\n            \"fillColor\": \"rgba(31, 118,\
      \ 189, 0.18)\",\n            \"full\": false,\n            \"lineColor\": \"\
      rgb(31, 120, 193)\",\n            \"show\": false\n          },\n          \"\
      targets\": [\n            {\n              \"expr\": \"max(kube_statefulset_metadata_generation{statefulset=\\\
      \"$statefulset_name\\\",namespace=\\\"$statefulset_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"refId\": \"\
      A\",\n              \"step\": 600\n            }\n          ],\n          \"\
      title\": \"Metadata Generation\",\n          \"type\": \"singlestat\",\n   \
      \       \"valueFontSize\": \"80%\",\n          \"valueMaps\": [\n          \
      \  {\n              \"op\": \"=\",\n              \"text\": \"N/A\",\n     \
      \         \"value\": \"null\"\n            }\n          ],\n          \"valueName\"\
      : \"avg\"\n        }\n      ],\n      \"showTitle\": false,\n      \"title\"\
      : \"Dashboard Row\",\n      \"titleSize\": \"h6\"\n    },\n    {\n      \"collapse\"\
      : false,\n      \"editable\": false,\n      \"height\": \"350px\",\n      \"\
      panels\": [\n        {\n          \"aliasColors\": {},\n          \"bars\":\
      \ false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n    \
      \      \"datasource\": \"prometheus\",\n          \"editable\": false,\n   \
      \       \"error\": false,\n          \"fill\": 1,\n          \"grid\": {\n \
      \           \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n           \
      \ \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n          },\n       \
      \   \"id\": 1,\n          \"isNew\": true,\n          \"legend\": {\n      \
      \      \"alignAsTable\": false,\n            \"avg\": false,\n            \"\
      current\": false,\n            \"hideEmpty\": false,\n            \"hideZero\"\
      : false,\n            \"max\": false,\n            \"min\": false,\n       \
      \     \"rightSide\": false,\n            \"show\": true,\n            \"total\"\
      : false\n          },\n          \"lines\": true,\n          \"linewidth\":\
      \ 2,\n          \"links\": [],\n          \"nullPointMode\": \"connected\",\n\
      \          \"percentage\": false,\n          \"pointradius\": 5,\n         \
      \ \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\"\
      : [],\n          \"spaceLength\": 10,\n          \"span\": 12,\n          \"\
      stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n\
      \            {\n              \"expr\": \"min(kube_statefulset_status_replicas{statefulset=\\\
      \"$statefulset_name\\\",namespace=\\\"$statefulset_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"available\",\n              \"refId\": \"B\",\n              \"step\": 30\n\
      \            },\n            {\n              \"expr\": \"max(kube_statefulset_replicas{statefulset=\\\
      \"$statefulset_name\\\",namespace=\\\"$statefulset_namespace\\\"}) without (instance,\
      \ pod)\",\n              \"intervalFactor\": 2,\n              \"legendFormat\"\
      : \"desired\",\n              \"refId\": \"E\",\n              \"step\": 30\n\
      \            }\n          ],\n          \"title\": \"Replicas\",\n         \
      \ \"tooltip\": {\n            \"msResolution\": true,\n            \"shared\"\
      : true,\n            \"sort\": 0,\n            \"value_type\": \"cumulative\"\
      \n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n   \
      \         \"mode\": \"time\",\n            \"show\": true,\n            \"values\"\
      : []\n          },\n          \"yaxes\": [\n            {\n              \"\
      format\": \"none\",\n              \"label\": \"\",\n              \"logBase\"\
      : 1,\n              \"show\": true\n            },\n            {\n        \
      \      \"format\": \"short\",\n              \"label\": \"\",\n            \
      \  \"logBase\": 1,\n              \"show\": false\n            }\n         \
      \ ]\n        }\n      ],\n      \"showTitle\": false,\n      \"title\": \"Dashboard\
      \ Row\",\n      \"titleSize\": \"h6\"\n    }\n  ],\n  \"schemaVersion\": 14,\n\
      \  \"sharedCrosshair\": false,\n  \"style\": \"dark\",\n  \"tags\": [],\n  \"\
      templating\": {\n    \"list\": [\n      {\n        \"allValue\": \".*\",\n \
      \       \"current\": {},\n        \"datasource\": \"prometheus\",\n        \"\
      hide\": 0,\n        \"includeAll\": false,\n        \"label\": \"Namespace\"\
      ,\n        \"multi\": false,\n        \"name\": \"statefulset_namespace\",\n\
      \        \"options\": [],\n        \"query\": \"label_values(kube_statefulset_metadata_generation,\
      \ namespace)\",\n        \"refresh\": 1,\n        \"regex\": \"\",\n       \
      \ \"sort\": 0,\n        \"tagValuesQuery\": null,\n        \"tags\": [],\n \
      \       \"tagsQuery\": \"\",\n        \"type\": \"query\",\n        \"useTags\"\
      : false\n      },\n      {\n        \"allValue\": null,\n        \"current\"\
      : {},\n        \"datasource\": \"prometheus\",\n        \"hide\": 0,\n     \
      \   \"includeAll\": false,\n        \"label\": \"StatefulSet\",\n        \"\
      multi\": false,\n        \"name\": \"statefulset_name\",\n        \"options\"\
      : [],\n        \"query\": \"label_values(kube_statefulset_metadata_generation{namespace=\\\
      \"$statefulset_namespace\\\"}, statefulset)\",\n        \"refresh\": 1,\n  \
      \      \"regex\": \"\",\n        \"sort\": 0,\n        \"tagValuesQuery\": \"\
      \",\n        \"tags\": [],\n        \"tagsQuery\": \"statefulset\",\n      \
      \  \"type\": \"query\",\n        \"useTags\": false\n      }\n    ]\n  },\n\
      \  \"time\": {\n    \"from\": \"now-6h\",\n    \"to\": \"now\"\n  },\n  \"timepicker\"\
      : {\n    \"refresh_intervals\": [\n      \"5s\",\n      \"10s\",\n      \"30s\"\
      ,\n      \"1m\",\n      \"5m\",\n      \"15m\",\n      \"30m\",\n      \"1h\"\
      ,\n      \"2h\",\n      \"1d\"\n    ],\n    \"time_options\": [\n      \"5m\"\
      ,\n      \"15m\",\n      \"1h\",\n      \"6h\",\n      \"12h\",\n      \"24h\"\
      ,\n      \"2d\",\n      \"7d\",\n      \"30d\"\n    ]\n  },\n  \"timezone\"\
      : \"browser\",\n  \"title\": \"StatefulSet\",\n  \"version\": 1\n}\n"
  kind: ConfigMap
  metadata:
    labels:
      grafana_dashboard: '1'
    name: grafana-dashboard-definition-kubernetes-statefulset
    namespace: knative-monitoring
- apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRole
  metadata:
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: elasticsearch-logging
      kubernetes.io/cluster-service: 'true'
    name: elasticsearch-logging
  rules:
  - apiGroups:
    - ''
    resources:
    - services
    - namespaces
    - endpoints
    verbs:
    - get
- apiVersion: v1
  kind: ServiceAccount
  metadata:
    labels:
    name: node-exporter
    namespace: knative-monitoring
- apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRole
  metadata:
    labels:
    name: node-exporter
    namespace: knative-monitoring
  rules:
  - apiGroups:
    - authentication.k8s.io
    resources:
    - tokenreviews
    verbs:
    - create
  - apiGroups:
    - authorization.k8s.io
    resources:
    - subjectaccessreviews
    verbs:
    - create
- apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRoleBinding
  metadata:
    labels:
    name: node-exporter
    namespace: knative-monitoring
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: ClusterRole
    name: node-exporter
  subjects:
  - kind: ServiceAccount
    name: node-exporter
    namespace: knative-monitoring
- apiVersion: extensions/v1beta1
  kind: DaemonSet
  metadata:
    labels:
    name: node-exporter
    namespace: knative-monitoring
  spec:
    template:
      metadata:
        labels:
          app: node-exporter
        name: node-exporter
        namespace: knative-monitoring
      spec:
        containers:
        - args:
          - --web.listen-address=127.0.0.1:9101
          - --path.procfs=/host/proc
          - --path.sysfs=/host/sys
          image: quay.io/prometheus/node-exporter:v0.15.2
          name: node-exporter
          resources:
            limits:
              cpu: 200m
              memory: 50Mi
            requests:
              cpu: 100m
              memory: 30Mi
          volumeMounts:
          - mountPath: /host/proc
            name: proc
            readOnly: true
          - mountPath: /host/sys
            name: sys
            readOnly: true
        - args:
          - --secure-listen-address=:9100
          - --upstream=http://127.0.0.1:9101/
          image: quay.io/coreos/kube-rbac-proxy:v0.3.0
          name: kube-rbac-proxy
          ports:
          - containerPort: 9100
            hostPort: 9100
            name: https
          resources:
            limits:
              cpu: 20m
              memory: 40Mi
            requests:
              cpu: 10m
              memory: 20Mi
        hostNetwork: true
        hostPID: true
        securityContext:
          runAsNonRoot: true
          runAsUser: 65534
        serviceAccountName: node-exporter
        tolerations:
        - effect: NoSchedule
          operator: Exists
        volumes:
        - hostPath:
            path: /proc
          name: proc
        - hostPath:
            path: /sys
          name: sys
    updateStrategy:
      rollingUpdate:
        maxUnavailable: 1
      type: RollingUpdate
- apiVersion: v1
  kind: Service
  metadata:
    labels:
      app: node-exporter
    name: node-exporter
    namespace: knative-monitoring
  spec:
    clusterIP: None
    ports:
    - name: https
      port: 9100
      protocol: TCP
    selector:
      app: node-exporter
    type: ClusterIP
- apiVersion: v1
  data:
    knative-control-plane-efficiency-dashboard.json: "{\n  \"__inputs\": [\n    {\n\
      \      \"description\": \"\",\n      \"label\": \"prometheus\",\n      \"name\"\
      : \"prometheus\",\n      \"pluginId\": \"prometheus\",\n      \"pluginName\"\
      : \"Prometheus\",\n      \"type\": \"datasource\"\n    }\n  ],\n  \"annotations\"\
      : {\n    \"list\": []\n  },\n  \"description\": \"Knative Serving - Control\
      \ Plane Efficiency\",\n  \"editable\": false,\n  \"gnetId\": null,\n  \"graphTooltip\"\
      : 0,\n  \"id\": null,\n  \"links\": [],\n  \"panels\": [\n    {\n      \"aliasColors\"\
      : {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\":\
      \ false,\n      \"datasource\": \"prometheus\",\n      \"decimals\": 2,\n  \
      \    \"fill\": 1,\n      \"gridPos\": {\n        \"h\": 9,\n        \"w\": 12,\n\
      \        \"x\": 0,\n        \"y\": 0\n      },\n      \"id\": 2,\n      \"legend\"\
      : {\n        \"alignAsTable\": true,\n        \"avg\": true,\n        \"current\"\
      : true,\n        \"max\": false,\n        \"min\": false,\n        \"rightSide\"\
      : true,\n        \"show\": true,\n        \"total\": false,\n        \"values\"\
      : true\n      },\n      \"lines\": true,\n      \"linewidth\": 1,\n      \"\
      links\": [],\n      \"nullPointMode\": \"null\",\n      \"percentage\": false,\n\
      \      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"\
      flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"\
      stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n     \
      \   {\n          \"expr\": \"sum(rate(container_cpu_usage_seconds_total{namespace=\\\
      \"knative-serving\\\"}[1m]))\",\n          \"format\": \"time_series\",\n  \
      \        \"intervalFactor\": 1,\n          \"legendFormat\": \"knative-serving\"\
      ,\n          \"refId\": \"A\"\n        },\n        {\n          \"expr\": \"\
      sum(rate(container_cpu_usage_seconds_total{namespace=\\\"knative-build\\\"}[1m]))\"\
      ,\n          \"format\": \"time_series\",\n          \"instant\": false,\n \
      \         \"interval\": \"\",\n          \"intervalFactor\": 1,\n          \"\
      legendFormat\": \"knative-build\",\n          \"refId\": \"C\"\n        },\n\
      \        {\n          \"expr\": \"sum(rate(container_cpu_usage_seconds_total{namespace=\\\
      \"istio-system\\\"}[1m]))\",\n          \"format\": \"time_series\",\n     \
      \     \"instant\": false,\n          \"interval\": \"\",\n          \"intervalFactor\"\
      : 1,\n          \"legendFormat\": \"istio-system\",\n          \"refId\": \"\
      D\"\n        },\n        {\n          \"expr\": \"sum(rate(container_cpu_usage_seconds_total{namespace=\\\
      \"kube-system\\\"}[1m]))\",\n          \"format\": \"time_series\",\n      \
      \    \"instant\": false,\n          \"intervalFactor\": 1,\n          \"legendFormat\"\
      : \"kube-system\",\n          \"refId\": \"F\"\n        },\n        {\n    \
      \      \"expr\": \"sum(rate(container_cpu_usage_seconds_total{namespace=\\\"\
      kube-public\\\"}[1m]))\",\n          \"format\": \"time_series\",\n        \
      \  \"instant\": false,\n          \"intervalFactor\": 1,\n          \"legendFormat\"\
      : \"kube-public\",\n          \"refId\": \"E\"\n        },\n        {\n    \
      \      \"expr\": \"sum(rate(container_cpu_usage_seconds_total{namespace=\\\"\
      knative-monitoring\\\"}[1m]))\",\n          \"format\": \"time_series\",\n \
      \         \"instant\": false,\n          \"intervalFactor\": 1,\n          \"\
      legendFormat\": \"knative-monitoring\",\n          \"refId\": \"B\"\n      \
      \  }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n     \
      \ \"timeShift\": null,\n      \"title\": \"Namespace CPU Usage\",\n      \"\
      tooltip\": {\n        \"shared\": true,\n        \"sort\": 2,\n        \"value_type\"\
      : \"individual\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n\
      \        \"buckets\": null,\n        \"mode\": \"time\",\n        \"name\":\
      \ null,\n        \"show\": true,\n        \"values\": []\n      },\n      \"\
      yaxes\": [\n        {\n          \"format\": \"short\",\n          \"label\"\
      : null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\"\
      : null,\n          \"show\": true\n        },\n        {\n          \"format\"\
      : \"short\",\n          \"label\": null,\n          \"logBase\": 1,\n      \
      \    \"max\": null,\n          \"min\": null,\n          \"show\": true\n  \
      \      }\n      ]\n    },\n    {\n      \"aliasColors\": {},\n      \"bars\"\
      : false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\"\
      : \"prometheus\",\n      \"decimals\": null,\n      \"fill\": 1,\n      \"gridPos\"\
      : {\n        \"h\": 9,\n        \"w\": 12,\n        \"x\": 12,\n        \"y\"\
      : 0\n      },\n      \"id\": 3,\n      \"legend\": {\n        \"alignAsTable\"\
      : true,\n        \"avg\": true,\n        \"current\": true,\n        \"max\"\
      : false,\n        \"min\": false,\n        \"rightSide\": true,\n        \"\
      show\": true,\n        \"total\": false,\n        \"values\": true\n      },\n\
      \      \"lines\": true,\n      \"linewidth\": 1,\n      \"links\": [],\n   \
      \   \"nullPointMode\": \"null\",\n      \"percentage\": false,\n      \"pointradius\"\
      : 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\"\
      : [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\"\
      : false,\n      \"targets\": [\n        {\n          \"expr\": \"sum(container_memory_usage_bytes{namespace=\\\
      \"knative-serving\\\"})\",\n          \"format\": \"time_series\",\n       \
      \   \"intervalFactor\": 1,\n          \"legendFormat\": \"knative-serving\"\
      ,\n          \"refId\": \"A\"\n        },\n        {\n          \"expr\": \"\
      sum(container_memory_usage_bytes{namespace=\\\"knative-build\\\"})\",\n    \
      \      \"format\": \"time_series\",\n          \"instant\": false,\n       \
      \   \"interval\": \"\",\n          \"intervalFactor\": 1,\n          \"legendFormat\"\
      : \"knative-build\",\n          \"refId\": \"C\"\n        },\n        {\n  \
      \        \"expr\": \"sum(container_memory_usage_bytes{namespace=\\\"istio-system\\\
      \"})\",\n          \"format\": \"time_series\",\n          \"instant\": false,\n\
      \          \"interval\": \"\",\n          \"intervalFactor\": 1,\n         \
      \ \"legendFormat\": \"istio-system\",\n          \"refId\": \"D\"\n        },\n\
      \        {\n          \"expr\": \"sum(container_memory_usage_bytes{namespace=\\\
      \"kube-system\\\"})\",\n          \"format\": \"time_series\",\n          \"\
      instant\": false,\n          \"intervalFactor\": 1,\n          \"legendFormat\"\
      : \"kube-system\",\n          \"refId\": \"F\"\n        },\n        {\n    \
      \      \"expr\": \"sum(container_memory_usage_bytes{namespace=\\\"kube-public\\\
      \"})\",\n          \"format\": \"time_series\",\n          \"instant\": false,\n\
      \          \"intervalFactor\": 1,\n          \"legendFormat\": \"kube-public\"\
      ,\n          \"refId\": \"E\"\n        },\n        {\n          \"expr\": \"\
      sum(container_memory_usage_bytes{namespace=\\\"knative-monitoring\\\"})\",\n\
      \          \"format\": \"time_series\",\n          \"instant\": false,\n   \
      \       \"intervalFactor\": 1,\n          \"legendFormat\": \"knative-monitoring\"\
      ,\n          \"refId\": \"B\"\n        }\n      ],\n      \"thresholds\": [],\n\
      \      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"\
      Namespace Memory Usage\",\n      \"tooltip\": {\n        \"shared\": true,\n\
      \        \"sort\": 2,\n        \"value_type\": \"individual\"\n      },\n  \
      \    \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n\
      \        \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n\
      \        \"values\": []\n      },\n      \"yaxes\": [\n        {\n         \
      \ \"format\": \"decbytes\",\n          \"label\": null,\n          \"logBase\"\
      : 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\"\
      : true\n        },\n        {\n          \"format\": \"short\",\n          \"\
      label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n      \
      \    \"min\": null,\n          \"show\": false\n        }\n      ]\n    },\n\
      \    {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\"\
      : 10,\n      \"dashes\": false,\n      \"datasource\": \"prometheus\",\n   \
      \   \"decimals\": 2,\n      \"fill\": 1,\n      \"gridPos\": {\n        \"h\"\
      : 9,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 9\n      },\n  \
      \    \"id\": 4,\n      \"legend\": {\n        \"alignAsTable\": true,\n    \
      \    \"avg\": true,\n        \"current\": true,\n        \"max\": false,\n \
      \       \"min\": false,\n        \"rightSide\": true,\n        \"show\": true,\n\
      \        \"total\": false,\n        \"values\": true\n      },\n      \"lines\"\
      : true,\n      \"linewidth\": 1,\n      \"links\": [],\n      \"nullPointMode\"\
      : \"null\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n     \
      \ \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\"\
      : [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\"\
      : false,\n      \"targets\": [\n        {\n          \"expr\": \"sum(rate(container_cpu_usage_seconds_total{namespace!~\\\
      \"knative-serving|knative-monitoring|knative-build|istio-system|kube-system|kube-public|^$\\\
      \"}[1m]))\",\n          \"format\": \"time_series\",\n          \"interval\"\
      : \"\",\n          \"intervalFactor\": 1,\n          \"legendFormat\": \"Data\
      \ plane\",\n          \"refId\": \"A\"\n        },\n        {\n          \"\
      expr\": \"sum(rate(container_cpu_usage_seconds_total{namespace=~\\\"knative-serving|knative-monitoring|knative-build|istio-system|kube-system|kube-public\\\
      \"}[1m]))\",\n          \"format\": \"time_series\",\n          \"intervalFactor\"\
      : 1,\n          \"legendFormat\": \"Control plane\",\n          \"refId\": \"\
      B\"\n        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n\
      \      \"timeShift\": null,\n      \"title\": \"Control Plane vs Data Plane\
      \ CPU Usage\",\n      \"tooltip\": {\n        \"shared\": true,\n        \"\
      sort\": 2,\n        \"value_type\": \"individual\"\n      },\n      \"type\"\
      : \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\"\
      : \"time\",\n        \"name\": null,\n        \"show\": true,\n        \"values\"\
      : []\n      },\n      \"yaxes\": [\n        {\n          \"decimals\": null,\n\
      \          \"format\": \"short\",\n          \"label\": null,\n          \"\
      logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n        \
      \  \"show\": true\n        },\n        {\n          \"format\": \"short\",\n\
      \          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n\
      \          \"min\": null,\n          \"show\": false\n        }\n      ]\n \
      \   },\n    {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"\
      dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"prometheus\"\
      ,\n      \"fill\": 1,\n      \"gridPos\": {\n        \"h\": 9,\n        \"w\"\
      : 12,\n        \"x\": 12,\n        \"y\": 9\n      },\n      \"id\": 5,\n  \
      \    \"legend\": {\n        \"alignAsTable\": true,\n        \"avg\": true,\n\
      \        \"current\": true,\n        \"max\": false,\n        \"min\": false,\n\
      \        \"rightSide\": true,\n        \"show\": true,\n        \"total\": false,\n\
      \        \"values\": true\n      },\n      \"lines\": true,\n      \"linewidth\"\
      : 1,\n      \"links\": [],\n      \"nullPointMode\": \"null\",\n      \"percentage\"\
      : false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\"\
      : \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n  \
      \    \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n\
      \        {\n          \"expr\": \"sum(container_memory_usage_bytes{namespace!~\\\
      \"knative-serving|knative-monitoring|knative-build|istio-system|kube-system|kube-public|^$\\\
      \"})\",\n          \"format\": \"time_series\",\n          \"interval\": \"\"\
      ,\n          \"intervalFactor\": 1,\n          \"legendFormat\": \"Data plane\"\
      ,\n          \"refId\": \"A\"\n        },\n        {\n          \"expr\": \"\
      sum(container_memory_usage_bytes{namespace=~\\\"knative-serving|knative-monitoring|knative-build|istio-system|kube-system|kube-public\\\
      \"})\",\n          \"format\": \"time_series\",\n          \"intervalFactor\"\
      : 1,\n          \"legendFormat\": \"Control plane\",\n          \"refId\": \"\
      B\"\n        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n\
      \      \"timeShift\": null,\n      \"title\": \"Control Plane vs Data Plane\
      \ Memory Usage\",\n      \"tooltip\": {\n        \"shared\": true,\n       \
      \ \"sort\": 2,\n        \"value_type\": \"individual\"\n      },\n      \"type\"\
      : \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\"\
      : \"time\",\n        \"name\": null,\n        \"show\": true,\n        \"values\"\
      : []\n      },\n      \"yaxes\": [\n        {\n          \"format\": \"decbytes\"\
      ,\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\"\
      : null,\n          \"min\": null,\n          \"show\": true\n        },\n  \
      \      {\n          \"format\": \"short\",\n          \"label\": null,\n   \
      \       \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n\
      \          \"show\": true\n        }\n      ]\n    }\n  ],\n  \"refresh\": \"\
      5s\",\n  \"schemaVersion\": 16,\n  \"style\": \"dark\",\n  \"tags\": [],\n \
      \ \"templating\": {\n    \"list\": []\n  },\n  \"time\": {\n    \"from\": \"\
      now-15m\",\n    \"to\": \"now\"\n  },\n  \"timepicker\": {\n    \"refresh_intervals\"\
      : [\n      \"5s\",\n      \"10s\",\n      \"30s\",\n      \"1m\",\n      \"\
      5m\",\n      \"15m\",\n      \"30m\",\n      \"1h\",\n      \"2h\",\n      \"\
      1d\"\n    ],\n    \"time_options\": [\n      \"5m\",\n      \"15m\",\n     \
      \ \"1h\",\n      \"6h\",\n      \"12h\",\n      \"24h\",\n      \"2d\",\n  \
      \    \"7d\",\n      \"30d\"\n    ]\n  },\n  \"timezone\": \"\",\n  \"title\"\
      : \"Knative Serving - Control Plane Efficiency\",\n  \"uid\": \"1oI1URnik\"\
      ,\n  \"version\": 2\n}\n"
  kind: ConfigMap
  metadata:
    labels:
      grafana_dashboard: '1'
      serving.knative.dev/release: v0.8.1
    name: grafana-dashboard-definition-knative-efficiency
    namespace: knative-monitoring
- apiVersion: v1
  data:
    knative-reconciler-dashboard.json: "{\n  \"__inputs\": [\n    {\n      \"description\"\
      : \"\",\n      \"label\": \"prometheus\",\n      \"name\": \"prometheus\",\n\
      \      \"pluginId\": \"prometheus\",\n      \"pluginName\": \"Prometheus\",\n\
      \      \"type\": \"datasource\"\n    }\n  ],\n  \"annotations\": {\n    \"list\"\
      : []\n  },\n  \"description\": \"Knative Serving - Reconciler\",\n  \"editable\"\
      : false,\n  \"gnetId\": null,\n  \"graphTooltip\": 0,\n  \"id\": null,\n  \"\
      links\": [],\n  \"panels\": [\n    {\n      \"collapsed\": false,\n      \"\
      gridPos\": {\n        \"h\": 1,\n        \"w\": 24,\n        \"x\": 0,\n   \
      \     \"y\": 0\n      },\n      \"id\": 7,\n      \"panels\": [],\n      \"\
      title\": \"Aggregate\",\n      \"type\": \"row\"\n    },\n    {\n      \"aliasColors\"\
      : {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\":\
      \ false,\n      \"datasource\": \"prometheus\",\n      \"fill\": 1,\n      \"\
      gridPos\": {\n        \"h\": 9,\n        \"w\": 12,\n        \"x\": 0,\n   \
      \     \"y\": 1\n      },\n      \"id\": 10,\n      \"legend\": {\n        \"\
      alignAsTable\": false,\n        \"avg\": false,\n        \"current\": false,\n\
      \        \"hideEmpty\": true,\n        \"hideZero\": false,\n        \"max\"\
      : false,\n        \"min\": false,\n        \"rightSide\": false,\n        \"\
      show\": true,\n        \"total\": false,\n        \"values\": false\n      },\n\
      \      \"lines\": true,\n      \"linewidth\": 1,\n      \"links\": [],\n   \
      \   \"nullPointMode\": \"null\",\n      \"percentage\": false,\n      \"pointradius\"\
      : 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\"\
      : [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\"\
      : true,\n      \"targets\": [\n        {\n          \"expr\": \"sum by (reconciler)(60\
      \ * rate(controller_reconcile_count[1m]))\",\n          \"format\": \"time_series\"\
      ,\n          \"instant\": false,\n          \"interval\": \"\",\n          \"\
      intervalFactor\": 1,\n          \"legendFormat\": \"{{reconciler}}\",\n    \
      \      \"refId\": \"A\"\n        }\n      ],\n      \"thresholds\": [],\n  \
      \    \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Reconcile\
      \ Count (per min)\",\n      \"tooltip\": {\n        \"shared\": true,\n    \
      \    \"sort\": 0,\n        \"value_type\": \"individual\"\n      },\n      \"\
      type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n       \
      \ \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n  \
      \      \"values\": []\n      },\n      \"yaxes\": [\n        {\n          \"\
      format\": \"short\",\n          \"label\": null,\n          \"logBase\": 1,\n\
      \          \"max\": null,\n          \"min\": null,\n          \"show\": true\n\
      \        },\n        {\n          \"format\": \"short\",\n          \"label\"\
      : null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\"\
      : null,\n          \"show\": true\n        }\n      ]\n    },\n    {\n     \
      \ \"collapsed\": false,\n      \"gridPos\": {\n        \"h\": 1,\n        \"\
      w\": 24,\n        \"x\": 0,\n        \"y\": 10\n      },\n      \"id\": 5,\n\
      \      \"panels\": [],\n      \"title\": \"Per Reconciler\",\n      \"type\"\
      : \"row\"\n    },\n    {\n      \"aliasColors\": {},\n      \"bars\": false,\n\
      \      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\":\
      \ \"prometheus\",\n      \"fill\": 1,\n      \"gridPos\": {\n        \"h\":\
      \ 9,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 11\n      },\n \
      \     \"id\": 2,\n      \"legend\": {\n        \"alignAsTable\": false,\n  \
      \      \"avg\": false,\n        \"current\": false,\n        \"hideEmpty\":\
      \ true,\n        \"hideZero\": false,\n        \"max\": false,\n        \"min\"\
      : false,\n        \"rightSide\": false,\n        \"show\": false,\n        \"\
      total\": false,\n        \"values\": false\n      },\n      \"lines\": true,\n\
      \      \"linewidth\": 1,\n      \"links\": [],\n      \"nullPointMode\": \"\
      null\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\"\
      : false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n  \
      \    \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": true,\n\
      \      \"targets\": [\n        {\n          \"expr\": \"sum(60 * rate(controller_reconcile_count{reconciler=\\\
      \"$reconciler\\\"}[1m]))\",\n          \"format\": \"time_series\",\n      \
      \    \"instant\": false,\n          \"interval\": \"\",\n          \"intervalFactor\"\
      : 1,\n          \"legendFormat\": \"{{reconciler}}\",\n          \"refId\":\
      \ \"A\"\n        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\"\
      : null,\n      \"timeShift\": null,\n      \"title\": \"$reconciler Reconcile\
      \ Count (per min)\",\n      \"tooltip\": {\n        \"shared\": true,\n    \
      \    \"sort\": 0,\n        \"value_type\": \"individual\"\n      },\n      \"\
      type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n       \
      \ \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n  \
      \      \"values\": []\n      },\n      \"yaxes\": [\n        {\n          \"\
      format\": \"short\",\n          \"label\": null,\n          \"logBase\": 1,\n\
      \          \"max\": null,\n          \"min\": null,\n          \"show\": true\n\
      \        },\n        {\n          \"format\": \"short\",\n          \"label\"\
      : null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\"\
      : null,\n          \"show\": true\n        }\n      ]\n    },\n    {\n     \
      \ \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n\
      \      \"dashes\": false,\n      \"datasource\": \"prometheus\",\n      \"fill\"\
      : 1,\n      \"gridPos\": {\n        \"h\": 9,\n        \"w\": 12,\n        \"\
      x\": 12,\n        \"y\": 11\n      },\n      \"id\": 11,\n      \"legend\":\
      \ {\n        \"alignAsTable\": false,\n        \"avg\": false,\n        \"current\"\
      : false,\n        \"hideEmpty\": true,\n        \"hideZero\": false,\n     \
      \   \"max\": false,\n        \"min\": false,\n        \"rightSide\": false,\n\
      \        \"show\": true,\n        \"total\": false,\n        \"values\": false\n\
      \      },\n      \"lines\": true,\n      \"linewidth\": 1,\n      \"links\"\
      : [],\n      \"nullPointMode\": \"null\",\n      \"percentage\": false,\n  \
      \    \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\"\
      ,\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"stack\"\
      : false,\n      \"steppedLine\": true,\n      \"targets\": [\n        {\n  \
      \        \"expr\": \"histogram_quantile(0.99, sum(rate(controller_reconcile_latency_bucket{reconciler=\\\
      \"$reconciler\\\"}[1m])) by (le))\",\n          \"format\": \"time_series\"\
      ,\n          \"instant\": false,\n          \"interval\": \"\",\n          \"\
      intervalFactor\": 1,\n          \"legendFormat\": \"99th\",\n          \"refId\"\
      : \"A\"\n        },\n        {\n          \"expr\": \"histogram_quantile(0.90,\
      \ sum(rate(controller_reconcile_latency_bucket{reconciler=\\\"$reconciler\\\"\
      }[1m])) by (le))\",\n          \"format\": \"time_series\",\n          \"intervalFactor\"\
      : 1,\n          \"legendFormat\": \"90th\",\n          \"refId\": \"B\"\n  \
      \      },\n        {\n          \"expr\": \"histogram_quantile(0.50, sum(rate(controller_reconcile_latency_bucket{reconciler=\\\
      \"$reconciler\\\"}[1m])) by (le))\",\n          \"format\": \"time_series\"\
      ,\n          \"intervalFactor\": 1,\n          \"legendFormat\": \"50th\",\n\
      \          \"refId\": \"C\"\n        }\n      ],\n      \"thresholds\": [],\n\
      \      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"\
      $reconciler Reconcile Latency Percentiles\",\n      \"tooltip\": {\n       \
      \ \"shared\": true,\n        \"sort\": 0,\n        \"value_type\": \"individual\"\
      \n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\"\
      : null,\n        \"mode\": \"time\",\n        \"name\": null,\n        \"show\"\
      : true,\n        \"values\": []\n      },\n      \"yaxes\": [\n        {\n \
      \         \"format\": \"short\",\n          \"label\": null,\n          \"logBase\"\
      : 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\"\
      : true\n        },\n        {\n          \"format\": \"short\",\n          \"\
      label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n      \
      \    \"min\": null,\n          \"show\": true\n        }\n      ]\n    },\n\
      \    {\n      \"collapsed\": false,\n      \"gridPos\": {\n        \"h\": 1,\n\
      \        \"w\": 24,\n        \"x\": 0,\n        \"y\": 20\n      },\n      \"\
      id\": 9,\n      \"panels\": [],\n      \"title\": \"Per Reconciler & Key\",\n\
      \      \"type\": \"row\"\n    },\n    {\n      \"aliasColors\": {},\n      \"\
      bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"\
      datasource\": \"prometheus\",\n      \"fill\": 1,\n      \"gridPos\": {\n  \
      \      \"h\": 9,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 21\n\
      \      },\n      \"id\": 12,\n      \"legend\": {\n        \"alignAsTable\"\
      : false,\n        \"avg\": false,\n        \"current\": false,\n        \"hideEmpty\"\
      : true,\n        \"hideZero\": false,\n        \"max\": false,\n        \"min\"\
      : false,\n        \"rightSide\": false,\n        \"show\": false,\n        \"\
      total\": false,\n        \"values\": false\n      },\n      \"lines\": true,\n\
      \      \"linewidth\": 1,\n      \"links\": [],\n      \"nullPointMode\": \"\
      null\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\"\
      : false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n  \
      \    \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": true,\n\
      \      \"targets\": [\n        {\n          \"expr\": \"sum(60 * rate(controller_reconcile_count{reconciler=\\\
      \"$reconciler\\\", key=\\\"$key\\\"}[1m]))\",\n          \"format\": \"time_series\"\
      ,\n          \"instant\": false,\n          \"interval\": \"\",\n          \"\
      intervalFactor\": 1,\n          \"legendFormat\": \"{{reconciler}}\",\n    \
      \      \"refId\": \"A\"\n        }\n      ],\n      \"thresholds\": [],\n  \
      \    \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"$reconciler/$key\
      \ Reconcile Count (per min)\",\n      \"tooltip\": {\n        \"shared\": true,\n\
      \        \"sort\": 0,\n        \"value_type\": \"individual\"\n      },\n  \
      \    \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n\
      \        \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n\
      \        \"values\": []\n      },\n      \"yaxes\": [\n        {\n         \
      \ \"format\": \"short\",\n          \"label\": null,\n          \"logBase\"\
      : 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\"\
      : true\n        },\n        {\n          \"format\": \"short\",\n          \"\
      label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n      \
      \    \"min\": null,\n          \"show\": true\n        }\n      ]\n    },\n\
      \    {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\"\
      : 10,\n      \"dashes\": false,\n      \"datasource\": \"prometheus\",\n   \
      \   \"fill\": 1,\n      \"gridPos\": {\n        \"h\": 9,\n        \"w\": 12,\n\
      \        \"x\": 12,\n        \"y\": 21\n      },\n      \"id\": 13,\n      \"\
      legend\": {\n        \"alignAsTable\": false,\n        \"avg\": false,\n   \
      \     \"current\": false,\n        \"hideEmpty\": true,\n        \"hideZero\"\
      : false,\n        \"max\": false,\n        \"min\": false,\n        \"rightSide\"\
      : false,\n        \"show\": true,\n        \"total\": false,\n        \"values\"\
      : false\n      },\n      \"lines\": true,\n      \"linewidth\": 1,\n      \"\
      links\": [],\n      \"nullPointMode\": \"null\",\n      \"percentage\": false,\n\
      \      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"\
      flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"\
      stack\": false,\n      \"steppedLine\": true,\n      \"targets\": [\n      \
      \  {\n          \"expr\": \"histogram_quantile(0.99, sum(rate(controller_reconcile_latency_bucket{reconciler=\\\
      \"$reconciler\\\", key=\\\"$key\\\"}[1m])) by (le))\",\n          \"format\"\
      : \"time_series\",\n          \"instant\": false,\n          \"interval\": \"\
      \",\n          \"intervalFactor\": 1,\n          \"legendFormat\": \"99th\"\
      ,\n          \"refId\": \"A\"\n        },\n        {\n          \"expr\": \"\
      histogram_quantile(0.90, sum(rate(controller_reconcile_latency_bucket{reconciler=\\\
      \"$reconciler\\\", key=\\\"$key\\\"}[1m])) by (le))\",\n          \"format\"\
      : \"time_series\",\n          \"intervalFactor\": 1,\n          \"legendFormat\"\
      : \"90th\",\n          \"refId\": \"B\"\n        },\n        {\n          \"\
      expr\": \"histogram_quantile(0.50, sum(rate(controller_reconcile_latency_bucket{reconciler=\\\
      \"$reconciler\\\", key=\\\"$key\\\"}[1m])) by (le))\",\n          \"format\"\
      : \"time_series\",\n          \"intervalFactor\": 1,\n          \"legendFormat\"\
      : \"50th\",\n          \"refId\": \"C\"\n        }\n      ],\n      \"thresholds\"\
      : [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\"\
      : \"$reconciler/$key Reconcile Latency Percentiles\",\n      \"tooltip\": {\n\
      \        \"shared\": true,\n        \"sort\": 0,\n        \"value_type\": \"\
      individual\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n   \
      \     \"buckets\": null,\n        \"mode\": \"time\",\n        \"name\": null,\n\
      \        \"show\": true,\n        \"values\": []\n      },\n      \"yaxes\"\
      : [\n        {\n          \"format\": \"short\",\n          \"label\": null,\n\
      \          \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n\
      \          \"show\": true\n        },\n        {\n          \"format\": \"short\"\
      ,\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\"\
      : null,\n          \"min\": null,\n          \"show\": true\n        }\n   \
      \   ]\n    }\n  ],\n  \"refresh\": \"5s\",\n  \"schemaVersion\": 16,\n  \"style\"\
      : \"dark\",\n  \"tags\": [],\n  \"templating\": {\n    \"list\": [\n      {\n\
      \        \"allValue\": null,\n        \"current\": {},\n        \"datasource\"\
      : \"prometheus\",\n        \"hide\": 0,\n        \"includeAll\": false,\n  \
      \      \"label\": \"Reconciler\",\n        \"multi\": false,\n        \"name\"\
      : \"reconciler\",\n        \"options\": [],\n        \"query\": \"label_values(controller_reconcile_count,\
      \ reconciler)\",\n        \"refresh\": 1,\n        \"regex\": \"\",\n      \
      \  \"sort\": 0,\n        \"tagValuesQuery\": \"\",\n        \"tags\": [],\n\
      \        \"tagsQuery\": \"\",\n        \"type\": \"query\",\n        \"useTags\"\
      : false\n      },\n      {\n        \"allValue\": null,\n        \"current\"\
      : {},\n        \"datasource\": \"prometheus\",\n        \"hide\": 0,\n     \
      \   \"includeAll\": false,\n        \"label\": \"Key\",\n        \"multi\":\
      \ false,\n        \"name\": \"key\",\n        \"options\": [],\n        \"query\"\
      : \"label_values(controller_reconcile_count{reconciler=\\\"$reconciler\\\"},\
      \ key)\",\n        \"refresh\": 1,\n        \"regex\": \"\",\n        \"sort\"\
      : 1,\n        \"tagValuesQuery\": \"\",\n        \"tags\": [],\n        \"tagsQuery\"\
      : \"\",\n        \"type\": \"query\",\n        \"useTags\": false\n      }\n\
      \    ]\n  },\n  \"time\": {\n    \"from\": \"now-15m\",\n    \"to\": \"now\"\
      \n  },\n  \"timepicker\": {\n    \"refresh_intervals\": [\n      \"5s\",\n \
      \     \"10s\",\n      \"30s\",\n      \"1m\",\n      \"5m\",\n      \"15m\"\
      ,\n      \"30m\",\n      \"1h\",\n      \"2h\",\n      \"1d\"\n    ],\n    \"\
      time_options\": [\n      \"5m\",\n      \"15m\",\n      \"1h\",\n      \"6h\"\
      ,\n      \"12h\",\n      \"24h\",\n      \"2d\",\n      \"7d\",\n      \"30d\"\
      \n    ]\n  },\n  \"timezone\": \"\",\n  \"title\": \"Knative Serving - Reconciler\"\
      ,\n  \"uid\": \"j0oFdEYiz\",\n  \"version\": 10\n}\n"
  kind: ConfigMap
  metadata:
    labels:
      grafana_dashboard: '1'
      serving.knative.dev/release: v0.8.1
    name: grafana-dashboard-definition-knative-reconciler
    namespace: knative-monitoring
- apiVersion: v1
  data:
    scaling-dashboard.json: "{\n   \"__inputs\": [\n      {\n         \"name\": \"\
      prometheus\",\n         \"label\": \"prometheus\",\n         \"description\"\
      : \"\",\n         \"type\": \"datasource\",\n         \"pluginId\": \"prometheus\"\
      ,\n         \"pluginName\": \"Prometheus\"\n      }\n   ],\n   \"__requires\"\
      : [\n      {\n         \"type\": \"grafana\",\n         \"id\": \"grafana\"\
      ,\n         \"name\": \"Grafana\",\n         \"version\": \"5.0.3\"\n      },\n\
      \      {\n         \"type\": \"panel\",\n         \"id\": \"graph\",\n     \
      \    \"name\": \"Graph\",\n         \"version\": \"5.0.0\"\n      },\n     \
      \ {\n         \"type\": \"datasource\",\n         \"id\": \"prometheus\",\n\
      \         \"name\": \"Prometheus\",\n         \"version\": \"5.0.0\"\n     \
      \ }\n   ],\n   \"annotations\": {\n      \"list\": [\n         {\n         \"\
      builtIn\": 1,\n         \"datasource\": \"-- Grafana --\",\n         \"enable\"\
      : true,\n         \"hide\": true,\n         \"iconColor\": \"rgba(0, 211, 255,\
      \ 1)\",\n         \"name\": \"Annotations & Alerts\",\n         \"type\": \"\
      dashboard\"\n         }\n      ]\n   },\n   \"description\": \"Knative Serving\
      \ - Scaling Debugging\",\n   \"editable\": true,\n   \"gnetId\": null,\n   \"\
      graphTooltip\": 0,\n   \"id\": null,\n   \"iteration\": 1564079739384,\n   \"\
      links\": [],\n   \"panels\": [\n      {\n         \"collapsed\": true,\n   \
      \      \"gridPos\": {\n         \"h\": 1,\n         \"w\": 24,\n         \"\
      x\": 0,\n         \"y\": 0\n         },\n         \"id\": 14,\n         \"panels\"\
      : [\n         {\n            \"aliasColors\": {},\n            \"bars\": false,\n\
      \            \"dashLength\": 10,\n            \"dashes\": false,\n         \
      \   \"datasource\": \"prometheus\",\n            \"fill\": 1,\n            \"\
      gridPos\": {\n               \"h\": 11,\n               \"w\": 24,\n       \
      \        \"x\": 0,\n               \"y\": 1\n            },\n            \"\
      id\": 2,\n            \"legend\": {\n               \"avg\": false,\n      \
      \         \"current\": false,\n               \"max\": false,\n            \
      \   \"min\": false,\n               \"show\": true,\n               \"total\"\
      : false,\n               \"values\": false\n            },\n            \"lines\"\
      : true,\n            \"linewidth\": 1,\n            \"links\": [],\n       \
      \     \"nullPointMode\": \"null\",\n            \"percentage\": false,\n   \
      \         \"pointradius\": 5,\n            \"points\": false,\n            \"\
      renderer\": \"flot\",\n            \"seriesOverrides\": [],\n            \"\
      spaceLength\": 10,\n            \"stack\": false,\n            \"steppedLine\"\
      : true,\n            \"targets\": [\n               {\n               \"expr\"\
      : \"sum(autoscaler_actual_pods{namespace_name=\\\"$namespace\\\", configuration_name=\\\
      \"$configuration\\\", revision_name=\\\"$revision\\\"})\",\n               \"\
      format\": \"time_series\",\n               \"interval\": \"1s\",\n         \
      \      \"intervalFactor\": 1,\n               \"legendFormat\": \"Actual Pods\"\
      ,\n               \"refId\": \"A\"\n               },\n               {\n  \
      \             \"expr\": \"sum(autoscaler_requested_pods{namespace_name=\\\"\
      $namespace\\\", configuration_name=\\\"$configuration\\\", revision_name=\\\"\
      $revision\\\"})\",\n               \"format\": \"time_series\",\n          \
      \     \"interval\": \"1s\",\n               \"intervalFactor\": 1,\n       \
      \        \"legendFormat\": \"Requested Pods\",\n               \"refId\": \"\
      C\"\n               }\n            ],\n            \"thresholds\": [],\n   \
      \         \"timeFrom\": null,\n            \"timeShift\": null,\n          \
      \  \"title\": \"Revision Pod Counts\",\n            \"tooltip\": {\n       \
      \        \"shared\": true,\n               \"sort\": 0,\n               \"value_type\"\
      : \"individual\"\n            },\n            \"type\": \"graph\",\n       \
      \     \"xaxis\": {\n               \"buckets\": null,\n               \"mode\"\
      : \"time\",\n               \"name\": null,\n               \"show\": true,\n\
      \               \"values\": []\n            },\n            \"yaxes\": [\n \
      \              {\n               \"format\": \"short\",\n               \"label\"\
      : null,\n               \"logBase\": 1,\n               \"max\": null,\n   \
      \            \"min\": null,\n               \"show\": true\n               },\n\
      \               {\n               \"decimals\": null,\n               \"format\"\
      : \"short\",\n               \"label\": \"Concurrency\",\n               \"\
      logBase\": 1,\n               \"max\": \"1\",\n               \"min\": null,\n\
      \               \"show\": false\n               }\n            ]\n         }\n\
      \         ],\n         \"title\": \"Revision Pod Counts\",\n         \"type\"\
      : \"row\"\n      },\n      {\n         \"collapsed\": true,\n         \"gridPos\"\
      : {\n         \"h\": 1,\n         \"w\": 24,\n         \"x\": 0,\n         \"\
      y\": 1\n         },\n         \"id\": 18,\n         \"panels\": [\n        \
      \ {\n            \"aliasColors\": {},\n            \"bars\": false,\n      \
      \      \"dashLength\": 10,\n            \"dashes\": false,\n            \"datasource\"\
      : \"prometheus\",\n            \"fill\": 1,\n            \"gridPos\": {\n  \
      \             \"h\": 9,\n               \"w\": 12,\n               \"x\": 0,\n\
      \               \"y\": 13\n            },\n            \"id\": 4,\n        \
      \    \"legend\": {\n               \"avg\": false,\n               \"current\"\
      : false,\n               \"max\": false,\n               \"min\": false,\n \
      \              \"show\": true,\n               \"total\": false,\n         \
      \      \"values\": false\n            },\n            \"lines\": true,\n   \
      \         \"linewidth\": 1,\n            \"links\": [],\n            \"nullPointMode\"\
      : \"null\",\n            \"percentage\": false,\n            \"pointradius\"\
      : 5,\n            \"points\": false,\n            \"renderer\": \"flot\",\n\
      \            \"seriesOverrides\": [],\n            \"spaceLength\": 10,\n  \
      \          \"stack\": false,\n            \"steppedLine\": false,\n        \
      \    \"targets\": [\n               {\n               \"expr\": \"sum(kube_pod_container_resource_requests_cpu_cores{namespace=\\\
      \"$namespace\\\", pod=~\\\"$revision-deployment-.*\\\"})\",\n              \
      \ \"format\": \"time_series\",\n               \"interval\": \"\",\n       \
      \        \"intervalFactor\": 1,\n               \"legendFormat\": \"Cores requested\"\
      ,\n               \"refId\": \"A\"\n               },\n               {\n  \
      \             \"expr\": \"sum(rate(container_cpu_usage_seconds_total{namespace=\\\
      \"$namespace\\\", pod_name=~\\\"$revision-deployment-.*\\\"}[1m]))\",\n    \
      \           \"format\": \"time_series\",\n               \"intervalFactor\"\
      : 1,\n               \"legendFormat\": \"Cores used\",\n               \"refId\"\
      : \"B\"\n               },\n               {\n               \"expr\": \"sum(kube_pod_container_resource_limits_cpu_cores{namespace=\\\
      \"$namespace\\\", pod=~\\\"$revision-deployment-.*\\\"})\",\n              \
      \ \"format\": \"time_series\",\n               \"intervalFactor\": 1,\n    \
      \           \"legendFormat\": \"Core limit\",\n               \"refId\": \"\
      C\"\n               }\n            ],\n            \"thresholds\": [],\n   \
      \         \"timeFrom\": null,\n            \"timeShift\": null,\n          \
      \  \"title\": \"Revision CPU Usage\",\n            \"tooltip\": {\n        \
      \       \"shared\": true,\n               \"sort\": 2,\n               \"value_type\"\
      : \"individual\"\n            },\n            \"type\": \"graph\",\n       \
      \     \"xaxis\": {\n               \"buckets\": null,\n               \"mode\"\
      : \"time\",\n               \"name\": null,\n               \"show\": true,\n\
      \               \"values\": []\n            },\n            \"yaxes\": [\n \
      \              {\n               \"decimals\": null,\n               \"format\"\
      : \"short\",\n               \"label\": null,\n               \"logBase\": 1,\n\
      \               \"max\": null,\n               \"min\": null,\n            \
      \   \"show\": true\n               },\n               {\n               \"format\"\
      : \"short\",\n               \"label\": null,\n               \"logBase\": 1,\n\
      \               \"max\": null,\n               \"min\": null,\n            \
      \   \"show\": false\n               }\n            ]\n         },\n        \
      \ {\n            \"aliasColors\": {},\n            \"bars\": false,\n      \
      \      \"dashLength\": 10,\n            \"dashes\": false,\n            \"datasource\"\
      : \"prometheus\",\n            \"fill\": 1,\n            \"gridPos\": {\n  \
      \             \"h\": 9,\n               \"w\": 12,\n               \"x\": 12,\n\
      \               \"y\": 13\n            },\n            \"id\": 6,\n        \
      \    \"legend\": {\n               \"avg\": false,\n               \"current\"\
      : false,\n               \"max\": false,\n               \"min\": false,\n \
      \              \"show\": true,\n               \"total\": false,\n         \
      \      \"values\": false\n            },\n            \"lines\": true,\n   \
      \         \"linewidth\": 1,\n            \"links\": [],\n            \"nullPointMode\"\
      : \"null\",\n            \"percentage\": false,\n            \"pointradius\"\
      : 5,\n            \"points\": false,\n            \"renderer\": \"flot\",\n\
      \            \"seriesOverrides\": [],\n            \"spaceLength\": 10,\n  \
      \          \"stack\": false,\n            \"steppedLine\": false,\n        \
      \    \"targets\": [\n               {\n               \"expr\": \"sum(kube_pod_container_resource_requests_memory_bytes{namespace=\\\
      \"$namespace\\\", pod=~\\\"$revision-deployment-.*\\\"})\",\n              \
      \ \"format\": \"time_series\",\n               \"interval\": \"\",\n       \
      \        \"intervalFactor\": 1,\n               \"legendFormat\": \"Memory requested\"\
      ,\n               \"refId\": \"A\"\n               },\n               {\n  \
      \             \"expr\": \"sum(container_memory_usage_bytes{namespace=\\\"$namespace\\\
      \", pod_name=~\\\"$revision-deployment-.*\\\"})\",\n               \"format\"\
      : \"time_series\",\n               \"hide\": false,\n               \"intervalFactor\"\
      : 1,\n               \"legendFormat\": \"Memory used\",\n               \"refId\"\
      : \"B\"\n               },\n               {\n               \"expr\": \"sum(kube_pod_container_resource_limits_memory_bytes{namespace=\\\
      \"$namespace\\\", pod=~\\\"$revision-deployment-.*\\\"})\",\n              \
      \ \"format\": \"time_series\",\n               \"intervalFactor\": 1,\n    \
      \           \"refId\": \"C\"\n               }\n            ],\n           \
      \ \"thresholds\": [],\n            \"timeFrom\": null,\n            \"timeShift\"\
      : null,\n            \"title\": \"Pod Memory Usage\",\n            \"tooltip\"\
      : {\n               \"shared\": true,\n               \"sort\": 2,\n       \
      \        \"value_type\": \"individual\"\n            },\n            \"type\"\
      : \"graph\",\n            \"xaxis\": {\n               \"buckets\": null,\n\
      \               \"mode\": \"time\",\n               \"name\": null,\n      \
      \         \"show\": true,\n               \"values\": []\n            },\n \
      \           \"yaxes\": [\n               {\n               \"format\": \"decbytes\"\
      ,\n               \"label\": null,\n               \"logBase\": 1,\n       \
      \        \"max\": null,\n               \"min\": null,\n               \"show\"\
      : true\n               },\n               {\n               \"format\": \"short\"\
      ,\n               \"label\": null,\n               \"logBase\": 1,\n       \
      \        \"max\": null,\n               \"min\": null,\n               \"show\"\
      : false\n               }\n            ]\n         }\n         ],\n        \
      \ \"title\": \"Resource Usages\",\n         \"type\": \"row\"\n      },\n  \
      \    {\n         \"collapsed\": false,\n         \"gridPos\": {\n         \"\
      h\": 1,\n         \"w\": 24,\n         \"x\": 0,\n         \"y\": 2\n      \
      \   },\n         \"id\": 16,\n         \"panels\": [],\n         \"title\":\
      \ \"Autoscaler Metrics\",\n         \"type\": \"row\"\n      },\n      {\n \
      \        \"aliasColors\": {},\n         \"bars\": false,\n         \"dashLength\"\
      : 10,\n         \"dashes\": false,\n         \"datasource\": \"prometheus\"\
      ,\n         \"fill\": 1,\n         \"gridPos\": {\n         \"h\": 10,\n   \
      \      \"w\": 24,\n         \"x\": 0,\n         \"y\": 3\n         },\n    \
      \     \"id\": 10,\n         \"legend\": {\n         \"avg\": false,\n      \
      \   \"current\": false,\n         \"max\": false,\n         \"min\": false,\n\
      \         \"show\": true,\n         \"total\": false,\n         \"values\":\
      \ false\n         },\n         \"lines\": true,\n         \"linewidth\": 1,\n\
      \         \"links\": [],\n         \"nullPointMode\": \"null\",\n         \"\
      percentage\": false,\n         \"pointradius\": 5,\n         \"points\": false,\n\
      \         \"renderer\": \"flot\",\n         \"seriesOverrides\": [],\n     \
      \    \"spaceLength\": 10,\n         \"stack\": false,\n         \"steppedLine\"\
      : true,\n         \"targets\": [\n         {\n            \"expr\": \"sum(autoscaler_desired_pods{namespace_name=\\\
      \"$namespace\\\", configuration_name=\\\"$configuration\\\", revision_name=\\\
      \"$revision\\\"}) \",\n            \"format\": \"time_series\",\n          \
      \  \"intervalFactor\": 1,\n            \"legendFormat\": \"Desired Pods\",\n\
      \            \"refId\": \"A\"\n         },\n         {\n            \"expr\"\
      : \"sum(autoscaler_observed_pods{namespace_name=\\\"$namespace\\\", configuration_name=\\\
      \"$configuration\\\", revision_name=\\\"$revision\\\"})\",\n            \"format\"\
      : \"time_series\",\n            \"intervalFactor\": 1,\n            \"legendFormat\"\
      : \"Observed Pods\",\n            \"refId\": \"B\"\n         }\n         ],\n\
      \         \"thresholds\": [],\n         \"timeFrom\": null,\n         \"timeShift\"\
      : null,\n         \"title\": \"Pod Counts\",\n         \"tooltip\": {\n    \
      \     \"shared\": true,\n         \"sort\": 0,\n         \"value_type\": \"\
      individual\"\n         },\n         \"type\": \"graph\",\n         \"xaxis\"\
      : {\n         \"buckets\": null,\n         \"mode\": \"time\",\n         \"\
      name\": null,\n         \"show\": true,\n         \"values\": []\n         },\n\
      \         \"yaxes\": [\n         {\n            \"format\": \"short\",\n   \
      \         \"label\": null,\n            \"logBase\": 1,\n            \"max\"\
      : null,\n            \"min\": null,\n            \"show\": true\n         },\n\
      \         {\n            \"format\": \"short\",\n            \"label\": null,\n\
      \            \"logBase\": 1,\n            \"max\": null,\n            \"min\"\
      : null,\n            \"show\": true\n         }\n         ]\n      },\n    \
      \  {\n         \"aliasColors\": {},\n         \"bars\": false,\n         \"\
      dashLength\": 10,\n         \"dashes\": false,\n         \"datasource\": \"\
      prometheus\",\n         \"fill\": 1,\n         \"gridPos\": {\n         \"h\"\
      : 9,\n         \"w\": 24,\n         \"x\": 0,\n         \"y\": 13\n        \
      \ },\n         \"id\": 8,\n         \"legend\": {\n         \"avg\": false,\n\
      \         \"current\": false,\n         \"max\": false,\n         \"min\": false,\n\
      \         \"show\": true,\n         \"total\": false,\n         \"values\":\
      \ false\n         },\n         \"lines\": true,\n         \"linewidth\": 1,\n\
      \         \"links\": [],\n         \"nullPointMode\": \"null\",\n         \"\
      percentage\": false,\n         \"pointradius\": 5,\n         \"points\": false,\n\
      \         \"renderer\": \"flot\",\n         \"seriesOverrides\": [\n       \
      \  {\n            \"alias\": \"Panic Mode\",\n            \"color\": \"#ea6460\"\
      ,\n            \"dashes\": true,\n            \"fill\": 2,\n            \"linewidth\"\
      : 2,\n            \"steppedLine\": true,\n            \"yaxis\": 2\n       \
      \  },\n         {\n            \"alias\": \"Target Concurrency Per Pod\",\n\
      \            \"color\": \"#0a50a1\",\n            \"dashes\": true,\n      \
      \      \"steppedLine\": false\n         }\n         ],\n         \"spaceLength\"\
      : 10,\n         \"stack\": false,\n         \"steppedLine\": true,\n       \
      \  \"targets\": [\n         {\n            \"expr\": \"sum(autoscaler_stable_request_concurrency{namespace_name=\\\
      \"$namespace\\\", configuration_name=\\\"$configuration\\\", revision_name=\\\
      \"$revision\\\"})\",\n            \"format\": \"time_series\",\n           \
      \ \"interval\": \"1s\",\n            \"intervalFactor\": 1,\n            \"\
      legendFormat\": \"Average Concurrency\",\n            \"refId\": \"A\"\n   \
      \      },\n         {\n            \"expr\": \"sum(autoscaler_panic_request_concurrency{namespace_name=\\\
      \"$namespace\\\", configuration_name=\\\"$configuration\\\", revision_name=\\\
      \"$revision\\\"})\",\n            \"format\": \"time_series\",\n           \
      \ \"interval\": \"1s\",\n            \"intervalFactor\": 1,\n            \"\
      legendFormat\": \"Average Panic Concurrency\",\n            \"refId\": \"B\"\
      \n         },\n         {\n            \"expr\": \"sum(autoscaler_target_concurrency_per_pod{namespace_name=\\\
      \"$namespace\\\", configuration_name=\\\"$configuration\\\", revision_name=\\\
      \"$revision\\\"})\",\n            \"format\": \"time_series\",\n           \
      \ \"intervalFactor\": 1,\n            \"legendFormat\": \"Target Concurrency\"\
      ,\n            \"refId\": \"C\"\n         },\n         {\n            \"expr\"\
      : \"sum(autoscaler_excess_burst_capacity{namespace_name=\\\"$namespace\\\",\
      \ configuration_name=\\\"$configuration\\\", revision_name=\\\"$revision\\\"\
      })\",\n            \"format\": \"time_series\",\n            \"intervalFactor\"\
      : 1,\n            \"legendFormat\": \"Excess Burst Capacity\",\n           \
      \ \"refId\": \"D\"\n         }\n         ],\n         \"thresholds\": [],\n\
      \         \"timeFrom\": null,\n         \"timeShift\": null,\n         \"title\"\
      : \"Observed Concurrency\",\n         \"tooltip\": {\n         \"shared\": true,\n\
      \         \"sort\": 0,\n         \"value_type\": \"individual\"\n         },\n\
      \         \"type\": \"graph\",\n         \"xaxis\": {\n         \"buckets\"\
      : null,\n         \"mode\": \"time\",\n         \"name\": null,\n         \"\
      show\": true,\n         \"values\": []\n         },\n         \"yaxes\": [\n\
      \         {\n            \"format\": \"short\",\n            \"label\": \"\"\
      ,\n            \"logBase\": 1,\n            \"max\": null,\n            \"min\"\
      : null,\n            \"show\": true\n         },\n         {\n            \"\
      format\": \"short\",\n            \"label\": \"\",\n            \"logBase\"\
      : 1,\n            \"max\": null,\n            \"min\": null,\n            \"\
      show\": false\n         }\n         ]\n      },\n      {\n         \"aliasColors\"\
      : {},\n         \"bars\": false,\n         \"dashLength\": 10,\n         \"\
      dashes\": false,\n         \"datasource\": \"prometheus\",\n         \"decimals\"\
      : null,\n         \"fill\": 1,\n         \"gridPos\": {\n         \"h\": 9,\n\
      \         \"w\": 24,\n         \"x\": 0,\n         \"y\": 22\n         },\n\
      \         \"id\": 12,\n         \"legend\": {\n         \"avg\": false,\n  \
      \       \"current\": false,\n         \"hideZero\": false,\n         \"max\"\
      : false,\n         \"min\": false,\n         \"show\": false,\n         \"total\"\
      : false,\n         \"values\": false\n         },\n         \"lines\": true,\n\
      \         \"linewidth\": 1,\n         \"links\": [],\n         \"nullPointMode\"\
      : \"null\",\n         \"percentage\": false,\n         \"pointradius\": 5,\n\
      \         \"points\": false,\n         \"renderer\": \"flot\",\n         \"\
      seriesOverrides\": [\n         {\n            \"alias\": \"Panic Mode\",\n \
      \           \"color\": \"#e24d42\",\n            \"linewidth\": 2,\n       \
      \     \"yaxis\": 2\n         }\n         ],\n         \"spaceLength\": 10,\n\
      \         \"stack\": false,\n         \"steppedLine\": true,\n         \"targets\"\
      : [\n         {\n            \"expr\": \"sum(autoscaler_panic_mode{namespace_name=\\\
      \"$namespace\\\", configuration_name=\\\"$configuration\\\", revision_name=\\\
      \"$revision\\\"} )\",\n            \"format\": \"time_series\",\n          \
      \  \"intervalFactor\": 1,\n            \"legendFormat\": \"Panic Mode\",\n \
      \           \"refId\": \"A\"\n         }\n         ],\n         \"thresholds\"\
      : [],\n         \"timeFrom\": null,\n         \"timeShift\": null,\n       \
      \  \"title\": \"Panic Mode\",\n         \"tooltip\": {\n         \"shared\"\
      : true,\n         \"sort\": 0,\n         \"value_type\": \"individual\"\n  \
      \       },\n         \"type\": \"graph\",\n         \"xaxis\": {\n         \"\
      buckets\": null,\n         \"mode\": \"time\",\n         \"name\": null,\n \
      \        \"show\": true,\n         \"values\": []\n         },\n         \"\
      yaxes\": [\n         {\n            \"format\": \"short\",\n            \"label\"\
      : null,\n            \"logBase\": 1,\n            \"max\": \"1.0\",\n      \
      \      \"min\": \"0\",\n            \"show\": true\n         },\n         {\n\
      \            \"format\": \"short\",\n            \"label\": null,\n        \
      \    \"logBase\": 1,\n            \"max\": null,\n            \"min\": null,\n\
      \            \"show\": false\n         }\n         ]\n      },\n      {\n  \
      \       \"collapsed\": false,\n         \"gridPos\": {\n         \"h\": 1,\n\
      \         \"w\": 24,\n         \"x\": 0,\n         \"y\": 31\n         },\n\
      \         \"id\": 20,\n         \"panels\": [],\n         \"title\": \"Activator\
      \ Metrics\",\n         \"type\": \"row\"\n      },\n      {\n         \"aliasColors\"\
      : {},\n         \"bars\": false,\n         \"dashLength\": 10,\n         \"\
      dashes\": false,\n         \"datasource\": \"prometheus\",\n         \"fill\"\
      : 1,\n         \"gridPos\": {\n         \"h\": 10,\n         \"w\": 24,\n  \
      \       \"x\": 0,\n         \"y\": 32\n         },\n         \"id\": 24,\n \
      \        \"legend\": {\n         \"avg\": false,\n         \"current\": false,\n\
      \         \"max\": false,\n         \"min\": false,\n         \"show\": true,\n\
      \         \"total\": false,\n         \"values\": false\n         },\n     \
      \    \"lines\": true,\n         \"linewidth\": 1,\n         \"links\": [],\n\
      \         \"nullPointMode\": \"null\",\n         \"percentage\": false,\n  \
      \       \"pointradius\": 5,\n         \"points\": false,\n         \"renderer\"\
      : \"flot\",\n         \"seriesOverrides\": [],\n         \"spaceLength\": 10,\n\
      \         \"stack\": false,\n         \"steppedLine\": false,\n         \"targets\"\
      : [\n         {\n            \"expr\": \"round(sum(increase(activator_request_count{namespace_name=\\\
      \"$namespace\\\", configuration_name=~\\\"$configuration\\\",revision_name=~\\\
      \"$revision\\\"}[1m])) by (response_code))\",\n            \"format\": \"time_series\"\
      ,\n            \"intervalFactor\": 1,\n            \"legendFormat\": \"{{ response_code\
      \ }}\",\n            \"refId\": \"A\"\n         }\n         ],\n         \"\
      thresholds\": [],\n         \"timeFrom\": null,\n         \"timeShift\": null,\n\
      \         \"title\": \"Request Count in last minute by Response Code\",\n  \
      \       \"tooltip\": {\n         \"shared\": true,\n         \"sort\": 0,\n\
      \         \"value_type\": \"individual\"\n         },\n         \"type\": \"\
      graph\",\n         \"xaxis\": {\n         \"buckets\": null,\n         \"mode\"\
      : \"time\",\n         \"name\": null,\n         \"show\": true,\n         \"\
      values\": []\n         },\n         \"yaxes\": [\n         {\n            \"\
      format\": \"none\",\n            \"label\": null,\n            \"logBase\":\
      \ 1,\n            \"max\": null,\n            \"min\": \"0\",\n            \"\
      show\": true\n         },\n         {\n            \"format\": \"short\",\n\
      \            \"label\": null,\n            \"logBase\": 1,\n            \"max\"\
      : null,\n            \"min\": null,\n            \"show\": true\n         }\n\
      \         ]\n      },\n      {\n         \"aliasColors\": {},\n         \"bars\"\
      : false,\n         \"dashLength\": 10,\n         \"dashes\": false,\n      \
      \   \"datasource\": \"prometheus\",\n         \"fill\": 1,\n         \"gridPos\"\
      : {\n         \"h\": 10,\n         \"w\": 24,\n         \"x\": 0,\n        \
      \ \"y\": 42\n         },\n         \"id\": 28,\n         \"legend\": {\n   \
      \      \"avg\": true,\n         \"current\": false,\n         \"max\": false,\n\
      \         \"min\": false,\n         \"show\": true,\n         \"total\": false,\n\
      \         \"values\": true\n         },\n         \"lines\": true,\n       \
      \  \"linewidth\": 1,\n         \"links\": [],\n         \"nullPointMode\": \"\
      null\",\n         \"percentage\": false,\n         \"pointradius\": 5,\n   \
      \      \"points\": false,\n         \"renderer\": \"flot\",\n         \"seriesOverrides\"\
      : [],\n         \"spaceLength\": 10,\n         \"stack\": false,\n         \"\
      steppedLine\": false,\n         \"targets\": [\n         {\n            \"expr\"\
      : \"label_replace(histogram_quantile(0.50, sum(rate(activator_request_latencies_bucket{namespace_name=\\\
      \"$namespace\\\", configuration_name=~\\\"$configuration\\\",revision_name=~\\\
      \"$revision\\\"}[1m])) by (revision_name, le)), \\\"revision_name\\\", \\\"\
      $2\\\", \\\"revision_name\\\", \\\"$configuration(-+)(.*)\\\")\",\n        \
      \    \"format\": \"time_series\",\n            \"intervalFactor\": 1,\n    \
      \        \"legendFormat\": \"{{ revision_name }} (p50)\",\n            \"refId\"\
      : \"A\"\n         },\n         {\n            \"expr\": \"label_replace(histogram_quantile(0.90,\
      \ sum(rate(activator_request_latencies_bucket{namespace_name=\\\"$namespace\\\
      \", configuration_name=~\\\"$configuration\\\",revision_name=~\\\"$revision\\\
      \"}[1m])) by (revision_name, le)), \\\"revision_name\\\", \\\"$2\\\", \\\"revision_name\\\
      \", \\\"$configuration(-+)(.*)\\\")\",\n            \"format\": \"time_series\"\
      ,\n            \"intervalFactor\": 1,\n            \"legendFormat\": \"{{ revision_name\
      \ }} (p90)\",\n            \"refId\": \"B\"\n         },\n         {\n     \
      \       \"expr\": \"label_replace(histogram_quantile(0.95, sum(rate(activator_request_latencies_bucket{namespace_name=\\\
      \"$namespace\\\", configuration_name=~\\\"$configuration\\\",revision_name=~\\\
      \"$revision\\\"}[1m])) by (revision_name, le)), \\\"revision_name\\\", \\\"\
      $2\\\", \\\"revision_name\\\", \\\"$configuration(-+)(.*)\\\")\",\n        \
      \    \"format\": \"time_series\",\n            \"intervalFactor\": 1,\n    \
      \        \"legendFormat\": \"{{ revision_name }} (p95)\",\n            \"refId\"\
      : \"C\"\n         },\n         {\n            \"expr\": \"label_replace(histogram_quantile(0.99,\
      \ sum(rate(activator_request_latencies_bucket{namespace_name=\\\"$namespace\\\
      \", configuration_name=~\\\"$configuration\\\",revision_name=~\\\"$revision\\\
      \"}[1m])) by (revision_name, le)), \\\"revision_name\\\", \\\"$2\\\", \\\"revision_name\\\
      \", \\\"$configuration(-+)(.*)\\\")\",\n            \"format\": \"time_series\"\
      ,\n            \"intervalFactor\": 1,\n            \"legendFormat\": \"{{ revision_name\
      \ }} (p99)\",\n            \"refId\": \"D\"\n         }\n         ],\n     \
      \    \"thresholds\": [],\n         \"timeFrom\": null,\n         \"timeShift\"\
      : null,\n         \"title\": \"Response Time in last minute\",\n         \"\
      tooltip\": {\n         \"shared\": true,\n         \"sort\": 0,\n         \"\
      value_type\": \"individual\"\n         },\n         \"type\": \"graph\",\n \
      \        \"xaxis\": {\n         \"buckets\": null,\n         \"mode\": \"time\"\
      ,\n         \"name\": null,\n         \"show\": true,\n         \"values\":\
      \ []\n         },\n         \"yaxes\": [\n         {\n            \"format\"\
      : \"ms\",\n            \"label\": null,\n            \"logBase\": 1,\n     \
      \       \"max\": null,\n            \"min\": null,\n            \"show\": true\n\
      \         },\n         {\n            \"format\": \"short\",\n            \"\
      label\": null,\n            \"logBase\": 1,\n            \"max\": null,\n  \
      \          \"min\": null,\n            \"show\": true\n         }\n        \
      \ ]\n      },\n      {\n         \"aliasColors\": {},\n         \"bars\": false,\n\
      \         \"dashLength\": 10,\n         \"dashes\": false,\n         \"datasource\"\
      : \"prometheus\",\n         \"fill\": 1,\n         \"gridPos\": {\n        \
      \ \"h\": 9,\n         \"w\": 24,\n         \"x\": 0,\n         \"y\": 52\n \
      \        },\n         \"id\": 29,\n         \"legend\": {\n         \"avg\"\
      : false,\n         \"current\": false,\n         \"max\": false,\n         \"\
      min\": false,\n         \"show\": true,\n         \"total\": false,\n      \
      \   \"values\": false\n         },\n         \"lines\": true,\n         \"linewidth\"\
      : 1,\n         \"links\": [],\n         \"nullPointMode\": \"null\",\n     \
      \    \"percentage\": false,\n         \"pointradius\": 5,\n         \"points\"\
      : false,\n         \"renderer\": \"flot\",\n         \"seriesOverrides\": [\n\
      \         {\n            \"alias\": \"Panic Mode\",\n            \"color\":\
      \ \"#ea6460\",\n            \"dashes\": true,\n            \"fill\": 2,\n  \
      \          \"linewidth\": 2,\n            \"steppedLine\": true,\n         \
      \   \"yaxis\": 2\n         },\n         {\n            \"alias\": \"Target Concurrency\
      \ Per Pod\",\n            \"color\": \"#0a50a1\",\n            \"dashes\": true,\n\
      \            \"steppedLine\": false\n         }\n         ],\n         \"spaceLength\"\
      : 10,\n         \"stack\": false,\n         \"steppedLine\": true,\n       \
      \  \"targets\": [\n         {\n            \"expr\": \"sum(activator_request_concurrency{namespace_name=\\\
      \"$namespace\\\", configuration_name=\\\"$configuration\\\", revision_name=\\\
      \"$revision\\\"})\",\n            \"format\": \"time_series\",\n           \
      \ \"interval\": \"1s\",\n            \"intervalFactor\": 1,\n            \"\
      legendFormat\": \"Request Concurrency\",\n            \"refId\": \"A\"\n   \
      \      }\n         ],\n         \"thresholds\": [],\n         \"timeFrom\":\
      \ null,\n         \"timeShift\": null,\n         \"title\": \"Request Concurrency\"\
      ,\n         \"tooltip\": {\n         \"shared\": true,\n         \"sort\": 0,\n\
      \         \"value_type\": \"individual\"\n         },\n         \"type\": \"\
      graph\",\n         \"xaxis\": {\n         \"buckets\": null,\n         \"mode\"\
      : \"time\",\n         \"name\": null,\n         \"show\": true,\n         \"\
      values\": []\n         },\n         \"yaxes\": [\n         {\n            \"\
      format\": \"short\",\n            \"label\": \"\",\n            \"logBase\"\
      : 1,\n            \"max\": null,\n            \"min\": null,\n            \"\
      show\": true\n         },\n         {\n            \"format\": \"short\",\n\
      \            \"label\": \"\",\n            \"logBase\": 1,\n            \"max\"\
      : null,\n            \"min\": null,\n            \"show\": false\n         }\n\
      \         ]\n      }\n   ],\n   \"refresh\": false,\n   \"schemaVersion\": 16,\n\
      \   \"style\": \"dark\",\n   \"tags\": [],\n   \"templating\": {\n      \"list\"\
      : [\n         {\n         \"allValue\": null,\n         \"current\": {},\n \
      \        \"datasource\": \"prometheus\",\n         \"hide\": 0,\n         \"\
      includeAll\": false,\n         \"label\": \"Namespace\",\n         \"multi\"\
      : false,\n         \"name\": \"namespace\",\n         \"options\": [],\n   \
      \      \"query\": \"label_values(autoscaler_desired_pods, namespace_name)\"\
      ,\n         \"refresh\": 1,\n         \"regex\": \"\",\n         \"sort\": 1,\n\
      \         \"tagValuesQuery\": \"\",\n         \"tags\": [],\n         \"tagsQuery\"\
      : \"\",\n         \"type\": \"query\",\n         \"useTags\": false\n      \
      \   },\n         {\n         \"allValue\": null,\n         \"current\": {},\n\
      \         \"datasource\": \"prometheus\",\n         \"hide\": 0,\n         \"\
      includeAll\": false,\n         \"label\": \"Configuration\",\n         \"multi\"\
      : false,\n         \"name\": \"configuration\",\n         \"options\": [],\n\
      \         \"query\": \"label_values(autoscaler_desired_pods{namespace_name=\\\
      \"$namespace\\\"}, configuration_name)\",\n         \"refresh\": 1,\n      \
      \   \"regex\": \"\",\n         \"sort\": 1,\n         \"tagValuesQuery\": \"\
      \",\n         \"tags\": [],\n         \"tagsQuery\": \"\",\n         \"type\"\
      : \"query\",\n         \"useTags\": false\n         },\n         {\n       \
      \  \"allValue\": null,\n         \"current\": {},\n         \"datasource\":\
      \ \"prometheus\",\n         \"hide\": 0,\n         \"includeAll\": false,\n\
      \         \"label\": \"Revision\",\n         \"multi\": false,\n         \"\
      name\": \"revision\",\n         \"options\": [],\n         \"query\": \"label_values(autoscaler_desired_pods{namespace_name=\\\
      \"$namespace\\\", configuration_name=\\\"$configuration\\\"}, revision_name)\"\
      ,\n         \"refresh\": 1,\n         \"regex\": \"\",\n         \"sort\": 2,\n\
      \         \"tagValuesQuery\": \"\",\n         \"tags\": [],\n         \"tagsQuery\"\
      : \"\",\n         \"type\": \"query\",\n         \"useTags\": false\n      \
      \   }\n      ]\n   },\n   \"time\": {\n      \"from\": \"now-15m\",\n      \"\
      to\": \"now\"\n   },\n   \"timepicker\": {\n      \"refresh_intervals\": [\n\
      \         \"5s\",\n         \"10s\",\n         \"30s\",\n         \"1m\",\n\
      \         \"5m\",\n         \"15m\",\n         \"30m\",\n         \"1h\",\n\
      \         \"2h\",\n         \"1d\"\n      ],\n      \"time_options\": [\n  \
      \       \"5m\",\n         \"15m\",\n         \"1h\",\n         \"6h\",\n   \
      \      \"12h\",\n         \"24h\",\n         \"2d\",\n         \"7d\",\n   \
      \      \"30d\"\n      ]\n   },\n   \"timezone\": \"\",\n   \"title\": \"Knative\
      \ Serving - Scaling Debugging\",\n   \"uid\": \"u_-9SIMiz\",\n   \"version\"\
      : 2\n   }\n"
  kind: ConfigMap
  metadata:
    labels:
      serving.knative.dev/release: v0.8.1
    name: scaling-config
    namespace: knative-monitoring
- apiVersion: v1
  data:
    resource-dashboard.json: "{\n  \"__inputs\": [\n    {\n      \"description\":\
      \ \"\",\n      \"label\": \"prometheus\",\n      \"name\": \"prometheus\",\n\
      \      \"pluginId\": \"prometheus\",\n      \"pluginName\": \"Prometheus\",\n\
      \      \"type\": \"datasource\"\n    }\n  ],\n  \"annotations\": {\n    \"list\"\
      : []\n  },\n  \"description\": \"Knative Serving - Revision CPU and Memory Usage\"\
      ,\n  \"editable\": false,\n  \"gnetId\": null,\n  \"graphTooltip\": 0,\n  \"\
      links\": [],\n  \"panels\": [\n    {\n      \"aliasColors\": {},\n      \"bars\"\
      : false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\"\
      : \"prometheus\",\n      \"fill\": 1,\n      \"gridPos\": {\n        \"h\":\
      \ 9,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 0\n      },\n  \
      \    \"id\": 2,\n      \"legend\": {\n        \"avg\": false,\n        \"current\"\
      : false,\n        \"max\": false,\n        \"min\": false,\n        \"show\"\
      : true,\n        \"total\": false,\n        \"values\": false\n      },\n  \
      \    \"lines\": true,\n      \"linewidth\": 1,\n      \"links\": [],\n     \
      \ \"nullPointMode\": \"null\",\n      \"percentage\": false,\n      \"pointradius\"\
      : 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\"\
      : [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\"\
      : false,\n      \"targets\": [\n        {\n          \"expr\": \"sum(rate(container_cpu_usage_seconds_total{namespace=\\\
      \"$namespace\\\", pod_name=~\\\"$revision.*\\\", container_name != \\\"POD\\\
      \"}[1m])) by (container_name)\",\n          \"format\": \"time_series\",\n \
      \         \"intervalFactor\": 1,\n          \"legendFormat\": \"{{container_name}}\"\
      ,\n          \"refId\": \"A\"\n        }\n      ],\n      \"thresholds\": [],\n\
      \      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"\
      Total CPU Usage\",\n      \"tooltip\": {\n        \"shared\": true,\n      \
      \  \"sort\": 2,\n        \"value_type\": \"individual\"\n      },\n      \"\
      type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n       \
      \ \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n  \
      \      \"values\": []\n      },\n      \"yaxes\": [\n        {\n          \"\
      format\": \"s\",\n          \"label\": null,\n          \"logBase\": 1,\n  \
      \        \"max\": null,\n          \"min\": null,\n          \"show\": true\n\
      \        },\n        {\n          \"format\": \"short\",\n          \"label\"\
      : null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\"\
      : null,\n          \"show\": false\n        }\n      ]\n    },\n    {\n    \
      \  \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n\
      \      \"dashes\": false,\n      \"datasource\": \"prometheus\",\n      \"fill\"\
      : 1,\n      \"gridPos\": {\n        \"h\": 9,\n        \"w\": 12,\n        \"\
      x\": 12,\n        \"y\": 0\n      },\n      \"id\": 3,\n      \"legend\": {\n\
      \        \"avg\": false,\n        \"current\": false,\n        \"max\": false,\n\
      \        \"min\": false,\n        \"show\": true,\n        \"total\": false,\n\
      \        \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\"\
      : 1,\n      \"links\": [],\n      \"nullPointMode\": \"null\",\n      \"percentage\"\
      : false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\"\
      : \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n  \
      \    \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n\
      \        {\n          \"expr\": \"sum(container_memory_usage_bytes{namespace=\\\
      \"$namespace\\\", pod_name=~\\\"$revision.*\\\", container_name != \\\"POD\\\
      \"}) by (container_name)\",\n          \"format\": \"time_series\",\n      \
      \    \"intervalFactor\": 1,\n          \"legendFormat\": \"{{container_name}}\"\
      ,\n          \"refId\": \"A\"\n        }\n      ],\n      \"thresholds\": [],\n\
      \      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"\
      Total Memory Usage\",\n      \"tooltip\": {\n        \"shared\": true,\n   \
      \     \"sort\": 2,\n        \"value_type\": \"individual\"\n      },\n     \
      \ \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n   \
      \     \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n\
      \        \"values\": []\n      },\n      \"yaxes\": [\n        {\n         \
      \ \"format\": \"decbytes\",\n          \"label\": null,\n          \"logBase\"\
      : 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\"\
      : true\n        },\n        {\n          \"format\": \"short\",\n          \"\
      label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n      \
      \    \"min\": null,\n          \"show\": false\n        }\n      ]\n    }\n\
      \  ],\n  \"refresh\": \"5s\",\n  \"schemaVersion\": 16,\n  \"style\": \"dark\"\
      ,\n  \"tags\": [],\n  \"templating\": {\n    \"list\": [\n      {\n        \"\
      allValue\": null,\n        \"current\": {},\n        \"datasource\": \"prometheus\"\
      ,\n        \"hide\": 0,\n        \"includeAll\": false,\n        \"label\":\
      \ \"Namespace\",\n        \"multi\": false,\n        \"name\": \"namespace\"\
      ,\n        \"options\": [],\n        \"query\": \"label_values(kube_pod_labels{label_serving_knative_dev_configuration=~\\\
      \".+\\\"}, namespace)\",\n        \"refresh\": 2,\n        \"regex\": \"\",\n\
      \        \"sort\": 1,\n        \"tagValuesQuery\": \"\",\n        \"tags\":\
      \ [],\n        \"tagsQuery\": \"\",\n        \"type\": \"query\",\n        \"\
      useTags\": false\n      },\n      {\n        \"allValue\": null,\n        \"\
      current\": {},\n        \"datasource\": \"prometheus\",\n        \"hide\": 0,\n\
      \        \"includeAll\": false,\n        \"label\": \"Configuration\",\n   \
      \     \"multi\": false,\n        \"name\": \"configuration\",\n        \"options\"\
      : [],\n        \"query\": \"label_values(kube_pod_labels{label_serving_knative_dev_configuration=~\\\
      \".+\\\", namespace=\\\"$namespace\\\"}, label_serving_knative_dev_configuration)\"\
      ,\n        \"refresh\": 2,\n        \"regex\": \"\",\n        \"sort\": 1,\n\
      \        \"tagValuesQuery\": \"\",\n        \"tags\": [],\n        \"tagsQuery\"\
      : \"\",\n        \"type\": \"query\",\n        \"useTags\": false\n      },\n\
      \      {\n        \"allValue\": null,\n        \"current\": {},\n        \"\
      datasource\": \"prometheus\",\n        \"hide\": 0,\n        \"includeAll\"\
      : false,\n        \"label\": \"Revision\",\n        \"multi\": false,\n    \
      \    \"name\": \"revision\",\n        \"options\": [],\n        \"query\": \"\
      label_values(kube_pod_labels{label_serving_knative_dev_configuration=~\\\".+\\\
      \", namespace=\\\"$namespace\\\", label_serving_knative_dev_configuration=\\\
      \"$configuration\\\"}, label_serving_knative_dev_revision)\",\n        \"refresh\"\
      : 2,\n        \"regex\": \"\",\n        \"sort\": 2,\n        \"tagValuesQuery\"\
      : \"\",\n        \"tags\": [],\n        \"tagsQuery\": \"\",\n        \"type\"\
      : \"query\",\n        \"useTags\": false\n      }\n    ]\n  },\n  \"time\":\
      \ {\n    \"from\": \"now-15m\",\n    \"to\": \"now\"\n  },\n  \"timepicker\"\
      : {\n    \"refresh_intervals\": [\n      \"5s\",\n      \"10s\",\n      \"30s\"\
      ,\n      \"1m\",\n      \"5m\",\n      \"15m\",\n      \"30m\",\n      \"1h\"\
      ,\n      \"2h\",\n      \"1d\"\n    ],\n    \"time_options\": [\n      \"5m\"\
      ,\n      \"15m\",\n      \"1h\",\n      \"6h\",\n      \"12h\",\n      \"24h\"\
      ,\n      \"2d\",\n      \"7d\",\n      \"30d\"\n    ]\n  },\n  \"timezone\"\
      : \"\",\n  \"title\": \"Knative Serving - Revision CPU and Memory Usage\",\n\
      \  \"uid\": \"bKOoE9Wmk\",\n  \"version\": 4\n}\n"
    revision-dashboard.json: "{\n  \"__inputs\": [\n    {\n      \"description\":\
      \ \"\",\n      \"label\": \"prometheus\",\n      \"name\": \"prometheus\",\n\
      \      \"pluginId\": \"prometheus\",\n      \"pluginName\": \"Prometheus\",\n\
      \      \"type\": \"datasource\"\n    }\n  ],\n  \"annotations\": {\n    \"list\"\
      : []\n  },\n  \"description\": \"Knative Serving - Revision HTTP Requests\"\
      ,\n  \"editable\": false,\n  \"gnetId\": null,\n  \"graphTooltip\": 0,\n  \"\
      links\": [],\n  \"panels\": [\n    {\n      \"collapsed\": false,\n      \"\
      gridPos\": {\n        \"h\": 1,\n        \"w\": 24,\n        \"x\": 0,\n   \
      \     \"y\": 0\n      },\n      \"id\": 8,\n      \"panels\": [],\n      \"\
      title\": \"Overview (average over the selected time range)\",\n      \"type\"\
      : \"row\"\n    },\n    {\n      \"cacheTimeout\": null,\n      \"colorBackground\"\
      : false,\n      \"colorValue\": false,\n      \"colors\": [\n        \"#299c46\"\
      ,\n        \"rgba(237, 129, 40, 0.89)\",\n        \"#d44a3a\"\n      ],\n  \
      \    \"datasource\": \"prometheus\",\n      \"format\": \"ops\",\n      \"gauge\"\
      : {\n        \"maxValue\": 100,\n        \"minValue\": 0,\n        \"show\"\
      : false,\n        \"thresholdLabels\": false,\n        \"thresholdMarkers\"\
      : true\n      },\n      \"gridPos\": {\n        \"h\": 4,\n        \"w\": 6,\n\
      \        \"x\": 0,\n        \"y\": 1\n      },\n      \"id\": 2,\n      \"interval\"\
      : null,\n      \"links\": [],\n      \"mappingType\": 1,\n      \"mappingTypes\"\
      : [\n        {\n          \"name\": \"value to text\",\n          \"value\"\
      : 1\n        },\n        {\n          \"name\": \"range to text\",\n       \
      \   \"value\": 2\n        }\n      ],\n      \"maxDataPoints\": 100,\n     \
      \ \"nullPointMode\": \"connected\",\n      \"nullText\": null,\n      \"postfix\"\
      : \"\",\n      \"postfixFontSize\": \"50%\",\n      \"prefix\": \"\",\n    \
      \  \"prefixFontSize\": \"50%\",\n      \"rangeMaps\": [\n        {\n       \
      \   \"from\": \"null\",\n          \"text\": \"N/A\",\n          \"to\": \"\
      null\"\n        }\n      ],\n      \"repeat\": null,\n      \"repeatDirection\"\
      : \"v\",\n      \"sparkline\": {\n        \"fillColor\": \"rgba(31, 118, 189,\
      \ 0.18)\",\n        \"full\": true,\n        \"lineColor\": \"rgb(31, 120, 193)\"\
      ,\n        \"show\": true\n      },\n      \"tableColumn\": \"\",\n      \"\
      targets\": [\n        {\n          \"expr\": \"round(sum(rate(revision_request_count{namespace_name=\\\
      \"$namespace\\\", revision_name=~\\\"$revision\\\", configuration_name=~\\\"\
      $configuration\\\"}[1m])), 0.001)\",\n          \"format\": \"time_series\"\
      ,\n          \"hide\": false,\n          \"interval\": \"\",\n          \"intervalFactor\"\
      : 1,\n          \"refId\": \"A\"\n        }\n      ],\n      \"thresholds\"\
      : \"\",\n      \"title\": \"Request Volume\",\n      \"type\": \"singlestat\"\
      ,\n      \"valueFontSize\": \"80%\",\n      \"valueMaps\": [\n        {\n  \
      \        \"op\": \"=\",\n          \"text\": \"N/A\",\n          \"value\":\
      \ \"null\"\n        }\n      ],\n      \"valueName\": \"avg\"\n    },\n    {\n\
      \      \"cacheTimeout\": null,\n      \"colorBackground\": false,\n      \"\
      colorValue\": false,\n      \"colors\": [\n        \"#d44a3a\",\n        \"\
      rgba(237, 129, 40, 0.89)\",\n        \"#299c46\"\n      ],\n      \"datasource\"\
      : \"prometheus\",\n      \"format\": \"percentunit\",\n      \"gauge\": {\n\
      \        \"maxValue\": 100,\n        \"minValue\": 0,\n        \"show\": false,\n\
      \        \"thresholdLabels\": false,\n        \"thresholdMarkers\": true\n \
      \     },\n      \"gridPos\": {\n        \"h\": 4,\n        \"w\": 6,\n     \
      \   \"x\": 6,\n        \"y\": 1\n      },\n      \"id\": 4,\n      \"interval\"\
      : null,\n      \"links\": [],\n      \"mappingType\": 1,\n      \"mappingTypes\"\
      : [\n        {\n          \"name\": \"value to text\",\n          \"value\"\
      : 1\n        },\n        {\n          \"name\": \"range to text\",\n       \
      \   \"value\": 2\n        }\n      ],\n      \"maxDataPoints\": 100,\n     \
      \ \"nullPointMode\": \"connected\",\n      \"nullText\": null,\n      \"postfix\"\
      : \"\",\n      \"postfixFontSize\": \"50%\",\n      \"prefix\": \"\",\n    \
      \  \"prefixFontSize\": \"50%\",\n      \"rangeMaps\": [\n        {\n       \
      \   \"from\": \"null\",\n          \"text\": \"N/A\",\n          \"to\": \"\
      null\"\n        }\n      ],\n      \"sparkline\": {\n        \"fillColor\":\
      \ \"rgba(31, 118, 189, 0.18)\",\n        \"full\": true,\n        \"lineColor\"\
      : \"rgb(31, 120, 193)\",\n        \"show\": true\n      },\n      \"tableColumn\"\
      : \"\",\n      \"targets\": [\n        {\n          \"expr\": \"sum(rate(revision_request_count{response_code_class!=\\\
      \"5xx\\\", namespace_name=\\\"$namespace\\\", revision_name=~\\\"$revision\\\
      \", configuration_name=~\\\"$configuration\\\"}[1m])) / sum(rate(revision_request_count{namespace_name=\\\
      \"$namespace\\\", revision_name=~\\\"$revision\\\", configuration_name=~\\\"\
      $configuration\\\"}[1m]))\",\n          \"format\": \"time_series\",\n     \
      \     \"interval\": \"\",\n          \"intervalFactor\": 1,\n          \"refId\"\
      : \"A\"\n        }\n      ],\n      \"thresholds\": \"95, 99, 99.5\",\n    \
      \  \"title\": \"Success Rate (non-5xx responses)\",\n      \"type\": \"singlestat\"\
      ,\n      \"valueFontSize\": \"80%\",\n      \"valueMaps\": [\n        {\n  \
      \        \"op\": \"=\",\n          \"text\": \"N/A\",\n          \"value\":\
      \ \"null\"\n        }\n      ],\n      \"valueName\": \"avg\"\n    },\n    {\n\
      \      \"cacheTimeout\": null,\n      \"colorBackground\": false,\n      \"\
      colorValue\": false,\n      \"colors\": [\n        \"#d44a3a\",\n        \"\
      rgba(237, 129, 40, 0.89)\",\n        \"#299c46\"\n      ],\n      \"datasource\"\
      : \"prometheus\",\n      \"format\": \"ops\",\n      \"gauge\": {\n        \"\
      maxValue\": 100,\n        \"minValue\": 0,\n        \"show\": false,\n     \
      \   \"thresholdLabels\": false,\n        \"thresholdMarkers\": true\n      },\n\
      \      \"gridPos\": {\n        \"h\": 4,\n        \"w\": 6,\n        \"x\":\
      \ 12,\n        \"y\": 1\n      },\n      \"id\": 5,\n      \"interval\": null,\n\
      \      \"links\": [],\n      \"mappingType\": 1,\n      \"mappingTypes\": [\n\
      \        {\n          \"name\": \"value to text\",\n          \"value\": 1\n\
      \        },\n        {\n          \"name\": \"range to text\",\n          \"\
      value\": 2\n        }\n      ],\n      \"maxDataPoints\": 100,\n      \"nullPointMode\"\
      : \"connected\",\n      \"nullText\": null,\n      \"postfix\": \"\",\n    \
      \  \"postfixFontSize\": \"50%\",\n      \"prefix\": \"\",\n      \"prefixFontSize\"\
      : \"50%\",\n      \"rangeMaps\": [\n        {\n          \"from\": \"null\"\
      ,\n          \"text\": \"N/A\",\n          \"to\": \"null\"\n        }\n   \
      \   ],\n      \"sparkline\": {\n        \"fillColor\": \"rgba(31, 118, 189,\
      \ 0.18)\",\n        \"full\": true,\n        \"lineColor\": \"rgb(31, 120, 193)\"\
      ,\n        \"show\": true\n      },\n      \"tableColumn\": \"\",\n      \"\
      targets\": [\n        {\n          \"expr\": \"sum(rate(revision_request_count{response_code_class=\\\
      \"4xx\\\", namespace_name=\\\"$namespace\\\", revision_name=~\\\"$revision\\\
      \", configuration_name=~\\\"$configuration\\\"}[1m])) \",\n          \"format\"\
      : \"time_series\",\n          \"interval\": \"\",\n          \"intervalFactor\"\
      : 1,\n          \"refId\": \"A\"\n        }\n      ],\n      \"thresholds\"\
      : \"\",\n      \"title\": \"4xx\",\n      \"type\": \"singlestat\",\n      \"\
      valueFontSize\": \"80%\",\n      \"valueMaps\": [\n        {\n          \"op\"\
      : \"=\",\n          \"text\": \"N/A\",\n          \"value\": \"null\"\n    \
      \    }\n      ],\n      \"valueName\": \"avg\"\n    },\n    {\n      \"cacheTimeout\"\
      : null,\n      \"colorBackground\": false,\n      \"colorValue\": false,\n \
      \     \"colors\": [\n        \"#d44a3a\",\n        \"rgba(237, 129, 40, 0.89)\"\
      ,\n        \"#299c46\"\n      ],\n      \"datasource\": \"prometheus\",\n  \
      \    \"format\": \"ops\",\n      \"gauge\": {\n        \"maxValue\": 100,\n\
      \        \"minValue\": 0,\n        \"show\": false,\n        \"thresholdLabels\"\
      : false,\n        \"thresholdMarkers\": true\n      },\n      \"gridPos\": {\n\
      \        \"h\": 4,\n        \"w\": 6,\n        \"x\": 18,\n        \"y\": 1\n\
      \      },\n      \"id\": 9,\n      \"interval\": null,\n      \"links\": [],\n\
      \      \"mappingType\": 1,\n      \"mappingTypes\": [\n        {\n         \
      \ \"name\": \"value to text\",\n          \"value\": 1\n        },\n       \
      \ {\n          \"name\": \"range to text\",\n          \"value\": 2\n      \
      \  }\n      ],\n      \"maxDataPoints\": 100,\n      \"nullPointMode\": \"connected\"\
      ,\n      \"nullText\": null,\n      \"postfix\": \"\",\n      \"postfixFontSize\"\
      : \"50%\",\n      \"prefix\": \"\",\n      \"prefixFontSize\": \"50%\",\n  \
      \    \"rangeMaps\": [\n        {\n          \"from\": \"null\",\n          \"\
      text\": \"N/A\",\n          \"to\": \"null\"\n        }\n      ],\n      \"\
      sparkline\": {\n        \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n     \
      \   \"full\": true,\n        \"lineColor\": \"rgb(31, 120, 193)\",\n       \
      \ \"show\": true\n      },\n      \"tableColumn\": \"\",\n      \"targets\"\
      : [\n        {\n          \"expr\": \"sum(rate(revision_request_count{response_code_class=\\\
      \"5xx\\\", namespace_name=\\\"$namespace\\\", revision_name=~\\\"$revision\\\
      \", configuration_name=~\\\"$configuration\\\"}[1m])) \",\n          \"format\"\
      : \"time_series\",\n          \"interval\": \"\",\n          \"intervalFactor\"\
      : 1,\n          \"refId\": \"A\"\n        }\n      ],\n      \"thresholds\"\
      : \"\",\n      \"title\": \"5xx\",\n      \"type\": \"singlestat\",\n      \"\
      valueFontSize\": \"80%\",\n      \"valueMaps\": [\n        {\n          \"op\"\
      : \"=\",\n          \"text\": \"N/A\",\n          \"value\": \"null\"\n    \
      \    }\n      ],\n      \"valueName\": \"avg\"\n    },\n    {\n      \"collapsed\"\
      : false,\n      \"gridPos\": {\n        \"h\": 1,\n        \"w\": 24,\n    \
      \    \"x\": 0,\n        \"y\": 5\n      },\n      \"id\": 11,\n      \"panels\"\
      : [],\n      \"title\": \"Request Volume\",\n      \"type\": \"row\"\n    },\n\
      \    {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\"\
      : 10,\n      \"dashes\": false,\n      \"datasource\": \"prometheus\",\n   \
      \   \"fill\": 1,\n      \"gridPos\": {\n        \"h\": 10,\n        \"w\": 12,\n\
      \        \"x\": 0,\n        \"y\": 6\n      },\n      \"id\": 17,\n      \"\
      legend\": {\n        \"avg\": false,\n        \"current\": false,\n        \"\
      max\": false,\n        \"min\": false,\n        \"show\": true,\n        \"\
      total\": false,\n        \"values\": false\n      },\n      \"lines\": true,\n\
      \      \"linewidth\": 1,\n      \"links\": [],\n      \"nullPointMode\": \"\
      null\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\"\
      : false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n  \
      \    \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n\
      \      \"targets\": [\n        {\n          \"expr\": \"label_replace(round(sum(rate(revision_request_count{namespace_name=\\\
      \"$namespace\\\", configuration_name=~\\\"$configuration\\\",revision_name=~\\\
      \"$revision\\\"}[1m])) by (revision_name), 0.001), \\\"revision_name\\\", \\\
      \"$2\\\", \\\"revision_name\\\", \\\"$configuration(-+)(.*)\\\")\",\n      \
      \    \"format\": \"time_series\",\n          \"interval\": \"\",\n         \
      \ \"intervalFactor\": 1,\n          \"legendFormat\": \"{{revision_name}}\"\
      ,\n          \"refId\": \"A\"\n        }\n      ],\n      \"thresholds\": [],\n\
      \      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"\
      Request Volume by Revision\",\n      \"tooltip\": {\n        \"shared\": true,\n\
      \        \"sort\": 2,\n        \"value_type\": \"individual\"\n      },\n  \
      \    \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n\
      \        \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n\
      \        \"values\": []\n      },\n      \"yaxes\": [\n        {\n         \
      \ \"format\": \"ops\",\n          \"label\": null,\n          \"logBase\": 1,\n\
      \          \"max\": null,\n          \"min\": null,\n          \"show\": true\n\
      \        },\n        {\n          \"format\": \"short\",\n          \"label\"\
      : null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\"\
      : null,\n          \"show\": true\n        }\n      ]\n    },\n    {\n     \
      \ \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n\
      \      \"dashes\": false,\n      \"datasource\": \"prometheus\",\n      \"fill\"\
      : 1,\n      \"gridPos\": {\n        \"h\": 10,\n        \"w\": 12,\n       \
      \ \"x\": 12,\n        \"y\": 6\n      },\n      \"id\": 18,\n      \"legend\"\
      : {\n        \"avg\": false,\n        \"current\": false,\n        \"max\":\
      \ false,\n        \"min\": false,\n        \"show\": true,\n        \"total\"\
      : false,\n        \"values\": false\n      },\n      \"lines\": true,\n    \
      \  \"linewidth\": 1,\n      \"links\": [],\n      \"nullPointMode\": \"null\"\
      ,\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\"\
      : false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n  \
      \    \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n\
      \      \"targets\": [\n        {\n          \"expr\": \"round(sum(rate(revision_request_count{namespace_name=\\\
      \"$namespace\\\", configuration_name=~\\\"$configuration\\\",revision_name=~\\\
      \"$revision\\\"}[1m])) by (response_code_class), 0.001)\",\n          \"format\"\
      : \"time_series\",\n          \"interval\": \"\",\n          \"intervalFactor\"\
      : 1,\n          \"legendFormat\": \"{{ response_code_class }}\",\n         \
      \ \"refId\": \"A\"\n        }\n      ],\n      \"thresholds\": [],\n      \"\
      timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Request Volume\
      \ by Response Code Class\",\n      \"tooltip\": {\n        \"shared\": true,\n\
      \        \"sort\": 2,\n        \"value_type\": \"individual\"\n      },\n  \
      \    \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n\
      \        \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n\
      \        \"values\": []\n      },\n      \"yaxes\": [\n        {\n         \
      \ \"format\": \"ops\",\n          \"label\": null,\n          \"logBase\": 1,\n\
      \          \"max\": null,\n          \"min\": null,\n          \"show\": true\n\
      \        },\n        {\n          \"format\": \"short\",\n          \"label\"\
      : null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\"\
      : null,\n          \"show\": true\n        }\n      ]\n    },\n    {\n     \
      \ \"collapsed\": false,\n      \"gridPos\": {\n        \"h\": 1,\n        \"\
      w\": 24,\n        \"x\": 0,\n        \"y\": 16\n      },\n      \"id\": 15,\n\
      \      \"panels\": [],\n      \"title\": \"Response Time\",\n      \"type\"\
      : \"row\"\n    },\n    {\n      \"aliasColors\": {},\n      \"bars\": false,\n\
      \      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\":\
      \ \"prometheus\",\n      \"fill\": 1,\n      \"gridPos\": {\n        \"h\":\
      \ 9,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 17\n      },\n \
      \     \"id\": 20,\n      \"legend\": {\n        \"alignAsTable\": false,\n \
      \       \"avg\": true,\n        \"current\": false,\n        \"hideEmpty\":\
      \ false,\n        \"hideZero\": false,\n        \"max\": false,\n        \"\
      min\": false,\n        \"rightSide\": false,\n        \"show\": true,\n    \
      \    \"total\": false,\n        \"values\": true\n      },\n      \"lines\"\
      : true,\n      \"linewidth\": 1,\n      \"links\": [],\n      \"nullPointMode\"\
      : \"null\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n     \
      \ \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\"\
      : [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\"\
      : false,\n      \"targets\": [\n        {\n          \"expr\": \"label_replace(histogram_quantile(0.50,\
      \ sum(rate(revision_request_latencies_bucket{namespace_name=\\\"$namespace\\\
      \", configuration_name=~\\\"$configuration\\\",revision_name=~\\\"$revision\\\
      \"}[1m])) by (revision_name, le)), \\\"revision_name\\\", \\\"$2\\\", \\\"revision_name\\\
      \", \\\"$configuration(-+)(.*)\\\")\",\n          \"format\": \"time_series\"\
      ,\n          \"intervalFactor\": 1,\n          \"legendFormat\": \"{{ revision_name\
      \ }} (p50)\",\n          \"refId\": \"A\"\n        },\n        {\n         \
      \ \"expr\": \"label_replace(histogram_quantile(0.90, sum(rate(revision_request_latencies_bucket{namespace_name=\\\
      \"$namespace\\\", configuration_name=~\\\"$configuration\\\",revision_name=~\\\
      \"$revision\\\"}[1m])) by (revision_name, le)), \\\"revision_name\\\", \\\"\
      $2\\\", \\\"revision_name\\\", \\\"$configuration(-+)(.*)\\\")\",\n        \
      \  \"format\": \"time_series\",\n          \"intervalFactor\": 1,\n        \
      \  \"legendFormat\": \"{{ revision_name }} (p90)\",\n          \"refId\": \"\
      B\"\n        },\n        {\n          \"expr\": \"label_replace(histogram_quantile(0.95,\
      \ sum(rate(revision_request_latencies_bucket{namespace_name=\\\"$namespace\\\
      \", configuration_name=~\\\"$configuration\\\",revision_name=~\\\"$revision\\\
      \"}[1m])) by (revision_name, le)), \\\"revision_name\\\", \\\"$2\\\", \\\"revision_name\\\
      \", \\\"$configuration(-+)(.*)\\\")\",\n          \"format\": \"time_series\"\
      ,\n          \"intervalFactor\": 1,\n          \"legendFormat\": \"{{ revision_name\
      \ }} (p95)\",\n          \"refId\": \"C\"\n        },\n        {\n         \
      \ \"expr\": \"label_replace(histogram_quantile(0.99, sum(rate(revision_request_latencies_bucket{namespace_name=\\\
      \"$namespace\\\", configuration_name=~\\\"$configuration\\\",revision_name=~\\\
      \"$revision\\\"}[1m])) by (revision_name, le)), \\\"revision_name\\\", \\\"\
      $2\\\", \\\"revision_name\\\", \\\"$configuration(-+)(.*)\\\")\",\n        \
      \  \"format\": \"time_series\",\n          \"intervalFactor\": 1,\n        \
      \  \"legendFormat\": \"{{ revision_name }} (p99)\",\n          \"refId\": \"\
      D\"\n        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n\
      \      \"timeShift\": null,\n      \"title\": \"Response Time by Revision\"\
      ,\n      \"tooltip\": {\n        \"shared\": true,\n        \"sort\": 2,\n \
      \       \"value_type\": \"individual\"\n      },\n      \"type\": \"graph\"\
      ,\n      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\": \"time\"\
      ,\n        \"name\": null,\n        \"show\": true,\n        \"values\": []\n\
      \      },\n      \"yaxes\": [\n        {\n          \"format\": \"s\",\n   \
      \       \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n\
      \          \"min\": null,\n          \"show\": true\n        },\n        {\n\
      \          \"format\": \"short\",\n          \"label\": null,\n          \"\
      logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n        \
      \  \"show\": false\n        }\n      ]\n    },\n    {\n      \"aliasColors\"\
      : {},\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\":\
      \ false,\n      \"datasource\": \"prometheus\",\n      \"fill\": 1,\n      \"\
      gridPos\": {\n        \"h\": 9,\n        \"w\": 12,\n        \"x\": 12,\n  \
      \      \"y\": 17\n      },\n      \"id\": 21,\n      \"legend\": {\n       \
      \ \"alignAsTable\": false,\n        \"avg\": true,\n        \"current\": false,\n\
      \        \"hideEmpty\": false,\n        \"hideZero\": false,\n        \"max\"\
      : false,\n        \"min\": false,\n        \"rightSide\": false,\n        \"\
      show\": true,\n        \"total\": false,\n        \"values\": true\n      },\n\
      \      \"lines\": true,\n      \"linewidth\": 1,\n      \"links\": [],\n   \
      \   \"nullPointMode\": \"null\",\n      \"percentage\": false,\n      \"pointradius\"\
      : 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\"\
      : [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\"\
      : false,\n      \"targets\": [\n        {\n          \"expr\": \"label_replace(histogram_quantile(0.50,\
      \ sum(rate(revision_request_latencies_bucket{namespace_name=\\\"$namespace\\\
      \", configuration_name=~\\\"$configuration\\\",revision_name=~\\\"$revision\\\
      \",response_code_class=\\\"2xx\\\"}[1m])) by (le)), \\\"revision_name\\\", \\\
      \"$2\\\", \\\"revision_name\\\", \\\"$configuration(-+)(.*)\\\")\",\n      \
      \    \"format\": \"time_series\",\n          \"intervalFactor\": 1,\n      \
      \    \"legendFormat\": \"2xx (p50)\",\n          \"refId\": \"C\"\n        },\n\
      \        {\n          \"expr\": \"label_replace(histogram_quantile(0.50, sum(rate(revision_request_latencies_bucket{namespace_name=\\\
      \"$namespace\\\", configuration_name=~\\\"$configuration\\\",revision_name=~\\\
      \"$revision\\\",response_code_class=\\\"3xx\\\"}[1m])) by (le)), \\\"revision_name\\\
      \", \\\"$2\\\", \\\"revision_name\\\", \\\"$configuration(-+)(.*)\\\")\",\n\
      \          \"format\": \"time_series\",\n          \"intervalFactor\": 1,\n\
      \          \"legendFormat\": \"3xx (p50)\",\n          \"refId\": \"D\"\n  \
      \      },\n        {\n          \"expr\": \"label_replace(histogram_quantile(0.50,\
      \ sum(rate(revision_request_latencies_bucket{namespace_name=\\\"$namespace\\\
      \", configuration_name=~\\\"$configuration\\\",revision_name=~\\\"$revision\\\
      \",response_code_class=\\\"4xx\\\"}[1m])) by (le)), \\\"revision_name\\\", \\\
      \"$2\\\", \\\"revision_name\\\", \\\"$configuration(-+)(.*)\\\")\",\n      \
      \    \"format\": \"time_series\",\n          \"intervalFactor\": 1,\n      \
      \    \"legendFormat\": \"4xx (p50)\",\n          \"refId\": \"A\"\n        },\n\
      \        {\n          \"expr\": \"label_replace(histogram_quantile(0.50, sum(rate(revision_request_latencies_bucket{namespace_name=\\\
      \"$namespace\\\", configuration_name=~\\\"$configuration\\\",revision_name=~\\\
      \"$revision\\\",response_code_class=\\\"5xx\\\"}[1m])) by (le)), \\\"revision_name\\\
      \", \\\"$2\\\", \\\"revision_name\\\", \\\"$configuration(-+)(.*)\\\")\",\n\
      \          \"format\": \"time_series\",\n          \"intervalFactor\": 1,\n\
      \          \"legendFormat\": \"5xx (p50)\",\n          \"refId\": \"B\"\n  \
      \      },\n        {\n          \"expr\": \"label_replace(histogram_quantile(0.95,\
      \ sum(rate(revision_request_latencies_bucket{namespace_name=\\\"$namespace\\\
      \", configuration_name=~\\\"$configuration\\\",revision_name=~\\\"$revision\\\
      \",response_code_class=\\\"2xx\\\"}[1m])) by (le)), \\\"revision_name\\\", \\\
      \"$2\\\", \\\"revision_name\\\", \\\"$configuration(-+)(.*)\\\")\",\n      \
      \    \"format\": \"time_series\",\n          \"intervalFactor\": 1,\n      \
      \    \"legendFormat\": \"2xx (p95)\",\n          \"refId\": \"E\"\n        },\n\
      \        {\n          \"expr\": \"label_replace(histogram_quantile(0.95, sum(rate(revision_request_latencies_bucket{namespace_name=\\\
      \"$namespace\\\", configuration_name=~\\\"$configuration\\\",revision_name=~\\\
      \"$revision\\\",response_code_class=\\\"3xx\\\"}[1m])) by (le)), \\\"revision_name\\\
      \", \\\"$2\\\", \\\"revision_name\\\", \\\"$configuration(-+)(.*)\\\")\",\n\
      \          \"format\": \"time_series\",\n          \"intervalFactor\": 1,\n\
      \          \"legendFormat\": \"3xx (p95)\",\n          \"refId\": \"F\"\n  \
      \      },\n        {\n          \"expr\": \"label_replace(histogram_quantile(0.95,\
      \ sum(rate(revision_request_latencies_bucket{namespace_name=\\\"$namespace\\\
      \", configuration_name=~\\\"$configuration\\\",revision_name=~\\\"$revision\\\
      \",response_code_class=\\\"4xx\\\"}[1m])) by (le)), \\\"revision_name\\\", \\\
      \"$2\\\", \\\"revision_name\\\", \\\"$configuration(-+)(.*)\\\")\",\n      \
      \    \"format\": \"time_series\",\n          \"intervalFactor\": 1,\n      \
      \    \"legendFormat\": \"4xx (p95)\",\n          \"refId\": \"G\"\n        },\n\
      \        {\n          \"expr\": \"label_replace(histogram_quantile(0.95, sum(rate(revision_request_latencies_bucket{namespace_name=\\\
      \"$namespace\\\", configuration_name=~\\\"$configuration\\\",revision_name=~\\\
      \"$revision\\\",response_code_class=\\\"5xx\\\"}[1m])) by (le)), \\\"revision_name\\\
      \", \\\"$2\\\", \\\"revision_name\\\", \\\"$configuration(-+)(.*)\\\")\",\n\
      \          \"format\": \"time_series\",\n          \"intervalFactor\": 1,\n\
      \          \"legendFormat\": \"5xx (p95)\",\n          \"refId\": \"H\"\n  \
      \      }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n \
      \     \"timeShift\": null,\n      \"title\": \"Response Time by Response Code\
      \ Class\",\n      \"tooltip\": {\n        \"shared\": true,\n        \"sort\"\
      : 2,\n        \"value_type\": \"individual\"\n      },\n      \"type\": \"graph\"\
      ,\n      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\": \"time\"\
      ,\n        \"name\": null,\n        \"show\": true,\n        \"values\": []\n\
      \      },\n      \"yaxes\": [\n        {\n          \"format\": \"s\",\n   \
      \       \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n\
      \          \"min\": null,\n          \"show\": true\n        },\n        {\n\
      \          \"format\": \"short\",\n          \"label\": null,\n          \"\
      logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n        \
      \  \"show\": false\n        }\n      ]\n    }\n  ],\n  \"refresh\": \"5s\",\n\
      \  \"schemaVersion\": 16,\n  \"style\": \"dark\",\n  \"tags\": [],\n  \"templating\"\
      : {\n    \"list\": [\n      {\n        \"allValue\": null,\n        \"current\"\
      : {},\n        \"datasource\": \"prometheus\",\n        \"hide\": 0,\n     \
      \   \"includeAll\": false,\n        \"label\": \"Namespace\",\n        \"multi\"\
      : false,\n        \"name\": \"namespace\",\n        \"options\": [],\n     \
      \   \"query\": \"label_values(revision_request_count{namespace_name!=\\\"unknown\\\
      \"}, namespace_name)\",\n        \"refresh\": 1,\n        \"regex\": \"\",\n\
      \        \"sort\": 1,\n        \"tagValuesQuery\": \"\",\n        \"tags\":\
      \ [],\n        \"tagsQuery\": \"\",\n        \"type\": \"query\",\n        \"\
      useTags\": false\n      },\n      {\n        \"allValue\": null,\n        \"\
      current\": {},\n        \"datasource\": \"prometheus\",\n        \"hide\": 0,\n\
      \        \"includeAll\": false,\n        \"label\": \"Configuration\",\n   \
      \     \"multi\": false,\n        \"name\": \"configuration\",\n        \"options\"\
      : [],\n        \"query\": \"label_values(revision_request_count{namespace_name=\\\
      \"$namespace\\\", configuration_name!=\\\"unknown\\\"}, configuration_name)\"\
      ,\n        \"refresh\": 1,\n        \"regex\": \"\",\n        \"sort\": 1,\n\
      \        \"tagValuesQuery\": \"$tag\",\n        \"tags\": [],\n        \"tagsQuery\"\
      : \"\",\n        \"type\": \"query\",\n        \"useTags\": false\n      },\n\
      \      {\n        \"allValue\": null,\n        \"current\": {},\n        \"\
      datasource\": \"prometheus\",\n        \"hide\": 0,\n        \"includeAll\"\
      : true,\n        \"label\": \"Revision\",\n        \"multi\": true,\n      \
      \  \"name\": \"revision\",\n        \"options\": [],\n        \"query\": \"\
      label_values(revision_request_count{namespace_name=\\\"$namespace\\\", configuration_name=~\\\
      \"$configuration\\\", revision_name!=\\\"unknown\\\"}, revision_name)\",\n \
      \       \"refresh\": 1,\n        \"regex\": \"\",\n        \"sort\": 2,\n  \
      \      \"tagValuesQuery\": \"\",\n        \"tags\": [],\n        \"tagsQuery\"\
      : \"\",\n        \"type\": \"query\",\n        \"useTags\": false\n      }\n\
      \    ]\n  },\n  \"time\": {\n    \"from\": \"now-15m\",\n    \"to\": \"now\"\
      \n  },\n  \"timepicker\": {\n    \"refresh_intervals\": [\n      \"5s\",\n \
      \     \"10s\",\n      \"30s\",\n      \"1m\",\n      \"5m\",\n      \"15m\"\
      ,\n      \"30m\",\n      \"1h\",\n      \"2h\",\n      \"1d\"\n    ],\n    \"\
      time_options\": [\n      \"5m\",\n      \"15m\",\n      \"1h\",\n      \"6h\"\
      ,\n      \"12h\",\n      \"24h\",\n      \"2d\",\n      \"7d\",\n      \"30d\"\
      \n    ]\n  },\n  \"timezone\": \"\",\n  \"title\": \"Knative Serving - Revision\
      \ HTTP Requests\",\n  \"uid\": \"im_gFbWik\",\n  \"version\": 2\n}\n"
  kind: ConfigMap
  metadata:
    labels:
      grafana_dashboard: '1'
      serving.knative.dev/release: v0.8.1
    name: grafana-dashboard-definition-knative
    namespace: knative-monitoring
- apiVersion: v1
  data:
    prometheus.yaml: "datasources:\n - name: prometheus\n   type: prometheus\n   access:\
      \ proxy\n   org_id: 1\n   url: http://prometheus-system-np:8080\n   version:\
      \ 1\n   editable: false\n"
  kind: ConfigMap
  metadata:
    labels:
      grafana_datasource: '1'
      serving.knative.dev/release: v0.8.1
    name: grafana-datasources
    namespace: knative-monitoring
- apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRoleBinding
  metadata:
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: elasticsearch-logging
      kubernetes.io/cluster-service: 'true'
    name: elasticsearch-logging
    namespace: knative-monitoring
  roleRef:
    apiGroup: ''
    kind: ClusterRole
    name: elasticsearch-logging
  subjects:
  - apiGroup: ''
    kind: ServiceAccount
    name: elasticsearch-logging
    namespace: knative-monitoring
- apiVersion: v1
  data:
    dashboards.yaml: "- name: 'knative'\n  org_id: 1\n  folder: ''\n  type: file\n\
      \  options:\n    folder: /grafana-dashboard-definition/knative\n- name: 'knative-efficiency'\n\
      \  org_id: 1\n  folder: ''\n  type: file\n  options:\n    folder: /grafana-dashboard-definition/knative-efficiency\n\
      - name: 'knative-reconciler'\n  org_id: 1\n  folder: ''\n  type: file\n  options:\n\
      \    folder: /grafana-dashboard-definition/knative-reconciler\n- name: 'istio'\n\
      \  org_id: 1\n  folder: ''\n  type: file\n  options:\n    folder: /grafana-dashboard-definition/istio\n\
      - name: 'mixer'\n  org_id: 1\n  folder: ''\n  type: file\n  options:\n    folder:\
      \ /grafana-dashboard-definition/mixer\n- name: 'pilot'\n  org_id: 1\n  folder:\
      \ ''\n  type: file\n  options:\n    folder: /grafana-dashboard-definition/pilot\n\
      - name: 'kubernetes-deployment'\n  org_id: 1\n  folder: ''\n  type: file\n \
      \ options:\n    folder: /grafana-dashboard-definition/kubernetes-deployment\n\
      - name: 'kubernetes-capacity-planning'\n  org_id: 1\n  folder: ''\n  type: file\n\
      \  options:\n    folder: /grafana-dashboard-definition/kubernetes-capacity-planning\n\
      - name: 'kubernetes-cluster-health'\n  org_id: 1\n  folder: ''\n  type: file\n\
      \  options:\n    folder: /grafana-dashboard-definition/kubernetes-cluster-health\n\
      - name: 'kubernetes-cluster-status'\n  org_id: 1\n  folder: ''\n  type: file\n\
      \  options:\n    folder: /grafana-dashboard-definition/kubernetes-cluster-status\n\
      - name: 'kubernetes-control-plane-status'\n  org_id: 1\n  folder: ''\n  type:\
      \ file\n  options:\n    folder: /grafana-dashboard-definition/kubernetes-control-plane-status\n\
      - name: 'kubernetes-resource-requests'\n  org_id: 1\n  folder: ''\n  type: file\n\
      \  options:\n    folder: /grafana-dashboard-definition/kubernetes-resource-requests\n\
      - name: 'kubernetes-nodes'\n  org_id: 1\n  folder: ''\n  type: file\n  options:\n\
      \    folder: /grafana-dashboard-definition/kubernetes-nodes\n- name: 'kubernetes-pods'\n\
      \  org_id: 1\n  folder: ''\n  type: file\n  options:\n    folder: /grafana-dashboard-definition/kubernetes-pods\n\
      - name: 'kubernetes-statefulset'\n  org_id: 1\n  folder: ''\n  type: file\n\
      \  options:\n    folder: /grafana-dashboard-definition/kubernetes-statefulset\n\
      - name: 'knative-serving-scaling'\n  org_id: 1\n  folder: ''\n  type: file\n\
      \  options:\n    folder: /grafana-dashboard-definition/scaling\n"
  kind: ConfigMap
  metadata:
    labels:
      grafana_dashboard: '1'
      serving.knative.dev/release: v0.8.1
    name: grafana-dashboards
    namespace: knative-monitoring
- apiVersion: v1
  kind: Service
  metadata:
    labels:
      app: grafana
      serving.knative.dev/release: v0.8.1
    name: grafana
    namespace: knative-monitoring
  spec:
    ports:
    - port: 30802
      protocol: TCP
      targetPort: 3000
    selector:
      app: grafana
    type: NodePort
- apiVersion: v1
  data:
    prometheus.yml: "global:\n  scrape_interval: 30s\n  scrape_timeout: 10s\n  evaluation_interval:\
      \ 30s\nscrape_configs:\n# Controller endpoint\n- job_name: controller\n  scrape_interval:\
      \ 3s\n  scrape_timeout: 3s\n  kubernetes_sd_configs:\n  - role: pod\n  relabel_configs:\n\
      \  # Scrape only the the targets matching the following metadata\n  - source_labels:\
      \ [__meta_kubernetes_namespace, __meta_kubernetes_pod_label_app, __meta_kubernetes_pod_container_port_name]\n\
      \    action: keep\n    regex: knative-serving;controller;metrics\n  # Rename\
      \ metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Autoscaler endpoint\n- job_name: autoscaler\n\
      \  scrape_interval: 3s\n  scrape_timeout: 3s\n  kubernetes_sd_configs:\n  -\
      \ role: pod\n  relabel_configs:\n  # Scrape only the the targets matching the\
      \ following metadata\n  - source_labels: [__meta_kubernetes_namespace, __meta_kubernetes_pod_label_app,\
      \ __meta_kubernetes_pod_container_port_name]\n    action: keep\n    regex: knative-serving;autoscaler;metrics\n\
      \  # Rename metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Activator pods\n- job_name: activator\n  scrape_interval:\
      \ 3s\n  scrape_timeout: 3s\n  kubernetes_sd_configs:\n  - role: pod\n  relabel_configs:\n\
      \  # Scrape only the the targets matching the following metadata\n  - source_labels:\
      \ [__meta_kubernetes_namespace, __meta_kubernetes_pod_label_app, __meta_kubernetes_pod_container_port_name]\n\
      \    action: keep\n    regex: knative-serving;activator;metrics-port\n  # Rename\
      \ metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Webhook pods\n- job_name: webhook\n  scrape_interval:\
      \ 3s\n  scrape_timeout: 3s\n  kubernetes_sd_configs:\n  - role: pod\n  relabel_configs:\n\
      \  # Scrape only the the targets matching the following metadata\n  - source_labels:\
      \ [__meta_kubernetes_namespace, __meta_kubernetes_pod_label_role, __meta_kubernetes_pod_container_port_name]\n\
      \    action: keep\n    regex: knative-serving;webhook;metrics-port\n  # Rename\
      \ metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Queue proxy metrics\n- job_name: queue-proxy\n\
      \  scrape_interval: 3s\n  scrape_timeout: 3s\n  kubernetes_sd_configs:\n  -\
      \ role: pod\n  relabel_configs:\n  # Scrape only the the targets matching the\
      \ following metadata\n  - source_labels: [__meta_kubernetes_pod_label_serving_knative_dev_revision,\
      \ __meta_kubernetes_pod_container_port_name]\n    action: keep\n    regex: .+;user-metrics\n\
      \  # Rename metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Fluentd daemonset\n- job_name: fluentd-ds\n  kubernetes_sd_configs:\n\
      \  - role: endpoints\n  relabel_configs:\n  # Scrape only the the targets matching\
      \ the following metadata\n  - source_labels: [__meta_kubernetes_namespace, __meta_kubernetes_service_label_app,\
      \ __meta_kubernetes_endpoint_port_name]\n    action: keep\n    regex: knative-monitoring;fluentd-ds;prometheus-metrics\n\
      \  # Rename metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Istio mesh\n- job_name: istio-mesh\n  scrape_interval:\
      \ 5s\n  kubernetes_sd_configs:\n  - role: endpoints\n  relabel_configs:\n  #\
      \ Scrape only the the targets matching the following metadata\n  - source_labels:\
      \ [__meta_kubernetes_namespace, __meta_kubernetes_service_name, __meta_kubernetes_endpoint_port_name]\n\
      \    action: keep\n    regex: istio-system;istio-telemetry;prometheus\n  # Rename\
      \ metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Istio Envoy\n# These are very noisy and not enabled\
      \ by default.\n# - job_name: istio-envoy\n#   scrape_interval: 5s\n#   kubernetes_sd_configs:\n\
      #   - role: endpoints\n#   relabel_configs:\n#   # Scrape only the the targets\
      \ matching the following metadata\n#   - source_labels: [__meta_kubernetes_namespace,\
      \ __meta_kubernetes_service_name, __meta_kubernetes_endpoint_port_name]\n# \
      \    action: keep\n#     regex: istio-system;istio-statsd-prom-bridge;statsd-prom\n\
      #   # Rename metadata labels to be reader friendly\n#   - source_labels: [__meta_kubernetes_namespace]\n\
      #     target_label: namespace\n#   - source_labels: [__meta_kubernetes_pod_name]\n\
      #     target_label: pod\n#   - source_labels: [__meta_kubernetes_service_name]\n\
      #     target_label: service\n# Istio policy\n- job_name: istio-policy\n  scrape_interval:\
      \ 5s\n  kubernetes_sd_configs:\n  - role: endpoints\n  relabel_configs:\n  #\
      \ Scrape only the the targets matching the following metadata\n  - source_labels:\
      \ [__meta_kubernetes_namespace, __meta_kubernetes_service_name, __meta_kubernetes_endpoint_port_name]\n\
      \    action: keep\n    regex: istio-system;istio-policy;http-monitoring\n  #\
      \ Rename metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Istio telemetry\n- job_name: istio-telemetry\n\
      \  scrape_interval: 5s\n  kubernetes_sd_configs:\n  - role: endpoints\n  relabel_configs:\n\
      \  # Scrape only the the targets matching the following metadata\n  - source_labels:\
      \ [__meta_kubernetes_namespace, __meta_kubernetes_service_name, __meta_kubernetes_endpoint_port_name]\n\
      \    action: keep\n    regex: istio-system;istio-telemetry;http-monitoring\n\
      \  # Rename metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Istio pilot\n- job_name: istio-pilot\n  scrape_interval:\
      \ 5s\n  kubernetes_sd_configs:\n  - role: endpoints\n  relabel_configs:\n  #\
      \ Scrape only the the targets matching the following metadata\n  - source_labels:\
      \ [__meta_kubernetes_namespace, __meta_kubernetes_service_name, __meta_kubernetes_endpoint_port_name]\n\
      \    action: keep\n    regex: istio-system;istio-pilot;http-monitoring\n  #\
      \ Rename metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Kube API server\n- job_name: kube-apiserver\n\
      \  scheme: https\n  kubernetes_sd_configs:\n  - role: endpoints\n  bearer_token_file:\
      \ /var/run/secrets/kubernetes.io/serviceaccount/token\n  tls_config:\n    ca_file:\
      \ /var/run/secrets/kubernetes.io/serviceaccount/ca.crt\n    server_name: kubernetes\n\
      \    insecure_skip_verify: false\n  relabel_configs:\n  # Scrape only the the\
      \ targets matching the following metadata\n  - source_labels: [__meta_kubernetes_namespace,\
      \ __meta_kubernetes_service_label_component, __meta_kubernetes_service_label_provider,\
      \ __meta_kubernetes_endpoint_port_name]\n    action: keep\n    regex: default;apiserver;kubernetes;https\n\
      \  # Rename metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Kube controller manager\n- job_name: kube-controller-manager\n\
      \  kubernetes_sd_configs:\n  - role: endpoints\n  relabel_configs:\n  # Scrape\
      \ only the the targets matching the following metadata\n  - source_labels: [__meta_kubernetes_namespace,\
      \ __meta_kubernetes_service_label_app, __meta_kubernetes_endpoint_port_name]\n\
      \    action: keep\n    regex: knative-monitoring;kube-controller-manager;http-metrics\n\
      \  # Rename metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Kube scheduler\n- job_name: kube-scheduler\n \
      \ kubernetes_sd_configs:\n  - role: endpoints\n  relabel_configs:\n  # Scrape\
      \ only the the targets matching the following metadata\n  - source_labels: [__meta_kubernetes_namespace,\
      \ __meta_kubernetes_service_label_k8s_app, __meta_kubernetes_endpoint_port_name]\n\
      \    action: keep\n    regex: kube-system;kube-scheduler;http-metrics\n  # Rename\
      \ metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Kube state metrics on https-main port\n- job_name:\
      \ kube-state-metrics-https-main\n  honor_labels: true\n  scheme: https\n  kubernetes_sd_configs:\n\
      \  - role: endpoints\n  bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token\n\
      \  tls_config:\n    insecure_skip_verify: true\n  relabel_configs:\n  # Scrape\
      \ only the the targets matching the following metadata\n  - source_labels: [__meta_kubernetes_namespace,\
      \ __meta_kubernetes_service_label_app, __meta_kubernetes_endpoint_port_name]\n\
      \    action: keep\n    regex: knative-monitoring;kube-state-metrics;https-main\n\
      \  # Rename metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Kube state metrics on https-self port\n- job_name:\
      \ kube-state-metrics-https-self\n  scheme: https\n  kubernetes_sd_configs:\n\
      \  - role: endpoints\n  bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token\n\
      \  tls_config:\n    insecure_skip_verify: true\n  relabel_configs:\n  # Scrape\
      \ only the the targets matching the following metadata\n  - source_labels: [__meta_kubernetes_namespace,\
      \ __meta_kubernetes_service_label_app, __meta_kubernetes_endpoint_port_name]\n\
      \    action: keep\n    regex: knative-monitoring;kube-state-metrics;https-self\n\
      \  # Rename metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Kubelet - nodes\n# Rather than connecting directly\
      \ to the node, the scrape is proxied though the\n# Kubernetes apiserver.  This\
      \ means it will work if Prometheus is running out of\n# cluster, or can't connect\
      \ to nodes for some other reason (e.g. because of\n# firewalling).\n- job_name:\
      \ kubernetes-nodes\n  scheme: https\n  tls_config:\n    ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt\n\
      \  bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token\n\
      \  kubernetes_sd_configs:\n  - role: node\n  relabel_configs:\n  - action: labelmap\n\
      \    regex: __meta_kubernetes_node_label_(.+)\n  - target_label: __address__\n\
      \    replacement: kubernetes.default.svc:443\n  - source_labels: [__meta_kubernetes_node_name]\n\
      \    target_label: __metrics_path__\n    replacement: /api/v1/nodes/${1}/proxy/metrics\n\
      # Kubelet - cAdvisor\n#\n# This is required for Kubernetes 1.7.3 and later,\
      \ where cAdvisor metrics\n# (those whose names begin with 'container_') have\
      \ been removed from the\n# Kubelet metrics endpoint.  This job scrapes the cAdvisor\
      \ endpoint to\n# retrieve those metrics.\n#\n# In Kubernetes 1.7.0-1.7.2, these\
      \ metrics are only exposed on the cAdvisor\n# HTTP endpoint; use \"replacement:\
      \ /api/v1/nodes/${1}:4194/proxy/metrics\"\n# in that case (and ensure cAdvisor's\
      \ HTTP server hasn't been disabled with\n# the --cadvisor-port=0 Kubelet flag).\n\
      - job_name: kubernetes-cadvisor\n  scrape_interval: 15s\n  scheme: https\n \
      \ tls_config:\n    ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt\n\
      \  bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token\n\
      \  kubernetes_sd_configs:\n  - role: node\n  relabel_configs:\n  - action: labelmap\n\
      \    regex: __meta_kubernetes_node_label_(.+)\n  - target_label: __address__\n\
      \    replacement: kubernetes.default.svc:443\n  - source_labels: [__meta_kubernetes_node_name]\n\
      \    target_label: __metrics_path__\n    replacement: /api/v1/nodes/${1}/proxy/metrics/cadvisor\n\
      # Node exporter\n- job_name: node-exporter\n  scheme: https\n  kubernetes_sd_configs:\n\
      \  - role: endpoints\n  bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token\n\
      \  tls_config:\n    insecure_skip_verify: true\n  relabel_configs:\n  # Scrape\
      \ only the the targets matching the following metadata\n  - source_labels: [__meta_kubernetes_namespace,\
      \ __meta_kubernetes_service_label_app, __meta_kubernetes_endpoint_port_name]\n\
      \    action: keep\n    regex: knative-monitoring;node-exporter;https\n  # Rename\
      \ metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n# Prometheus\n- job_name: prometheus\n  kubernetes_sd_configs:\n\
      \  - role: endpoints\n  relabel_configs:\n  # Scrape only the the targets matching\
      \ the following metadata\n  - source_labels: [__meta_kubernetes_namespace, __meta_kubernetes_service_label_app,\
      \ __meta_kubernetes_endpoint_port_name]\n    action: keep\n    regex: knative-monitoring;prometheus;web\n\
      \  # Rename metadata labels to be reader friendly\n  - source_labels: [__meta_kubernetes_namespace]\n\
      \    target_label: namespace\n  - source_labels: [__meta_kubernetes_pod_name]\n\
      \    target_label: pod\n  - source_labels: [__meta_kubernetes_service_name]\n\
      \    target_label: service\n\n- job_name: kubernetes-service-endpoints\n  kubernetes_sd_configs:\n\
      \  - role: endpoints\n  relabel_configs:\n  - action: keep\n    regex: true\n\
      \    source_labels:\n    - __meta_kubernetes_service_annotation_prometheus_io_scrape\n\
      \  - action: replace\n    regex: ([^:]+)(?::\\d+)?;(\\d+)\n    replacement:\
      \ $1:$2\n    source_labels:\n    - __address__\n    - __meta_kubernetes_service_annotation_prometheus_io_port\n\
      \    target_label: __address__\n  - action: labelmap\n    regex: __meta_kubernetes_service_label_(.+)\n\
      \  - action: replace\n    source_labels:\n    - __meta_kubernetes_namespace\n\
      \    target_label: kubernetes_namespace\n  - action: replace\n    source_labels:\n\
      \    - __meta_kubernetes_service_name\n    target_label: kubernetes_name"
  kind: ConfigMap
  metadata:
    labels:
      name: prometheus-scrape-config
      serving.knative.dev/release: v0.8.1
    name: prometheus-scrape-config
    namespace: knative-monitoring
- apiVersion: v1
  kind: Service
  metadata:
    labels:
      app: kube-controller-manager
      serving.knative.dev/release: v0.8.1
    name: kube-controller-manager
    namespace: knative-monitoring
  spec:
    clusterIP: None
    ports:
    - name: http-metrics
      port: 10252
      protocol: TCP
      targetPort: 10252
    selector:
      k8s-app: kube-controller-manager
    type: ClusterIP
- apiVersion: v1
  kind: Service
  metadata:
    labels:
      app: prometheus
      serving.knative.dev/release: v0.8.1
    name: prometheus-system-discovery
    namespace: knative-monitoring
  spec:
    clusterIP: None
    ports:
    - name: web
      port: 9090
      protocol: TCP
      targetPort: web
    selector:
      app: prometheus
    sessionAffinity: None
    type: ClusterIP
- apiVersion: v1
  kind: ServiceAccount
  metadata:
    labels:
      serving.knative.dev/release: v0.8.1
    name: prometheus-system
    namespace: knative-monitoring
- apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    labels:
      serving.knative.dev/release: v0.8.1
    name: prometheus-system
    namespace: default
  rules:
  - apiGroups:
    - ''
    resources:
    - nodes
    - services
    - endpoints
    - pods
    verbs:
    - get
    - list
    - watch
  - apiGroups:
    - ''
    resources:
    - configmaps
    verbs:
    - get
- apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    labels:
      serving.knative.dev/release: v0.8.1
    name: prometheus-system
    namespace: knative-monitoring
  rules:
  - apiGroups:
    - ''
    resources:
    - nodes
    - services
    - endpoints
    - pods
    verbs:
    - get
    - list
    - watch
  - apiGroups:
    - ''
    resources:
    - configmaps
    verbs:
    - get
- apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    labels:
      serving.knative.dev/release: v0.8.1
    name: prometheus-system
    namespace: kube-system
  rules:
  - apiGroups:
    - ''
    resources:
    - services
    - endpoints
    - pods
    verbs:
    - get
    - list
    - watch
- apiVersion: apps/v1
  kind: StatefulSet
  metadata:
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: elasticsearch-logging
      kubernetes.io/cluster-service: 'true'
      version: v5.6.4
    name: elasticsearch-logging
    namespace: knative-monitoring
  spec:
    replicas: 2
    selector:
      matchLabels:
        app: elasticsearch-logging
        version: v5.6.4
    serviceName: elasticsearch-logging
    template:
      metadata:
        labels:
          app: elasticsearch-logging
          kubernetes.io/cluster-service: 'true'
          version: v5.6.4
      spec:
        containers:
        - env:
          - name: NAMESPACE
            valueFrom:
              fieldRef:
                fieldPath: metadata.namespace
          image: k8s.gcr.io/elasticsearch:v5.6.4
          name: elasticsearch-logging
          ports:
          - containerPort: 9200
            name: db
            protocol: TCP
          - containerPort: 9300
            name: transport
            protocol: TCP
          resources:
            limits:
              cpu: 1000m
            requests:
              cpu: 100m
          volumeMounts:
          - mountPath: /data
            name: elasticsearch-logging
        initContainers:
        - command:
          - /sbin/sysctl
          - -w
          - vm.max_map_count=262144
          image: alpine:3.6
          name: elasticsearch-logging-init
          securityContext:
            privileged: true
        serviceAccountName: elasticsearch-logging
        volumes:
        - emptyDir: {}
          name: elasticsearch-logging
- apiVersion: rbac.authorization.k8s.io/v1
  kind: Role
  metadata:
    labels:
      serving.knative.dev/release: v0.8.1
    name: prometheus-system
    namespace: istio-system
  rules:
  - apiGroups:
    - ''
    resources:
    - nodes/metrics
    - nodes
    - services
    - endpoints
    - pods
    verbs:
    - get
    - list
    - watch
  - apiGroups:
    - ''
    resources:
    - configmaps
    verbs:
    - get
- apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRole
  metadata:
    labels:
      serving.knative.dev/release: v0.8.1
    name: prometheus-system
    namespace: knative-monitoring
  rules:
  - apiGroups:
    - ''
    resources:
    - nodes/metrics
    - nodes
    - services
    - endpoints
    - pods
    - nodes/proxy
    verbs:
    - get
    - list
    - watch
  - apiGroups:
    - ''
    resources:
    - configmaps
    verbs:
    - get
  - nonResourceURLs:
    - /metrics
    verbs:
    - get
- apiVersion: rbac.authorization.k8s.io/v1
  kind: RoleBinding
  metadata:
    labels:
      serving.knative.dev/release: v0.8.1
    name: prometheus-system
    namespace: default
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: Role
    name: prometheus-system
  subjects:
  - kind: ServiceAccount
    name: prometheus-system
    namespace: knative-monitoring
- apiVersion: rbac.authorization.k8s.io/v1
  kind: RoleBinding
  metadata:
    labels:
      serving.knative.dev/release: v0.8.1
    name: prometheus-system
    namespace: knative-monitoring
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: Role
    name: prometheus-system
  subjects:
  - kind: ServiceAccount
    name: prometheus-system
    namespace: knative-monitoring
- apiVersion: rbac.authorization.k8s.io/v1
  kind: RoleBinding
  metadata:
    labels:
      serving.knative.dev/release: v0.8.1
    name: prometheus-system
    namespace: kube-system
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: Role
    name: prometheus-system
  subjects:
  - kind: ServiceAccount
    name: prometheus-system
    namespace: knative-monitoring
- apiVersion: rbac.authorization.k8s.io/v1
  kind: RoleBinding
  metadata:
    labels:
      serving.knative.dev/release: v0.8.1
    name: prometheus-system
    namespace: istio-system
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: Role
    name: prometheus-system
  subjects:
  - kind: ServiceAccount
    name: prometheus-system
    namespace: knative-monitoring
- apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRoleBinding
  metadata:
    labels:
      serving.knative.dev/release: v0.8.1
    name: prometheus-system
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: ClusterRole
    name: prometheus-system
  subjects:
  - kind: ServiceAccount
    name: prometheus-system
    namespace: knative-monitoring
- apiVersion: v1
  kind: Service
  metadata:
    labels:
      serving.knative.dev/release: v0.8.1
    name: prometheus-system-np
    namespace: knative-monitoring
  spec:
    ports:
    - port: 8080
      targetPort: 9090
    selector:
      app: prometheus
    type: NodePort
- apiVersion: apps/v1
  kind: StatefulSet
  metadata:
    labels:
      serving.knative.dev/release: v0.8.1
    name: prometheus-system
    namespace: knative-monitoring
  spec:
    podManagementPolicy: Parallel
    replicas: 2
    selector:
      matchLabels:
        app: prometheus
    serviceName: prometheus-system
    template:
      metadata:
        labels:
          app: prometheus
          serving.knative.dev/release: v0.8.1
      spec:
        containers:
        - args:
          - --config.file=/etc/prometheus/prometheus.yml
          - --storage.tsdb.path=/prometheus
          - --storage.tsdb.retention=2d
          - --storage.tsdb.no-lockfile
          - --web.enable-lifecycle
          - --web.route-prefix=/
          image: prom/prometheus:v2.2.1
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 10
            httpGet:
              path: /-/healthy
              port: web
              scheme: HTTP
            initialDelaySeconds: 30
            timeoutSeconds: 3
          name: prometheus
          ports:
          - containerPort: 9090
            name: web
            protocol: TCP
          readinessProbe:
            failureThreshold: 10
            httpGet:
              path: /-/ready
              port: web
              scheme: HTTP
            timeoutSeconds: 3
          resources:
            limits:
              memory: 1000Mi
            requests:
              memory: 400Mi
          terminationMessagePath: /dev/termination-log
          volumeMounts:
          - mountPath: /etc/prometheus
            name: prometheus-config-volume
          - mountPath: /prometheus
            name: prometheus-storage-volume
        serviceAccountName: prometheus-system
        terminationGracePeriodSeconds: 600
        volumes:
        - configMap:
            defaultMode: 420
            name: prometheus-scrape-config
          name: prometheus-config-volume
        - emptyDir: {}
          name: prometheus-storage-volume
    updateStrategy:
      type: RollingUpdate
- apiVersion: v1
  kind: Service
  metadata:
    labels:
      serving.knative.dev/release: v0.8.1
    name: zipkin
    namespace: istio-system
  spec:
    ports:
    - name: http
      port: 9411
    selector:
      app: zipkin
- apiVersion: v1
  kind: Service
  metadata:
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: kibana-logging
      kubernetes.io/cluster-service: 'true'
      kubernetes.io/name: Kibana
    name: kibana-logging
    namespace: knative-monitoring
  spec:
    ports:
    - port: 5601
      protocol: TCP
      targetPort: ui
    selector:
      app: kibana-logging
    type: NodePort
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      serving.knative.dev/release: v0.8.1
    name: zipkin
    namespace: istio-system
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: zipkin
    template:
      metadata:
        annotations:
          sidecar.istio.io/inject: 'false'
        labels:
          app: zipkin
          serving.knative.dev/release: v0.8.1
      spec:
        containers:
        - env:
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: STORAGE_TYPE
            value: elasticsearch
          - name: ES_HOSTS
            value: elasticsearch-logging.knative-monitoring.svc.cluster.local:9200
          - name: ES_INDEX
            value: zipkin
          - name: ZIPKIN_UI_LOGS_URL
            value: http://localhost:8001/api/v1/namespaces/knative-monitoring/services/kibana-logging/proxy/app/kibana#/
          image: docker.io/openzipkin/zipkin:2.13.0
          imagePullPolicy: IfNotPresent
          name: zipkin
          ports:
          - containerPort: 9411
          resources:
            limits:
              memory: 1000Mi
            requests:
              memory: 256Mi
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    labels:
      addonmanager.kubernetes.io/mode: Reconcile
      app: kibana-logging
      kubernetes.io/cluster-service: 'true'
    name: kibana-logging
    namespace: knative-monitoring
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: kibana-logging
    template:
      metadata:
        labels:
          app: kibana-logging
      spec:
        containers:
        - env:
          - name: ELASTICSEARCH_URL
            value: http://elasticsearch-logging:9200
          - name: SERVER_BASEPATH
            value: /api/v1/namespaces/knative-monitoring/services/kibana-logging/proxy
          - name: XPACK_MONITORING_ENABLED
            value: 'false'
          - name: XPACK_SECURITY_ENABLED
            value: 'false'
          image: docker.elastic.co/kibana/kibana:5.6.4
          name: kibana-logging
          ports:
          - containerPort: 5601
            name: ui
            protocol: TCP
          resources:
            limits:
              cpu: 1000m
            requests:
              cpu: 100m
- apiVersion: v1
  data:
    100.system.conf: "<system>\n  root_dir /tmp/fluentd-buffers/\n</system>"
    200.containers.input.conf: "# Capture logs from container's stdout/stderr -> Docker\
      \ -> .log in JSON format\n<source>\n  @id containers-stdout-stderr\n  @type\
      \ tail\n  path /var/log/containers/*user-container-*.log,/var/log/containers/*build-step-*.log,/var/log/containers/controller-*controller-*.log,/var/log/containers/webhook-*webhook-*.log,/var/log/containers/*autoscaler-*autoscaler-*.log,/var/log/containers/*queue-proxy-*.log,/var/log/containers/activator-*activator-*.log\n\
      \  pos_file /var/log/containers-stdout-stderr.pos\n  time_format %Y-%m-%dT%H:%M:%S.%NZ\n\
      \  tag raw.kubernetes.*\n  format json\n  read_from_head true\n</source>\n#\
      \ Capture logs from Knative containers' /var/log\n<source>\n  @id containers-var-log\n\
      \  @type tail\n  # **/*/**/* allows path expansion to go through one symlink\
      \ (the one created by the init container)\n  path /var/lib/kubelet/pods/*/volumes/kubernetes.io~empty-dir/knative-internal/**/*/**/*\n\
      \  path_key stream\n  pos_file /var/log/containers-var-log.pos\n  tag raw.kubernetes.*\n\
      \  message_key log\n  read_from_head true\n  <parse>\n    @type multi_format\n\
      \    <pattern>\n      format json\n      time_key fluentd-time # fluentd-time\
      \ is reserved for structured logs\n      time_format %Y-%m-%dT%H:%M:%S.%NZ\n\
      \    </pattern>\n    <pattern>\n      format none\n      message_key log\n \
      \   </pattern>\n  </parse>\n</source>\n# Combine multi line logs which form\
      \ an exception stack trace into a single log entry\n<match raw.kubernetes.**>\n\
      \  @id raw.kubernetes\n  @type detect_exceptions\n  remove_tag_prefix raw\n\
      \  message log\n  stream stream\n  multiline_flush_interval 5\n  max_bytes 500000\n\
      \  max_lines 1000\n</match>\n# Make stream path correct from the container's\
      \ point of view\n<filter kubernetes.var.lib.kubelet.pods.*.volumes.kubernetes.io~empty-dir.knative-internal.*.**>\n\
      \  @type record_transformer\n  enable_ruby true\n  <record>\n    stream /var/log/${record[\"\
      stream\"].scan(/\\/knative-internal\\/[^\\/]+\\/(.*)/).last.last}\n  </record>\n\
      </filter>\n# Add Kubernetes metadata to logs from /var/log/containers\n<filter\
      \ kubernetes.var.log.containers.**>\n  @type kubernetes_metadata\n</filter>\n\
      # Add Kubernetes metadata to logs from /var/lib/kubelet/pods/*/volumes/kubernetes.io~empty-dir/knative-internal/**/*/**/*\n\
      <filter kubernetes.var.lib.kubelet.pods.**>\n  @type kubernetes_metadata\n \
      \ tag_to_kubernetes_name_regexp (?<docker_id>[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12})\\\
      .volumes.kubernetes\\.io~empty-dir\\.knative-internal\\.(?<namespace>[^_]+)_(?<pod_name>[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\\
      .[a-z0-9]([-a-z0-9]*[a-z0-9])?)*)_(?<container_name>user-container)\\..*?$\n\
      </filter>"
    300.forward.input.conf: "# Takes the messages sent over TCP, e.g. request logs\
      \ from Istio\n<source>\n  @type forward\n  port 24224\n</source>"
    900.output.conf: "# Send to Elastic Search\n<match **>\n  @id elasticsearch\n\
      \  @type elasticsearch\n  @log_level info\n  host elasticsearch-logging\n  port\
      \ 9200\n  logstash_format true\n  <buffer>\n    @type file\n    path /var/log/fluentd-buffers/kubernetes.system.buffer\n\
      \    flush_mode interval\n    retry_type exponential_backoff\n    flush_thread_count\
      \ 2\n    flush_interval 5s\n    retry_forever\n    retry_max_interval 30\n \
      \   chunk_limit_size 2M\n    queue_limit_length 8\n    overflow_action block\n\
      \  </buffer>\n</match>"
  kind: ConfigMap
  metadata:
    labels:
      serving.knative.dev/release: v0.8.1
    name: fluentd-ds-config
    namespace: knative-monitoring
- apiVersion: v1
  kind: ServiceAccount
  metadata:
    labels:
      app: fluentd-ds
      serving.knative.dev/release: v0.8.1
    name: fluentd-ds
    namespace: knative-monitoring
kind: List
labels:
