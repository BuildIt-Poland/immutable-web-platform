apiVersion: kubeadm.k8s.io/v1beta1
bootstrapTokens:
- groups:
  - system:bootstrappers:kubeadm:default-node-token
  token: abcdef.0123456789abcdef
  ttl: 24h0m0s
  usages:
  - signing
  - authentication
kind: InitConfiguration
localAPIEndpoint:
  advertiseAddress: 1.2.3.4
  bindPort: 6443
nodeRegistration:
  criSocket: /var/run/dockershim.sock
  name: master-0
  taints:
  - effect: NoSchedule
    key: node-role.kubernetes.io/master
---
apiServer:
  timeoutForControlPlane: 4m0s
apiVersion: kubeadm.k8s.io/v1beta1
certificatesDir: /etc/kubernetes/pki
clusterName: kubernetes
controlPlaneEndpoint: ""
controllerManager: {}
dns:
  type: CoreDNS
etcd:
  local:
    dataDir: /var/lib/etcd
imageRepository: k8s.gcr.io
kind: ClusterConfiguration
kubernetesVersion: v1.14.0
networking:
  dnsDomain: cluster.local
  podSubnet: ""
  serviceSubnet: 10.96.0.0/12
scheduler: {}
---
apiVersion: kubelet.config.k8s.io/v1beta1
kind: KubeletConfiguration
cgroupDriver: systemd


# apiVersion: kubeadm.k8s.io/v1beta2
# kind: InitConfiguration
# ---
# apiVersion: kubeadm.k8s.io/v1beta2
# kind: ClusterConfiguration
# apiServer:
#   extraArgs:
#     advertiseAddress: 0.0.0.0 #172.17.8.101
#     bindPort: 6443
# controllerManager:
#   extraArgs:
#     # cluster-signing-key-file: /home/johndoe/keys/ca.key
#     bind-address: 0.0.0.0 
# ---
# apiVersion: kubelet.config.k8s.io/v1beta1
# kind: KubeletConfiguration
# cgroupDriver: systemd
# ---

# # https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/control-plane-flags/
# apiVersion: kubeadm.k8s.io/v1beta2
# kind: ClusterConfiguration
# kubernetesVersion: stable
# metadata:
#   name: 1.13-sample
# apiServer:
#   extraArgs:
#     advertiseAddress: 0.0.0.0 #172.17.8.101
#     bindPort: 6443
# controllerManager:
#   extraArgs:
#     # cluster-signing-key-file: /home/johndoe/keys/ca.key
#     bind-address: 0.0.0.0
#     deployment-controller-sync-period: 50
# # networking:
# #    dnsDomain: cluster.local
# #    podSubnet: "192.168.0.0/16"
# #    serviceSubnet: 10.96.0.0/12
# # auditPolicy:
# #   logDir: /var/log/kubernetes/audit
# #   logMaxAge: 2
# #   path: ""
# # certificatesDir: /etc/kubernetes/pki
# # clusterName: kubernetes
# # controlPlaneEndpoint: ""
# # etcd:
# #   local:
# #     dataDir: /var/lib/etcd
# #     image: ""
# # imageRepository: k8s.gcr.io
# # unifiedControlPlaneImage: ""
# ---
# apiVersion: kubelet.config.k8s.io/v1beta1
# kind: KubeletConfiguration
# maxOpenFiles: 1000000
# maxPods: 110
# nodeLeaseDurationSeconds: 40
# nodeStatusUpdateFrequency: 10s
# oomScoreAdj: -999
# podPidsLimit: -1
# port: 10250
# registryBurst: 10
# registryPullQPS: 5
# resolvConf: /etc/resolv.conf
# rotateCertificates: true
# runtimeRequestTimeout: 2m0s
# serializeImagePulls: true
# staticPodPath: /etc/kubernetes/manifests
# streamingConnectionIdleTimeout: 4h0m0s
# syncFrequency: 1m0s
# volumeStatsAggPeriod: 1m0s
# cgroupDriver: systemd